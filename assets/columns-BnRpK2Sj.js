const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./esm-C7NRcvAd.js","./precisionRound-BIK1W-Pu.js","./defaultLocale-DEOAvdte.js","./linear-BdKgxuJR.js","./timer-9ePNNBwU.js","./chunk-DZLz74EQ.js","./init-PHOs_KoL.js","./src-BIb7rCUF.js","./time-SXziURV6.js","./defaultLocale-Ca1Ci3kv.js","./range-DCP2k33Q.js","./vega-loader.browser.module-B-icPEAc.js","./treemap-DjDHyFZi.js","./path-DE1VIUo_.js","./colors-CmQtb3K-.js","./ordinal-B8Ce3bue.js","./arc-K25O4dmk.js","./math-Cpuq8NJh.js","./array-pmtsE1gt.js","./step-DCnHyPDa.js","./line-D2-zCSal.js","./fast-deep-equal-BmkHHxS9.js","./esm-C3gGYGcG.js","./prop-types-BdSU55sL.js","./react-BcIddLXZ.js","./tslib.es6-sakIzgHM.js"])))=>i.map(i=>d[i]);
var ri=Object.defineProperty;var ii=(y,U,fe)=>U in y?ri(y,U,{enumerable:!0,configurable:!0,writable:!0,value:fe}):y[U]=fe;var Re=(y,U,fe)=>ii(y,typeof U!="symbol"?U+"":U,fe);import{s as P}from"./chunk-DZLz74EQ.js";import{a as si,c as Ml,d as se,m as Il,o as ui,p as di,r as ci,u as kl}from"./jotai-DDOP7CKM.js";import{t as gi}from"./react-BcIddLXZ.js";import{It as Nl,St as Vl,Ur as mi,Wr as pi,_r as fi,br as Pl,gr as hi,gt as Be,p as xi,vr as wi,wt as bi,zr as Si,__tla as Ci}from"./cells-B6jS0AIj.js";import{n as A,t as yi}from"./jsx-runtime-DvsdsEjx.js";import{t as vi}from"./capitalize-CkrfIDeS.js";import{i as ji,n as Ri,t as Al}from"./loader-g7OmFu5O.js";import{t as Ue}from"./range-CPekNdzi.js";import{a as _e,d as _i,u as we}from"./hotkeys-Lbk6RHir.js";import{t as X}from"./invariant-DPGusy7Z.js";import{r as Fi}from"./utils-DnJCRgaX.js";import{g as Dl,h as Rt,n as Mi}from"./config-BjdJmdrN.js";import{t as El}from"./ErrorBoundary-7JQlouA1.js";import{t as F}from"./cn-C5VTNYKf.js";import{r as Z,t as D}from"./button-nRVaalxL.js";import{rt as Ii}from"./dist-BPcMnGQn.js";import{r as ki,t as Ni}from"./once-Co7xi2Ip.js";import{t as Vi}from"./createReducer-80xvKyHq.js";import{t as zl}from"./requests-D3Z6okhb.js";import{t as Tl}from"./preload-helper-BpItL31i.js";import{t as _t}from"./use-toast-BiL_AQz9.js";import{r as Ol}from"./useTheme-BMknLtnH.js";import{t as I}from"./createLucideIcon-DA8ZBm4D.js";import{_ as Ft,a as Pi,c as Hl,h as Ll,i as We,n as Gl,o as Ai,r as Di,s as ql,t as $l}from"./select-DJ0A_oCR.js";import{a as Ei,n as zi}from"./download-C6eeMKzw.js";import{t as Ti}from"./chevron-right-WxQzIptp.js";import{d as Oi,f as Bl,p as Hi,t as Li,u as Gi}from"./maps-C9sj23qe.js";import{a as qi,i as $i,l as Bi,n as Ke,r as Ui,s as Wi,t as Ki,u as Ye}from"./ansi_up-HmF1kpkv.js";import{a as N,c as be,d as Fe,f as Mt,p as It,r as kt,s as Je,t as Nt,u as Se}from"./dropdown-menu-1SGi7wHR.js";import{t as Ul}from"./copy-CWjpIcfl.js";import{t as Yi}from"./list-filter-pQvV7yyl.js";import{n as Ji,t as Wl}from"./spinner-FaMZ5NTl.js";import{n as Xi,t as Zi}from"./MarimoErrorOutput-okxire5Y.js";import{Ft as Vt,o as Kl,r as Qi}from"./input-BPw9p_8N.js";import{n as es,r as ge}from"./useNonce-DECX9FAH.js";import{t as ts}from"./badge-CFi0nvIx.js";import{t as G}from"./tooltip-BQKXsEoT.js";import{a as ns,n as ls,r as as,t as os}from"./dates-CSR6KU2P.js";import{t as me}from"./context-BMtIGcq8.js";import{t as Xe}from"./useDateFormatter-B6Y_k710.js";import{i as Pt,n as rs,r as L}from"./numbers-Hxwz5HuE.js";import{n as ue}from"./useEvent-d8iQXgui.js";import{n as is}from"./vega-loader.browser.module-B-icPEAc.js";import{t as Ze}from"./copy-DAqXDCGN.js";import{t as Yl}from"./RenderHTML-CUSvJfTV.js";import{n as ss,r as us,t as ds}from"./accordion-BlX0p_kD.js";import{a as Jl,c as Xl,l as cs,n as gs,o as ms,s as ps,t as fs,u as Zl}from"./delay-mount-BvJt70jv.js";import{n as hs}from"./useAsyncData-CsBCDF11.js";import{n as Ql,t as xs}from"./error-banner-RIuTelB8.js";import{t as ws}from"./kbd-CZFOBQmt.js";import{i as At,n as bs,o as Ss,r as Dt,t as Et}from"./popover-BM0PuIZH.js";import{r as Cs}from"./cell-link-D9FNaXGs.js";import{a as ys,o as ea,r as vs,s as js,t as Rs}from"./command-BqJiTpIC.js";import{a as _s,i as Fs,n as Ms,o as zt,r as ta,t as Is}from"./table-mB7CFPse.js";import{t as ks}from"./formats-Q84dqqph.js";import{t as Ns}from"./useIframeCapabilities-w06PAeNM.js";import{i as Vs,n as Ps,r as As,t as Ds}from"./tabs-CwHEUPW2.js";let Tt,Ot,Qe,et,na,Me,Ht,Lt,Gt,la,qt,$t,Bt,Ut,Wt,aa,Kt,oa,Yt,Jt,Xt,ra,Zt,ia,Qt,en,tn,nn,sa,ln,an,pe,on,rn,ua,da,ca,ga,sn,un,dn,cn,Es=Promise.all([(()=>{try{return Ci}catch{}})()]).then(async()=>{var ce;var y=P(gi(),1),U=new WeakMap;function fe(t,e){let n=kl(e),l=gn(n);for(let[a,...o]of t)(!l.has(a)||e!=null&&e.dangerouslyForceHydrate)&&(l.add(a),n.set(a,...o))}let gn,mn,pn,fn,tt,hn,xn,wn,bn,Sn,Cn,yn,vn,jn,Rn,_n,Fn,r;gn=t=>{let e=U.get(t);return e||(e=new WeakSet,U.set(t,e)),e},mn=I("align-justify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]),Ht=I("arrow-down-wide-narrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),pn=I("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),fn=I("brick-wall",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 9v6",key:"199k2o"}],["path",{d:"M16 15v6",key:"8rj2es"}],["path",{d:"M16 3v6",key:"1j6rpj"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M8 15v6",key:"1stoo3"}],["path",{d:"M8 3v6",key:"vlvjmk"}]]),tt=I("bug-play",[["path",{d:"M10 19.655A6 6 0 0 1 6 14v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 3.97",key:"1gnv52"}],["path",{d:"M14 15.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997a1 1 0 0 1-1.517-.86z",key:"1weqy9"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13v-1a3 3 0 0 1 4.18-2.895 3 3 0 0 1 1.821 2.896v1",key:"1dt6cl"}]]),hn=I("chart-column-stacked",[["path",{d:"M11 13H7",key:"t0o9gq"}],["path",{d:"M19 9h-4",key:"rera1j"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"15",y:"5",width:"4",height:"12",rx:"1",key:"q8uenq"}],["rect",{x:"7",y:"8",width:"4",height:"9",rx:"1",key:"sr5ea"}]]),Kt=I("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),xn=I("chart-spline",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16c.5-2 1.5-7 4-7 2 0 2 3 4 3 2.5 0 4.5-5 5-7",key:"lw07rv"}]]),Ot=I("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),cn=I("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),wn=I("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),bn=I("expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]),Sn=I("funnel-plus",[["path",{d:"M13.354 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l1.218-1.348",key:"8mvsmf"}],["path",{d:"M16 6h6",key:"1dogtp"}],["path",{d:"M19 3v6",key:"1ytpjt"}]]),Cn=I("funnel-x",[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]]),Ut=I("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Gt=I("grip-horizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]),yn=I("list-filter-plus",[["path",{d:"M10 18h4",key:"1ulq68"}],["path",{d:"M11 6H3",key:"1u26ik"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"M18 9V3",key:"xwwp7m"}],["path",{d:"M7 12h8",key:"7a1bxv"}]]),vn=I("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),jn=I("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Rn=I("panel-right",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Lt=I("pin-off",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]),Me=I("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),_n=I("text",[["path",{d:"M15 18H3",key:"olowqp"}],["path",{d:"M17 6H3",key:"16j9eg"}],["path",{d:"M21 12H3",key:"2avoz0"}]]),Bt=I("wrap-text",[["path",{d:"m16 16-2 2 2 2",key:"kkc6pm"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["path",{d:"M3 18h7",key:"sq21v6"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]),Fn=P(A(),1),r=P(yi(),1),qt=t=>{let e=(0,Fn.c)(6),{container:n,children:l}=t,a;e:{if(!n){let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=Zl({key:"mo",prepend:!0}),e[0]=c):c=e[0],a=c;break e}let s;if(e[1]!==n){let c=n.querySelector("style");c||(c=document.createElement("style"),n.append(c)),s=Zl({key:"mo",prepend:!0,container:c}),e[1]=n,e[2]=s}else s=e[2];a=s}let o=a,i;return e[3]!==o||e[4]!==l?(i=(0,r.jsx)(cs,{value:o,children:l}),e[3]=o,e[4]=l,e[5]=i):i=e[5],i};var ma=P(A(),1);const Mn=t=>{let e=(0,ma.c)(3),{children:n}=t,{locale:l}=me(),a;return e[0]!==n||e[1]!==l?(a=n(l),e[0]=n,e[1]=l,e[2]=a):a=e[2],a};var pa=P(A(),1);const fa=t=>{let e=(0,pa.c)(25),n,l,a;e[0]===t?(n=e[1],l=e[2],a=e[3]):({children:n,className:l,...a}=t,e[0]=t,e[1]=n,e[2]=l,e[3]=a);let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o={x:0,y:0},e[4]=o):o=e[4];let[i,s]=(0,y.useState)(o),c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c={x:0,y:0},e[5]=c):c=e[5];let u=(0,y.useRef)(c),[g,m]=(0,y.useState)(!1),d;if(e[6]!==i.x||e[7]!==i.y){d=_=>{u.current={x:_.clientX-i.x,y:_.clientY-i.y},m(!0),document.addEventListener("mousemove",C),document.addEventListener("mouseup",v)};let C=_=>{s({x:_.clientX-u.current.x,y:_.clientY-u.current.y})},v=()=>{m(!1),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",v)};e[6]=i.x,e[7]=i.y,e[8]=d}else d=e[8];let f;e[9]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsx)(At,{}),e[9]=f):f=e[9];let w;e[10]!==i.x||e[11]!==i.y?(w={position:"fixed",left:i.x,top:i.y},e[10]=i.x,e[11]=i.y,e[12]=w):w=e[12];let p=`flex items-center justify-center absolute top-0 left-1/2 -translate-x-1/2 ${g?"cursor-grabbing":"cursor-grab"}`,h;e[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)(Gt,{className:"h-5 w-5 mt-1 text-muted-foreground/40"}),e[13]=h):h=e[13];let x;e[14]!==d||e[15]!==p?(x=(0,r.jsx)("div",{onMouseDown:d,className:p,children:h}),e[14]=d,e[15]=p,e[16]=x):x=e[16];let S;e[17]!==n||e[18]!==l||e[19]!==w||e[20]!==x?(S=(0,r.jsxs)(Dt,{className:l,style:w,children:[x,n]}),e[17]=n,e[18]=l,e[19]=w,e[20]=x,e[21]=S):S=e[21];let b;return e[22]!==a||e[23]!==S?(b=(0,r.jsxs)(Et,{...a,children:[f,S]}),e[22]=a,e[23]=S,e[24]=b):b=e[24],b},W={number(t){return{type:"number",...t}},text(t){return{type:"text",...t}},date(t){return{type:"date",...t}},datetime(t){return{type:"datetime",...t}},time(t){return{type:"time",...t}},boolean(t){return{type:"boolean",...t}},select(t){return{type:"select",...t}}};la=function(t,e){if(!e)return[];let n=t;if(e.operator==="is_null"||e.operator==="is_not_null")return{column_id:n,operator:e.operator,value:void 0};switch(e.type){case"number":{let l=[];return e.min!==void 0&&l.push({column_id:n,operator:">=",value:e.min}),e.max!==void 0&&l.push({column_id:n,operator:"<=",value:e.max}),l}case"text":return{column_id:n,operator:e.operator,value:e.text};case"datetime":{let l=[];return e.min!==void 0&&l.push({column_id:n,operator:">=",value:e.min.toISOString()}),e.max!==void 0&&l.push({column_id:n,operator:"<=",value:e.max.toISOString()}),l}case"date":{let l=[];return e.min!==void 0&&l.push({column_id:n,operator:">=",value:e.min.toISOString()}),e.max!==void 0&&l.push({column_id:n,operator:"<=",value:e.max.toISOString()}),l}case"time":{let l=[];return e.min!==void 0&&l.push({column_id:n,operator:">=",value:e.min.toISOString()}),e.max!==void 0&&l.push({column_id:n,operator:"<=",value:e.max.toISOString()}),l}case"boolean":return e.value?{column_id:n,operator:"is_true",value:void 0}:e.value?[]:{column_id:n,operator:"is_false",value:void 0};case"select":return{column_id:n,operator:"in",value:e.options};default:es(e)}};function Q(t,e){return typeof t=="function"?t(e):t}function E(t,e){return n=>{e.setState(l=>({...l,[t]:Q(n,l[t])}))}}function Ie(t){return t instanceof Function}function ha(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function xa(t,e){let n=[],l=a=>{a.forEach(o=>{n.push(o);let i=e(o);i!=null&&i.length&&l(i)})};return l(t),n}function j(t,e,n){let l=[],a;return o=>{let i;n.key&&n.debug&&(i=Date.now());let s=t(o);if(!(s.length!==l.length||s.some((u,g)=>l[g]!==u)))return a;l=s;let c;if(n.key&&n.debug&&(c=Date.now()),a=e(...s),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){let u=Math.round((Date.now()-i)*100)/100,g=Math.round((Date.now()-c)*100)/100,m=g/16,d=(f,w)=>{for(f=String(f);f.length<w;)f=" "+f;return f};console.info(`%c\u23F1 ${d(g,5)} /${d(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return a}}function R(t,e,n,l){return{debug:()=>(t==null?void 0:t.debugAll)??t[e],key:!1,onChange:l}}function wa(t,e,n,l){let a={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(l),renderValue:()=>a.getValue()??t.options.renderFallbackValue,getContext:j(()=>[t,n,e,a],(o,i,s,c)=>({table:o,column:i,row:s,cell:c,getValue:c.getValue,renderValue:c.renderValue}),R(t.options,"debugCells","cell.getContext"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(a,n,e,t)},{}),a}function ba(t,e,n,l){let a={...t._getDefaultColumnDef(),...e},o=a.accessorKey,i=a.id??(o?typeof String.prototype.replaceAll=="function"?o.replaceAll(".","_"):o.replace(/\./g,"_"):void 0)??(typeof a.header=="string"?a.header:void 0),s;if(a.accessorFn?s=a.accessorFn:o&&(s=o.includes(".")?u=>{let g=u;for(let m of o.split("."))g=g==null?void 0:g[m];return g}:u=>u[a.accessorKey]),!i)throw Error();let c={id:`${String(i)}`,accessorFn:s,parent:l,depth:n,columnDef:a,columns:[],getFlatColumns:j(()=>[!0],()=>{var u;return[c,...(u=c.columns)==null?void 0:u.flatMap(g=>g.getFlatColumns())]},R(t.options,"debugColumns","column.getFlatColumns")),getLeafColumns:j(()=>[t._getOrderColumnsFn()],u=>{var g;return(g=c.columns)!=null&&g.length?u(c.columns.flatMap(m=>m.getLeafColumns())):[c]},R(t.options,"debugColumns","column.getLeafColumns"))};for(let u of t._features)u.createColumn==null||u.createColumn(c,t);return c}var T="debugHeaders";function In(t,e,n){let l={id:n.id??e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{let a=[],o=i=>{i.subHeaders&&i.subHeaders.length&&i.subHeaders.map(o),a.push(i)};return o(l),a},getContext:()=>({table:t,header:l,column:e})};return t._features.forEach(a=>{a.createHeader==null||a.createHeader(l,t)}),l}var Sa={createTable:t=>{t.getHeaderGroups=j(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,l,a)=>{let o=(l==null?void 0:l.map(c=>n.find(u=>u.id===c)).filter(Boolean))??[],i=(a==null?void 0:a.map(c=>n.find(u=>u.id===c)).filter(Boolean))??[],s=n.filter(c=>!(l!=null&&l.includes(c.id))&&!(a!=null&&a.includes(c.id)));return ke(e,[...o,...s,...i],t)},R(t.options,T,"getHeaderGroups")),t.getCenterHeaderGroups=j(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,l,a)=>(n=n.filter(o=>!(l!=null&&l.includes(o.id))&&!(a!=null&&a.includes(o.id))),ke(e,n,t,"center")),R(t.options,T,"getCenterHeaderGroups")),t.getLeftHeaderGroups=j(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,l)=>ke(e,(l==null?void 0:l.map(a=>n.find(o=>o.id===a)).filter(Boolean))??[],t,"left"),R(t.options,T,"getLeftHeaderGroups")),t.getRightHeaderGroups=j(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,l)=>ke(e,(l==null?void 0:l.map(a=>n.find(o=>o.id===a)).filter(Boolean))??[],t,"right"),R(t.options,T,"getRightHeaderGroups")),t.getFooterGroups=j(()=>[t.getHeaderGroups()],e=>[...e].reverse(),R(t.options,T,"getFooterGroups")),t.getLeftFooterGroups=j(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),R(t.options,T,"getLeftFooterGroups")),t.getCenterFooterGroups=j(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),R(t.options,T,"getCenterFooterGroups")),t.getRightFooterGroups=j(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),R(t.options,T,"getRightFooterGroups")),t.getFlatHeaders=j(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),R(t.options,T,"getFlatHeaders")),t.getLeftFlatHeaders=j(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),R(t.options,T,"getLeftFlatHeaders")),t.getCenterFlatHeaders=j(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),R(t.options,T,"getCenterFlatHeaders")),t.getRightFlatHeaders=j(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),R(t.options,T,"getRightFlatHeaders")),t.getCenterLeafHeaders=j(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),R(t.options,T,"getCenterLeafHeaders")),t.getLeftLeafHeaders=j(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),R(t.options,T,"getLeftLeafHeaders")),t.getRightLeafHeaders=j(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),R(t.options,T,"getRightLeafHeaders")),t.getLeafHeaders=j(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,l)=>{var a,o,i;return[...((a=e[0])==null?void 0:a.headers)??[],...((o=n[0])==null?void 0:o.headers)??[],...((i=l[0])==null?void 0:i.headers)??[]].map(s=>s.getLeafHeaders()).flat()},R(t.options,T,"getLeafHeaders"))}};function ke(t,e,n,l){var u;let a=0,o=function(g,m){m===void 0&&(m=1),a=Math.max(a,m),g.filter(d=>d.getIsVisible()).forEach(d=>{var f;(f=d.columns)!=null&&f.length&&o(d.columns,m+1)},0)};o(t);let i=[],s=(g,m)=>{let d={depth:m,id:[l,`${m}`].filter(Boolean).join("_"),headers:[]},f=[];g.forEach(w=>{let p=[...f].reverse()[0],h=w.column.depth===d.depth,x,S=!1;if(h&&w.column.parent?x=w.column.parent:(x=w.column,S=!0),p&&(p==null?void 0:p.column)===x)p.subHeaders.push(w);else{let b=In(n,x,{id:[l,m,x.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${f.filter(C=>C.column===x).length}`:void 0,depth:m,index:f.length});b.subHeaders.push(w),f.push(b)}d.headers.push(w),w.headerGroup=d}),i.push(d),m>0&&s(f,m-1)};s(e.map((g,m)=>In(n,g,{depth:a,index:m})),a-1),i.reverse();let c=g=>g.filter(m=>m.column.getIsVisible()).map(m=>{let d=0,f=0,w=[0];m.subHeaders&&m.subHeaders.length?(w=[],c(m.subHeaders).forEach(h=>{let{colSpan:x,rowSpan:S}=h;d+=x,w.push(S)})):d=1;let p=Math.min(...w);return f+=p,m.colSpan=d,m.rowSpan=f,{colSpan:d,rowSpan:f}});return c(((u=i[0])==null?void 0:u.headers)??[]),i}var nt=(t,e,n,l,a,o,i)=>{let s={id:e,index:l,original:n,depth:a,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(s._valuesCache.hasOwnProperty(c))return s._valuesCache[c];let u=t.getColumn(c);if(u!=null&&u.accessorFn)return s._valuesCache[c]=u.accessorFn(s.original,l),s._valuesCache[c]},getUniqueValues:c=>{if(s._uniqueValuesCache.hasOwnProperty(c))return s._uniqueValuesCache[c];let u=t.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(s._uniqueValuesCache[c]=u.columnDef.getUniqueValues(s.original,l),s._uniqueValuesCache[c]):(s._uniqueValuesCache[c]=[s.getValue(c)],s._uniqueValuesCache[c])},renderValue:c=>s.getValue(c)??t.options.renderFallbackValue,subRows:o??[],getLeafRows:()=>xa(s.subRows,c=>c.subRows),getParentRow:()=>s.parentId?t.getRow(s.parentId,!0):void 0,getParentRows:()=>{let c=[],u=s;for(;;){let g=u.getParentRow();if(!g)break;c.push(g),u=g}return c.reverse()},getAllCells:j(()=>[t.getAllLeafColumns()],c=>c.map(u=>wa(t,s,u,u.id)),R(t.options,"debugRows","getAllCells")),_getAllCellsByColumnId:j(()=>[s.getAllCells()],c=>c.reduce((u,g)=>(u[g.column.id]=g,u),{}),R(t.options,"debugRows","getAllCellsByColumnId"))};for(let c=0;c<t._features.length;c++){let u=t._features[c];u==null||u.createRow==null||u.createRow(s,t)}return s},Ca={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},kn=(t,e,n)=>{var l,a;let o=n==null||(l=n.toString())==null?void 0:l.toLowerCase();return!!(!((a=t.getValue(e))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(o))};kn.autoRemove=t=>q(t);var Nn=(t,e,n)=>{var l;return!!(!((l=t.getValue(e))==null||(l=l.toString())==null)&&l.includes(n))};Nn.autoRemove=t=>q(t);var Vn=(t,e,n)=>{var l;return((l=t.getValue(e))==null||(l=l.toString())==null?void 0:l.toLowerCase())===(n==null?void 0:n.toLowerCase())};Vn.autoRemove=t=>q(t);var Pn=(t,e,n)=>{var l;return(l=t.getValue(e))==null?void 0:l.includes(n)};Pn.autoRemove=t=>q(t);var An=(t,e,n)=>!n.some(l=>{var a;return!((a=t.getValue(e))!=null&&a.includes(l))});An.autoRemove=t=>q(t)||!(t!=null&&t.length);var Dn=(t,e,n)=>n.some(l=>{var a;return(a=t.getValue(e))==null?void 0:a.includes(l)});Dn.autoRemove=t=>q(t)||!(t!=null&&t.length);var En=(t,e,n)=>t.getValue(e)===n;En.autoRemove=t=>q(t);var zn=(t,e,n)=>t.getValue(e)==n;zn.autoRemove=t=>q(t);var lt=(t,e,n)=>{let[l,a]=n,o=t.getValue(e);return o>=l&&o<=a};lt.resolveFilterValue=t=>{let[e,n]=t,l=typeof e=="number"?e:parseFloat(e),a=typeof n=="number"?n:parseFloat(n),o=e===null||Number.isNaN(l)?-1/0:l,i=n===null||Number.isNaN(a)?1/0:a;if(o>i){let s=o;o=i,i=s}return[o,i]},lt.autoRemove=t=>q(t)||q(t[0])&&q(t[1]);var ee={includesString:kn,includesStringSensitive:Nn,equalsString:Vn,arrIncludes:Pn,arrIncludesAll:An,arrIncludesSome:Dn,equals:En,weakEquals:zn,inNumberRange:lt};function q(t){return t==null||t===""}var ya={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:E("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{var l;let n=(l=e.getCoreRowModel().flatRows[0])==null?void 0:l.getValue(t.id);return typeof n=="string"?ee.includesString:typeof n=="number"?ee.inNumberRange:typeof n=="boolean"||typeof n=="object"&&n?ee.equals:Array.isArray(n)?ee.arrIncludes:ee.weakEquals},t.getFilterFn=()=>{var n;return Ie(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():((n=e.options.filterFns)==null?void 0:n[t.columnDef.filterFn])??ee[t.columnDef.filterFn]},t.getCanFilter=()=>(t.columnDef.enableColumnFilter??!0)&&(e.options.enableColumnFilters??!0)&&(e.options.enableFilters??!0)&&!!t.accessorFn,t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(l=>l.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n;return((n=e.getState().columnFilters)==null?void 0:n.findIndex(l=>l.id===t.id))??-1},t.setFilterValue=n=>{e.setColumnFilters(l=>{let a=t.getFilterFn(),o=l==null?void 0:l.find(c=>c.id===t.id),i=Q(n,o?o.value:void 0);if(Tn(a,i,t))return(l==null?void 0:l.filter(c=>c.id!==t.id))??[];let s={id:t.id,value:i};return o?(l==null?void 0:l.map(c=>c.id===t.id?s:c))??[]:l!=null&&l.length?[...l,s]:[s]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{let n=t.getAllLeafColumns();t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(l=>{var a;return(a=Q(e,l))==null?void 0:a.filter(o=>{let i=n.find(s=>s.id===o.id);return!(i&&Tn(i.getFilterFn(),o.value,i))})})},t.resetColumnFilters=e=>{var n;t.setColumnFilters(e?[]:((n=t.initialState)==null?void 0:n.columnFilters)??[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function Tn(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||e===void 0||typeof e=="string"&&!e}var at={sum:(t,e,n)=>n.reduce((l,a)=>{let o=a.getValue(t);return l+(typeof o=="number"?o:0)},0),min:(t,e,n)=>{let l;return n.forEach(a=>{let o=a.getValue(t);o!=null&&(l>o||l===void 0&&o>=o)&&(l=o)}),l},max:(t,e,n)=>{let l;return n.forEach(a=>{let o=a.getValue(t);o!=null&&(l<o||l===void 0&&o>=o)&&(l=o)}),l},extent:(t,e,n)=>{let l,a;return n.forEach(o=>{let i=o.getValue(t);i!=null&&(l===void 0?i>=i&&(l=a=i):(l>i&&(l=i),a<i&&(a=i)))}),[l,a]},mean:(t,e)=>{let n=0,l=0;if(e.forEach(a=>{let o=a.getValue(t);o!=null&&(o=+o)>=o&&(++n,l+=o)}),n)return l/n},median:(t,e)=>{if(!e.length)return;let n=e.map(o=>o.getValue(t));if(!ha(n))return;if(n.length===1)return n[0];let l=Math.floor(n.length/2),a=n.sort((o,i)=>o-i);return n.length%2==0?(a[l-1]+a[l])/2:a[l]},unique:(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),uniqueCount:(t,e)=>new Set(e.map(n=>n.getValue(t))).size,count:(t,e)=>e.length},va={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e;return((e=t.getValue())==null||e.toString==null?void 0:e.toString())??null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:E("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(l=>l!==t.id):[...n??[],t.id])},t.getCanGroup=()=>(t.columnDef.enableGrouping??!0)&&(e.options.enableGrouping??!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue),t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{let n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{var l;let n=(l=e.getCoreRowModel().flatRows[0])==null?void 0:l.getValue(t.id);if(typeof n=="number")return at.sum;if(Object.prototype.toString.call(n)==="[object Date]")return at.extent},t.getAggregationFn=()=>{var n;if(!t)throw Error();return Ie(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():((n=e.options.aggregationFns)==null?void 0:n[t.columnDef.aggregationFn])??at[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n;t.setGrouping(e?[]:((n=t.initialState)==null?void 0:n.grouping)??[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];let l=e.getColumn(n);return l!=null&&l.columnDef.getGroupingValue?(t._groupingValuesCache[n]=l.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,l)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var a;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}}};function ja(t,e,n){if(!(e!=null&&e.length)||!n)return t;let l=t.filter(a=>!e.includes(a.id));return n==="remove"?l:[...e.map(a=>t.find(o=>o.id===a)).filter(Boolean),...l]}var Ra={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:E("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=j(n=>[Ce(e,n)],n=>n.findIndex(l=>l.id===t.id),R(e.options,"debugColumns","getIndex")),t.getIsFirstColumn=n=>{var l;return((l=Ce(e,n)[0])==null?void 0:l.id)===t.id},t.getIsLastColumn=n=>{var a;let l=Ce(e,n);return((a=l[l.length-1])==null?void 0:a.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{t.setColumnOrder(e?[]:t.initialState.columnOrder??[])},t._getOrderColumnsFn=j(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,l)=>a=>{let o=[];if(!(e!=null&&e.length))o=a;else{let i=[...e],s=[...a];for(;s.length&&i.length;){let c=i.shift(),u=s.findIndex(g=>g.id===c);u>-1&&o.push(s.splice(u,1)[0])}o=[...o,...s]}return ja(o,n,l)},R(t.options,"debugTable","_getOrderColumnsFn"))}},ot=()=>({left:[],right:[]}),On={getInitialState:t=>({columnPinning:ot(),...t}),getDefaultOptions:t=>({onColumnPinningChange:E("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{let l=t.getLeafColumns().map(a=>a.id).filter(Boolean);e.setColumnPinning(a=>n==="right"?{left:((a==null?void 0:a.left)??[]).filter(o=>!(l!=null&&l.includes(o))),right:[...((a==null?void 0:a.right)??[]).filter(o=>!(l!=null&&l.includes(o))),...l]}:n==="left"?{left:[...((a==null?void 0:a.left)??[]).filter(o=>!(l!=null&&l.includes(o))),...l],right:((a==null?void 0:a.right)??[]).filter(o=>!(l!=null&&l.includes(o)))}:{left:((a==null?void 0:a.left)??[]).filter(o=>!(l!=null&&l.includes(o))),right:((a==null?void 0:a.right)??[]).filter(o=>!(l!=null&&l.includes(o)))})},t.getCanPin=()=>t.getLeafColumns().some(n=>(n.columnDef.enablePinning??!0)&&(e.options.enableColumnPinning??e.options.enablePinning??!0)),t.getIsPinned=()=>{let n=t.getLeafColumns().map(s=>s.id),{left:l,right:a}=e.getState().columnPinning,o=n.some(s=>l==null?void 0:l.includes(s)),i=n.some(s=>a==null?void 0:a.includes(s));return o?"left":i?"right":!1},t.getPinnedIndex=()=>{var n;let l=t.getIsPinned();return l?((n=e.getState().columnPinning)==null||(n=n[l])==null?void 0:n.indexOf(t.id))??-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=j(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,l,a)=>{let o=[...l??[],...a??[]];return n.filter(i=>!o.includes(i.column.id))},R(e.options,"debugRows","getCenterVisibleCells")),t.getLeftVisibleCells=j(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,l)=>(l??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),R(e.options,"debugRows","getLeftVisibleCells")),t.getRightVisibleCells=j(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,l)=>(l??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),R(e.options,"debugRows","getRightVisibleCells"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n;return t.setColumnPinning(e?ot():((n=t.initialState)==null?void 0:n.columnPinning)??ot())},t.getIsSomeColumnsPinned=e=>{var l,a,o;let n=t.getState().columnPinning;return e?!!((l=n[e])!=null&&l.length):!!((a=n.left)!=null&&a.length||(o=n.right)!=null&&o.length)},t.getLeftLeafColumns=j(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(l=>e.find(a=>a.id===l)).filter(Boolean),R(t.options,"debugColumns","getLeftLeafColumns")),t.getRightLeafColumns=j(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(l=>e.find(a=>a.id===l)).filter(Boolean),R(t.options,"debugColumns","getRightLeafColumns")),t.getCenterLeafColumns=j(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,l)=>{let a=[...n??[],...l??[]];return e.filter(o=>!a.includes(o.id))},R(t.options,"debugColumns","getCenterLeafColumns"))}};function _a(t){return t||(typeof document<"u"?document:null)}var Ne={size:150,minSize:20,maxSize:2**53-1},rt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Fa={getDefaultColumnDef:()=>Ne,getInitialState:t=>({columnSizing:{},columnSizingInfo:rt(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:E("columnSizing",t),onColumnSizingInfoChange:E("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{let n=e.getState().columnSizing[t.id];return Math.min(Math.max(t.columnDef.minSize??Ne.minSize,n??t.columnDef.size??Ne.size),t.columnDef.maxSize??Ne.maxSize)},t.getStart=j(n=>[n,Ce(e,n),e.getState().columnSizing],(n,l)=>l.slice(0,t.getIndex(n)).reduce((a,o)=>a+o.getSize(),0),R(e.options,"debugColumns","getStart")),t.getAfter=j(n=>[n,Ce(e,n),e.getState().columnSizing],(n,l)=>l.slice(t.getIndex(n)+1).reduce((a,o)=>a+o.getSize(),0),R(e.options,"debugColumns","getAfter")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:l,...a}=n;return a})},t.getCanResize=()=>(t.columnDef.enableResizing??!0)&&(e.options.enableColumnResizing??!0),t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0,l=a=>{a.subHeaders.length?a.subHeaders.forEach(l):n+=a.column.getSize()??0};return l(t),n},t.getStart=()=>{if(t.index>0){let n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{let l=e.getColumn(t.column.id),a=l==null?void 0:l.getCanResize();return o=>{if(!l||!a||(o.persist==null||o.persist(),it(o)&&o.touches&&o.touches.length>1))return;let i=t.getSize(),s=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[l.id,l.getSize()]],c=it(o)?Math.round(o.touches[0].clientX):o.clientX,u={},g=(x,S)=>{typeof S=="number"&&(e.setColumnSizingInfo(b=>{let C=e.options.columnResizeDirection==="rtl"?-1:1,v=(S-((b==null?void 0:b.startOffset)??0))*C,_=Math.max(v/((b==null?void 0:b.startSize)??0),-.999999);return b.columnSizingStart.forEach(M=>{let[k,V]=M;u[k]=Math.round(Math.max(V+V*_,0)*100)/100}),{...b,deltaOffset:v,deltaPercentage:_}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(b=>({...b,...u})))},m=x=>g("move",x),d=x=>{g("end",x),e.setColumnSizingInfo(S=>({...S,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=_a(n),w={moveHandler:x=>m(x.clientX),upHandler:x=>{f==null||f.removeEventListener("mousemove",w.moveHandler),f==null||f.removeEventListener("mouseup",w.upHandler),d(x.clientX)}},p={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),m(x.touches[0].clientX),!1),upHandler:x=>{var S;f==null||f.removeEventListener("touchmove",p.moveHandler),f==null||f.removeEventListener("touchend",p.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),d((S=x.touches[0])==null?void 0:S.clientX)}},h=Ma()?{passive:!1}:!1;it(o)?(f==null||f.addEventListener("touchmove",p.moveHandler,h),f==null||f.addEventListener("touchend",p.upHandler,h)):(f==null||f.addEventListener("mousemove",w.moveHandler,h),f==null||f.addEventListener("mouseup",w.upHandler,h)),e.setColumnSizingInfo(x=>({...x,startOffset:c,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:l.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{t.setColumnSizing(e?{}:t.initialState.columnSizing??{})},t.resetHeaderSizeInfo=e=>{t.setColumnSizingInfo(e?rt():t.initialState.columnSizingInfo??rt())},t.getTotalSize=()=>{var e;return((e=t.getHeaderGroups()[0])==null?void 0:e.headers.reduce((n,l)=>n+l.getSize(),0))??0},t.getLeftTotalSize=()=>{var e;return((e=t.getLeftHeaderGroups()[0])==null?void 0:e.headers.reduce((n,l)=>n+l.getSize(),0))??0},t.getCenterTotalSize=()=>{var e;return((e=t.getCenterHeaderGroups()[0])==null?void 0:e.headers.reduce((n,l)=>n+l.getSize(),0))??0},t.getRightTotalSize=()=>{var e;return((e=t.getRightHeaderGroups()[0])==null?void 0:e.headers.reduce((n,l)=>n+l.getSize(),0))??0}}},Ve=null;function Ma(){if(typeof Ve=="boolean")return Ve;let t=!1;try{let e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Ve=t,Ve}function it(t){return t.type==="touchstart"}var Ia={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:E("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(l=>({...l,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var l;let n=t.columns;return(n.length?n.some(a=>a.getIsVisible()):(l=e.getState().columnVisibility)==null?void 0:l[t.id])??!0},t.getCanHide=()=>(t.columnDef.enableHiding??!0)&&(e.options.enableHiding??!0),t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=j(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(l=>l.column.getIsVisible()),R(e.options,"debugRows","_getAllVisibleCells")),t.getVisibleCells=j(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,l,a)=>[...n,...l,...a],R(e.options,"debugRows","getVisibleCells"))},createTable:t=>{let e=(n,l)=>j(()=>[l(),l().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),R(t.options,"debugColumns",n));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{t.setColumnVisibility(n?{}:t.initialState.columnVisibility??{})},t.toggleAllColumnsVisible=n=>{n??(n=!t.getIsAllColumnsVisible()),t.setColumnVisibility(t.getAllLeafColumns().reduce((l,a)=>({...l,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var l;t.toggleAllColumnsVisible((l=n.target)==null?void 0:l.checked)}}};function Ce(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}var ka={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},Na={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:E("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;let l=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof l=="string"||typeof l=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>(t.columnDef.enableGlobalFilter??!0)&&(e.options.enableGlobalFilter??!0)&&(e.options.enableFilters??!0)&&((e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))??!0)&&!!t.accessorFn},createTable:t=>{t.getGlobalAutoFilterFn=()=>ee.includesString,t.getGlobalFilterFn=()=>{var n;let{globalFilterFn:e}=t.options;return Ie(e)?e:e==="auto"?t.getGlobalAutoFilterFn():((n=t.options.filterFns)==null?void 0:n[e])??ee[e]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},Va={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:E("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{if(!e){t._queue(()=>{e=!0});return}if(t.options.autoResetAll??t.options.autoResetExpanded??!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=l=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(l),t.toggleAllRowsExpanded=l=>{l??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=l=>{var a;t.setExpanded(l?{}:((a=t.initialState)==null?void 0:a.expanded)??{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(l=>l.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>l=>{l.persist==null||l.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{let l=t.getState().expanded;return l===!0||Object.values(l).some(Boolean)},t.getIsAllRowsExpanded=()=>{let l=t.getState().expanded;return typeof l=="boolean"?l===!0:!(!Object.keys(l).length||t.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},t.getExpandedDepth=()=>{let l=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(a=>{let o=a.split(".");l=Math.max(l,o.length)}),l},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(l=>{let a=l===!0?!0:!!(l!=null&&l[t.id]),o={};if(l===!0?Object.keys(e.getRowModel().rowsById).forEach(i=>{o[i]=!0}):o=l,n??(n=!a),!a&&n)return{...o,[t.id]:!0};if(a&&!n){let{[t.id]:i,...s}=o;return s}return l})},t.getIsExpanded=()=>{let n=e.getState().expanded;return!!((e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))??(n===!0||(n==null?void 0:n[t.id])))},t.getCanExpand=()=>{var n;return(e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))??((e.options.enableExpanding??!0)&&!!((n=t.subRows)!=null&&n.length))},t.getIsAllParentsExpanded=()=>{let n=!0,l=t;for(;n&&l.parentId;)l=e.getRow(l.parentId,!0),n=l.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{let n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},st=0,ut=10,dt=()=>({pageIndex:st,pageSize:ut}),Pa={getInitialState:t=>({...t,pagination:{...dt(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:E("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{if(!e){t._queue(()=>{e=!0});return}if(t.options.autoResetAll??t.options.autoResetPageIndex??!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=l=>t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(a=>Q(l,a)),t.resetPagination=l=>{t.setPagination(l?dt():t.initialState.pagination??dt())},t.setPageIndex=l=>{t.setPagination(a=>{let o=Q(l,a.pageIndex),i=t.options.pageCount===void 0||t.options.pageCount===-1?2**53-1:t.options.pageCount-1;return o=Math.max(0,Math.min(o,i)),{...a,pageIndex:o}})},t.resetPageIndex=l=>{var a;t.setPageIndex(l?st:((a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)??st)},t.resetPageSize=l=>{var a;t.setPageSize(l?ut:((a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)??ut)},t.setPageSize=l=>{t.setPagination(a=>{let o=Math.max(1,Q(l,a.pageSize)),i=a.pageSize*a.pageIndex,s=Math.floor(i/o);return{...a,pageIndex:s,pageSize:o}})},t.setPageCount=l=>t.setPagination(a=>{let o=Q(l,t.options.pageCount??-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...a,pageCount:o}}),t.getPageOptions=j(()=>[t.getPageCount()],l=>{let a=[];return l&&l>0&&(a=[...Array(l)].fill(null).map((o,i)=>i)),a},R(t.options,"debugTable","getPageOptions")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{let{pageIndex:l}=t.getState().pagination,a=t.getPageCount();return a===-1?!0:a===0?!1:l<a-1},t.previousPage=()=>t.setPageIndex(l=>l-1),t.nextPage=()=>t.setPageIndex(l=>l+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>t.options.pageCount??Math.ceil(t.getRowCount()/t.getState().pagination.pageSize),t.getRowCount=()=>t.options.rowCount??t.getPrePaginationRowModel().rows.length}},ct=()=>({top:[],bottom:[]}),Aa={getInitialState:t=>({rowPinning:ct(),...t}),getDefaultOptions:t=>({onRowPinningChange:E("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,l,a)=>{let o=l?t.getLeafRows().map(c=>{let{id:u}=c;return u}):[],i=a?t.getParentRows().map(c=>{let{id:u}=c;return u}):[],s=new Set([...i,t.id,...o]);e.setRowPinning(c=>n==="bottom"?{top:((c==null?void 0:c.top)??[]).filter(u=>!(s!=null&&s.has(u))),bottom:[...((c==null?void 0:c.bottom)??[]).filter(u=>!(s!=null&&s.has(u))),...Array.from(s)]}:n==="top"?{top:[...((c==null?void 0:c.top)??[]).filter(u=>!(s!=null&&s.has(u))),...Array.from(s)],bottom:((c==null?void 0:c.bottom)??[]).filter(u=>!(s!=null&&s.has(u)))}:{top:((c==null?void 0:c.top)??[]).filter(u=>!(s!=null&&s.has(u))),bottom:((c==null?void 0:c.bottom)??[]).filter(u=>!(s!=null&&s.has(u)))})},t.getCanPin=()=>{let{enableRowPinning:n,enablePinning:l}=e.options;return typeof n=="function"?n(t):n??l??!0},t.getIsPinned=()=>{let n=[t.id],{top:l,bottom:a}=e.getState().rowPinning,o=n.some(s=>l==null?void 0:l.includes(s)),i=n.some(s=>a==null?void 0:a.includes(s));return o?"top":i?"bottom":!1},t.getPinnedIndex=()=>{var l,a;let n=t.getIsPinned();return n?((a=(l=n==="top"?e.getTopRows():e.getBottomRows())==null?void 0:l.map(o=>{let{id:i}=o;return i}))==null?void 0:a.indexOf(t.id))??-1:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n;return t.setRowPinning(e?ct():((n=t.initialState)==null?void 0:n.rowPinning)??ct())},t.getIsSomeRowsPinned=e=>{var l,a,o;let n=t.getState().rowPinning;return e?!!((l=n[e])!=null&&l.length):!!((a=n.top)!=null&&a.length||(o=n.bottom)!=null&&o.length)},t._getPinnedRows=(e,n,l)=>(t.options.keepPinnedRows??!0?(n??[]).map(a=>{let o=t.getRow(a,!0);return o.getIsAllParentsExpanded()?o:null}):(n??[]).map(a=>e.find(o=>o.id===a))).filter(Boolean).map(a=>({...a,position:l})),t.getTopRows=j(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),R(t.options,"debugRows","getTopRows")),t.getBottomRows=j(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),R(t.options,"debugRows","getBottomRows")),t.getCenterRows=j(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,l)=>{let a=new Set([...n??[],...l??[]]);return e.filter(o=>!a.has(o.id))},R(t.options,"debugRows","getCenterRows"))}},Da={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:E("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>t.setRowSelection(e?{}:t.initialState.rowSelection??{}),t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=e===void 0?!t.getIsAllRowsSelected():e;let l={...n},a=t.getPreGroupedRowModel().flatRows;return e?a.forEach(o=>{o.getCanSelect()&&(l[o.id]=!0)}):a.forEach(o=>{delete l[o.id]}),l})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{let l=e===void 0?!t.getIsAllPageRowsSelected():e,a={...n};return t.getRowModel().rows.forEach(o=>{gt(a,o.id,l,!0,t)}),a}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=j(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?mt(t,n):{rows:[],flatRows:[],rowsById:{}},R(t.options,"debugTable","getSelectedRowModel")),t.getFilteredSelectedRowModel=j(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?mt(t,n):{rows:[],flatRows:[],rowsById:{}},R(t.options,"debugTable","getFilteredSelectedRowModel")),t.getGroupedSelectedRowModel=j(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?mt(t,n):{rows:[],flatRows:[],rowsById:{}},R(t.options,"debugTable","getGroupedSelectedRowModel")),t.getIsAllRowsSelected=()=>{let e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState(),l=!!(e.length&&Object.keys(n).length);return l&&e.some(a=>a.getCanSelect()&&!n[a.id])&&(l=!1),l},t.getIsAllPageRowsSelected=()=>{let e=t.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=t.getState(),l=!!e.length;return l&&e.some(a=>!n[a.id])&&(l=!1),l},t.getIsSomeRowsSelected=()=>{let e=Object.keys(t.getState().rowSelection??{}).length;return e>0&&e<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{let e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,l)=>{let a=t.getIsSelected();e.setRowSelection(o=>{if(n=n===void 0?!a:n,t.getCanSelect()&&a===n)return o;let i={...o};return gt(i,t.id,n,(l==null?void 0:l.selectChildren)??!0,e),i})},t.getIsSelected=()=>{let{rowSelection:n}=e.getState();return pt(t,n)},t.getIsSomeSelected=()=>{let{rowSelection:n}=e.getState();return ft(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{let{rowSelection:n}=e.getState();return ft(t,n)==="all"},t.getCanSelect=()=>typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):e.options.enableRowSelection??!0,t.getCanSelectSubRows=()=>typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):e.options.enableSubRowSelection??!0,t.getCanMultiSelect=()=>typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):e.options.enableMultiRowSelection??!0,t.getToggleSelectedHandler=()=>{let n=t.getCanSelect();return l=>{var a;n&&t.toggleSelected((a=l.target)==null?void 0:a.checked)}}}},gt=(t,e,n,l,a)=>{var o;let i=a.getRow(e,!0);n?(i.getCanMultiSelect()||Object.keys(t).forEach(s=>delete t[s]),i.getCanSelect()&&(t[e]=!0)):delete t[e],l&&(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(s=>gt(t,s.id,n,l,a))};function mt(t,e){let n=t.getState().rowSelection,l=[],a={},o=function(i,s){return i.map(c=>{var u;let g=pt(c,n);if(g&&(l.push(c),a[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:o(c.subRows)}),g)return c}).filter(Boolean)};return{rows:o(e.rows),flatRows:l,rowsById:a}}function pt(t,e){return e[t.id]??!1}function ft(t,e,n){var l;if(!((l=t.subRows)!=null&&l.length))return!1;let a=!0,o=!1;return t.subRows.forEach(i=>{if(!(o&&!a)&&(i.getCanSelect()&&(pt(i,e)?o=!0:a=!1),i.subRows&&i.subRows.length)){let s=ft(i,e);s==="all"?o=!0:(s==="some"&&(o=!0),a=!1)}}),a?"all":o?"some":!1}var ht=/([0-9]+)/gm,Ea=(t,e,n)=>Hn(te(t.getValue(n)).toLowerCase(),te(e.getValue(n)).toLowerCase()),za=(t,e,n)=>Hn(te(t.getValue(n)),te(e.getValue(n))),Ta=(t,e,n)=>xt(te(t.getValue(n)).toLowerCase(),te(e.getValue(n)).toLowerCase()),Oa=(t,e,n)=>xt(te(t.getValue(n)),te(e.getValue(n))),Ha=(t,e,n)=>{let l=t.getValue(n),a=e.getValue(n);return l>a?1:l<a?-1:0},La=(t,e,n)=>xt(t.getValue(n),e.getValue(n));function xt(t,e){return t===e?0:t>e?1:-1}function te(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function Hn(t,e){let n=t.split(ht).filter(Boolean),l=e.split(ht).filter(Boolean);for(;n.length&&l.length;){let a=n.shift(),o=l.shift(),i=parseInt(a,10),s=parseInt(o,10),c=[i,s].sort();if(isNaN(c[0])){if(a>o)return 1;if(o>a)return-1;continue}if(isNaN(c[1]))return isNaN(i)?-1:1;if(i>s)return 1;if(s>i)return-1}return n.length-l.length}var ye={alphanumeric:Ea,alphanumericCaseSensitive:za,text:Ta,textCaseSensitive:Oa,datetime:Ha,basic:La},Ga=[Sa,Ia,Ra,On,Ca,ya,ka,Na,{getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:E("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{let n=e.getFilteredRowModel().flatRows.slice(10),l=!1;for(let a of n){let o=a==null?void 0:a.getValue(t.id);if(Object.prototype.toString.call(o)==="[object Date]")return ye.datetime;if(typeof o=="string"&&(l=!0,o.split(ht).length>1))return ye.alphanumeric}return l?ye.text:ye.basic},t.getAutoSortDir=()=>{var n;return typeof((n=e.getFilteredRowModel().flatRows[0])==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n;if(!t)throw Error();return Ie(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():((n=e.options.sortingFns)==null?void 0:n[t.columnDef.sortingFn])??ye[t.columnDef.sortingFn]},t.toggleSorting=(n,l)=>{let a=t.getNextSortingOrder(),o=n!=null;e.setSorting(i=>{let s=i==null?void 0:i.find(d=>d.id===t.id),c=i==null?void 0:i.findIndex(d=>d.id===t.id),u=[],g,m=o?n:a==="desc";return g=i!=null&&i.length&&t.getCanMultiSort()&&l?s?"toggle":"add":i!=null&&i.length&&c!==i.length-1?"replace":s?"toggle":"replace",g==="toggle"&&(o||a||(g="remove")),g==="add"?(u=[...i,{id:t.id,desc:m}],u.splice(0,u.length-(e.options.maxMultiSortColCount??2**53-1))):u=g==="toggle"?i.map(d=>d.id===t.id?{...d,desc:m}:d):g==="remove"?i.filter(d=>d.id!==t.id):[{id:t.id,desc:m}],u})},t.getFirstSortDir=()=>t.columnDef.sortDescFirst??e.options.sortDescFirst??t.getAutoSortDir()==="desc"?"desc":"asc",t.getNextSortingOrder=n=>{let l=t.getFirstSortDir(),a=t.getIsSorted();return a?a!==l&&(e.options.enableSortingRemoval??!0)&&(!n||(e.options.enableMultiRemove??!0))?!1:a==="desc"?"asc":"desc":l},t.getCanSort=()=>(t.columnDef.enableSorting??!0)&&(e.options.enableSorting??!0)&&!!t.accessorFn,t.getCanMultiSort=()=>t.columnDef.enableMultiSort??e.options.enableMultiSort??!!t.accessorFn,t.getIsSorted=()=>{var l;let n=(l=e.getState().sorting)==null?void 0:l.find(a=>a.id===t.id);return n?n.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n;return((n=e.getState().sorting)==null?void 0:n.findIndex(l=>l.id===t.id))??-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(l=>l.id!==t.id):[])},t.getToggleSortingHandler=()=>{let n=t.getCanSort();return l=>{n&&(l.persist==null||l.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(l):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n;t.setSorting(e?[]:((n=t.initialState)==null?void 0:n.sorting)??[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},va,Va,Pa,Aa,Da,Fa];function qa(t){let e=[...Ga,...t._features??[]],n={_features:e},l=n._features.reduce((u,g)=>Object.assign(u,g.getDefaultOptions==null?void 0:g.getDefaultOptions(n)),{}),a=u=>n.options.mergeOptions?n.options.mergeOptions(l,u):{...l,...u},o={...t.initialState??{}};n._features.forEach(u=>{o=(u.getInitialState==null?void 0:u.getInitialState(o))??o});let i=[],s=!1,c={_features:e,options:{...l,...t},initialState:o,_queue:u=>{i.push(u),s||(s=!0,Promise.resolve().then(()=>{for(;i.length;)i.shift()();s=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{n.setState(n.initialState)},setOptions:u=>{n.options=a(Q(u,n.options))},getState:()=>n.options.state,setState:u=>{n.options.onStateChange==null||n.options.onStateChange(u)},_getRowId:(u,g,m)=>(n.options.getRowId==null?void 0:n.options.getRowId(u,g,m))??`${m?[m.id,g].join("."):g}`,getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(u,g)=>{let m=(g?n.getPrePaginationRowModel():n.getRowModel()).rowsById[u];if(!m&&(m=n.getCoreRowModel().rowsById[u],!m))throw Error();return m},_getDefaultColumnDef:j(()=>[n.options.defaultColumn],u=>(u??(u={}),{header:g=>{let m=g.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:g=>{var m;return((m=g.renderValue())==null||m.toString==null?void 0:m.toString())??null},...n._features.reduce((g,m)=>Object.assign(g,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...u}),R(t,"debugColumns","_getDefaultColumnDef")),_getColumnDefs:()=>n.options.columns,getAllColumns:j(()=>[n._getColumnDefs()],u=>{let g=function(m,d,f){return f===void 0&&(f=0),m.map(w=>{let p=ba(n,w,f,d),h=w;return p.columns=h.columns?g(h.columns,p,f+1):[],p})};return g(u)},R(t,"debugColumns","getAllColumns")),getAllFlatColumns:j(()=>[n.getAllColumns()],u=>u.flatMap(g=>g.getFlatColumns()),R(t,"debugColumns","getAllFlatColumns")),_getAllFlatColumnsById:j(()=>[n.getAllFlatColumns()],u=>u.reduce((g,m)=>(g[m.id]=m,g),{}),R(t,"debugColumns","getAllFlatColumnsById")),getAllLeafColumns:j(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(u,g)=>g(u.flatMap(m=>m.getLeafColumns())),R(t,"debugColumns","getAllLeafColumns")),getColumn:u=>n._getAllFlatColumnsById()[u]};Object.assign(n,c);for(let u=0;u<n._features.length;u++){let g=n._features[u];g==null||g.createTable==null||g.createTable(n)}return n}nn=function(){return t=>j(()=>[t.options.data],e=>{let n={rows:[],flatRows:[],rowsById:{}},l=function(a,o,i){o===void 0&&(o=0);let s=[];for(let u=0;u<a.length;u++){let g=nt(t,t._getRowId(a[u],u,i),a[u],u,o,void 0,i==null?void 0:i.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,s.push(g),t.options.getSubRows){var c;g.originalSubRows=t.options.getSubRows(a[u],u),(c=g.originalSubRows)!=null&&c.length&&(g.subRows=l(g.originalSubRows,o+1,g))}}return s};return n.rows=l(e),n},R(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))};function $a(t){let e=[],n=l=>{var a;e.push(l),(a=l.subRows)!=null&&a.length&&l.getIsExpanded()&&l.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function Ba(t,e,n){return n.options.filterFromLeafRows?Ua(t,e,n):Wa(t,e,n)}function Ua(t,e,n){let l=[],a={},o=n.options.maxLeafRowFilterDepth??100,i=function(s,c){c===void 0&&(c=0);let u=[];for(let m=0;m<s.length;m++){var g;let d=s[m],f=nt(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(f.columnFilters=d.columnFilters,(g=d.subRows)!=null&&g.length&&c<o){if(f.subRows=i(d.subRows,c+1),d=f,e(d)&&!f.subRows.length){u.push(d),a[d.id]=d,l.push(d);continue}if(e(d)||f.subRows.length){u.push(d),a[d.id]=d,l.push(d);continue}}else d=f,e(d)&&(u.push(d),a[d.id]=d,l.push(d))}return u};return{rows:i(t),flatRows:l,rowsById:a}}function Wa(t,e,n){let l=[],a={},o=n.options.maxLeafRowFilterDepth??100,i=function(s,c){c===void 0&&(c=0);let u=[];for(let m=0;m<s.length;m++){let d=s[m];if(e(d)){var g;if((g=d.subRows)!=null&&g.length&&c<o){let f=nt(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);f.subRows=i(d.subRows,c+1),d=f}u.push(d),l.push(d),a[d.id]=d}}return u};return{rows:i(t),flatRows:l,rowsById:a}}Tt=function(){return t=>j(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,l)=>{if(!e.rows.length||!(n!=null&&n.length)&&!l){for(let m=0;m<e.flatRows.length;m++)e.flatRows[m].columnFilters={},e.flatRows[m].columnFiltersMeta={};return e}let a=[],o=[];(n??[]).forEach(m=>{let d=t.getColumn(m.id);if(!d)return;let f=d.getFilterFn();f&&a.push({id:m.id,filterFn:f,resolvedValue:(f.resolveFilterValue==null?void 0:f.resolveFilterValue(m.value))??m.value})});let i=(n??[]).map(m=>m.id),s=t.getGlobalFilterFn(),c=t.getAllLeafColumns().filter(m=>m.getCanGlobalFilter());l&&s&&c.length&&(i.push("__global__"),c.forEach(m=>{o.push({id:m.id,filterFn:s,resolvedValue:(s.resolveFilterValue==null?void 0:s.resolveFilterValue(l))??l})}));let u,g;for(let m=0;m<e.flatRows.length;m++){let d=e.flatRows[m];if(d.columnFilters={},a.length)for(let f=0;f<a.length;f++){u=a[f];let w=u.id;d.columnFilters[w]=u.filterFn(d,w,u.resolvedValue,p=>{d.columnFiltersMeta[w]=p})}if(o.length){for(let f=0;f<o.length;f++){g=o[f];let w=g.id;if(g.filterFn(d,w,g.resolvedValue,p=>{d.columnFiltersMeta[w]=p})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}return Ba(e.rows,m=>{for(let d=0;d<i.length;d++)if(m.columnFilters[i[d]]===!1)return!1;return!0},t)},R(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))};function Ka(t){return e=>j(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,l)=>{if(!l.rows.length)return l;let{pageSize:a,pageIndex:o}=n,{rows:i,flatRows:s,rowsById:c}=l,u=a*o,g=u+a;i=i.slice(u,g);let m;m=e.options.paginateExpandedRows?{rows:i,flatRows:s,rowsById:c}:$a({rows:i,flatRows:s,rowsById:c}),m.flatRows=[];let d=f=>{m.flatRows.push(f),f.subRows.length&&f.subRows.forEach(d)};return m.rows.forEach(d),m},R(e.options,"debugTable","getPaginationRowModel"))}tn=function(){return t=>j(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;let l=t.getState().sorting,a=[],o=l.filter(c=>{var u;return(u=t.getColumn(c.id))==null?void 0:u.getCanSort()}),i={};o.forEach(c=>{let u=t.getColumn(c.id);u&&(i[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});let s=c=>{let u=c.map(g=>({...g}));return u.sort((g,m)=>{for(let d=0;d<o.length;d+=1){let f=o[d],w=i[f.id],p=w.sortUndefined,h=(f==null?void 0:f.desc)??!1,x=0;if(p){let S=g.getValue(f.id),b=m.getValue(f.id),C=S===void 0,v=b===void 0;if(C||v){if(p==="first")return C?-1:1;if(p==="last")return C?1:-1;x=C&&v?0:C?p:-p}}if(x===0&&(x=w.sortingFn(g,m,f.id)),x!==0)return h&&(x*=-1),w.invertSorting&&(x*=-1),x}return g.index-m.index}),u.forEach(g=>{var m;a.push(g),(m=g.subRows)!=null&&m.length&&(g.subRows=s(g.subRows))}),u};return{rows:s(n.rows),flatRows:a,rowsById:n.rowsById}},R(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))},et=function(t,e){return t?Ya(t)?y.createElement(t,e):t:null};function Ya(t){return Ja(t)||typeof t=="function"||Xa(t)}function Ja(t){return typeof t=="function"&&(()=>{let e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function Xa(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}$t=function(t){let e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=y.useState(()=>({current:qa(e)})),[l,a]=y.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...t,state:{...l,...t.state},onStateChange:i=>{a(i),t.onStateChange==null||t.onStateChange(i)}})),n.current};const Za={getInitialState:t=>({columnFormatting:{},...t}),getDefaultOptions:t=>({enableColumnFormatting:!0,onColumnFormattingChange:E("columnFormatting",t),locale:navigator.language}),createColumn:(t,e)=>{t.getColumnFormatting=()=>e.getState().columnFormatting[t.id],t.getCanFormat=()=>{var n,l;return(e.options.enableColumnFormatting&&((n=t.columnDef.meta)==null?void 0:n.dataType)!=="unknown"&&((l=t.columnDef.meta)==null?void 0:l.dataType)!==void 0)??!1},t.setColumnFormatting=n=>{var l,a;(a=(l=e.options).onColumnFormattingChange)==null||a.call(l,o=>({...o,[t.id]:n}))},t.applyColumnFormatting=n=>{var o,i;let l=(o=t.columnDef.meta)==null?void 0:o.dataType,a=(i=t.getColumnFormatting)==null?void 0:i.call(t);return a?K(n,{format:a,dataType:l,locale:e.options.locale}):n}}},Qa=Ni(t=>({percentFormatter:new Intl.NumberFormat(t,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),dateFormatter:new Intl.DateTimeFormat(t,{dateStyle:"short"}),dateTimeFormatter:new Intl.DateTimeFormat(t,{dateStyle:"short",timeStyle:"long",timeZone:"UTC"}),timeFormatter:new Intl.DateTimeFormat(t,{timeStyle:"long",timeZone:"UTC"}),integerFormatter:new Intl.NumberFormat(t,{maximumFractionDigits:0})})),K=(t,e)=>{let{format:n,dataType:l,locale:a}=e,{percentFormatter:o,dateFormatter:i,dateTimeFormatter:s,timeFormatter:c,integerFormatter:u}=Qa(a);if(t==null||t==="")return"";switch(l){case"time":return t;case"datetime":case"date":{let g=new Date(t);switch(n){case"Date":return i.format(g);case"Datetime":return s.format(g);case"Time":return c.format(g);default:return t}}case"integer":case"number":{let g=Number.parseFloat(t);switch(n){case"Auto":return L(g,a);case"Percent":return o.format(g);case"Scientific":return Pt(g,{shouldRound:!0,locale:a});case"Engineering":return rs(g,a);case"Integer":return u.format(g);default:return t}}case"string":switch(n){case"Uppercase":return t.toUpperCase();case"Lowercase":return t.toLowerCase();case"Capitalize":return t.charAt(0).toUpperCase()+t.slice(1);case"Title":return t.split(" ").map(g=>g.charAt(0).toUpperCase()+g.slice(1).toLowerCase()).join(" ");default:return t}case"boolean":switch(n){case"Yes/No":return t?"Yes":"No";case"On/Off":return t?"On":"Off";default:return t}case void 0:case"unknown":return t;default:return ge(l),t}};function eo(t,e){switch(t){case"Date":return String(K(new Date,{format:"Date",dataType:"date",locale:e}));case"Datetime":return String(K(new Date,{format:"Datetime",dataType:"date",locale:e}));case"Time":return String(K(new Date,{format:"Time",dataType:"date",locale:e}));case"Percent":return String(K(.1234,{format:"Percent",dataType:"number",locale:e}));case"Scientific":return String(K(12345678910,{format:"Scientific",dataType:"number",locale:e}));case"Engineering":return String(K(12345678910,{format:"Engineering",dataType:"number",locale:e}));case"Integer":return String(K(1234.567,{format:"Integer",dataType:"number",locale:e}));case"Auto":return String(K(1234.567,{format:"Auto",dataType:"number",locale:e}));default:return null}}const to={date:["Date","Datetime","Time"],datetime:["Date","Datetime","Time"],time:[],integer:["Auto","Percent","Scientific","Engineering","Integer"],number:["Auto","Percent","Scientific","Engineering","Integer"],string:["Uppercase","Lowercase","Capitalize","Title"],boolean:["Yes/No","On/Off"],unknown:[]};var Ln=P(A(),1);function no(t,e){var i,s,c;let n=(i=t.columnDef.meta)==null?void 0:i.dataType,l=n?to[n]:[];if(l.length===0||!((s=t.getCanFormat)!=null&&s.call(t)))return null;let a=bi[n||"unknown"],o=(c=t.getColumnFormatting)==null?void 0:c.call(t);return(0,r.jsxs)(Se,{children:[(0,r.jsxs)(Mt,{children:[(0,r.jsx)(a,{className:"mo-dropdown-icon"}),"Format"]}),(0,r.jsx)(Je,{children:(0,r.jsxs)(Fe,{children:[(0,r.jsxs)("div",{className:"text-xs text-muted-foreground px-2 py-1",children:["Locale: ",e]}),!!o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N,{variant:"danger",onClick:()=>t.setColumnFormatting(void 0),children:"Clear"},"clear"),(0,r.jsx)(be,{})]}),l.map(u=>(0,r.jsxs)(N,{onClick:()=>t.setColumnFormatting(u),children:[(0,r.jsx)("span",{className:F(o===u&&"font-semibold"),children:u}),(0,r.jsx)("span",{className:"ml-auto pl-5 text-xs text-muted-foreground",children:eo(u,e)})]},u))]})})]})}function lo(t){var e;return!((e=t.getCanWrap)!=null&&e.call(t))||!t.getColumnWrapping?null:t.getColumnWrapping()==="wrap"?(0,r.jsxs)(N,{onClick:()=>t.toggleColumnWrapping("nowrap"),children:[(0,r.jsx)(mn,{className:"mo-dropdown-icon"}),"No wrap text"]}):(0,r.jsxs)(N,{onClick:()=>t.toggleColumnWrapping("wrap"),children:[(0,r.jsx)(Bt,{className:"mo-dropdown-icon"}),"Wrap text"]})}function ao(t){var e;return!((e=t.getCanPin)!=null&&e.call(t))||!t.getIsPinned?null:t.getIsPinned()===!1?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(N,{onClick:()=>t.pin("left"),children:[(0,r.jsx)(Gi,{className:"mo-dropdown-icon"}),"Freeze left"]}),(0,r.jsxs)(N,{onClick:()=>t.pin("right"),children:[(0,r.jsx)(Oi,{className:"mo-dropdown-icon"}),"Freeze right"]})]}):(0,r.jsxs)(N,{onClick:()=>t.pin(!1),children:[(0,r.jsx)(Lt,{className:"mo-dropdown-icon"}),"Unfreeze"]})}function oo(t){var e;return!((e=t.getCanCopy)!=null&&e.call(t))||t.id.startsWith("__m_column__")?null:(0,r.jsxs)(N,{onClick:async()=>await Ze(t.id),children:[(0,r.jsx)(Ul,{className:"mo-dropdown-icon"}),"Copy column name"]})}var Gn=pn,qn=Ht;function ro(t,e){if(!t.getCanSort())return null;let n=t.getIsSorted(),l=t.getSortIndex(),a=e==null?void 0:e.getState().sorting,o=(a==null?void 0:a.length)&&a.length>1,i=()=>(0,r.jsx)("span",{className:"ml-auto text-xs font-medium",children:l+1}),s=()=>n?o?(0,r.jsxs)(N,{onClick:()=>e==null?void 0:e.resetSorting(),children:[(0,r.jsx)(Ye,{className:"mo-dropdown-icon"}),"Clear all sorts"]}):(0,r.jsxs)(N,{onClick:()=>t.clearSorting(),children:[(0,r.jsx)(Ye,{className:"mo-dropdown-icon"}),"Clear sort"]}):null,c=u=>{if(n===u)t.clearSorting();else{let g=u==="desc";t.toggleSorting(g,!0)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(N,{onClick:()=>c("asc"),className:n==="asc"?"bg-accent":"",children:[(0,r.jsx)(Gn,{className:"mo-dropdown-icon"}),"Asc",n==="asc"&&i()]}),(0,r.jsxs)(N,{onClick:()=>c("desc"),className:n==="desc"?"bg-accent":"",children:[(0,r.jsx)(qn,{className:"mo-dropdown-icon"}),"Desc",n==="desc"&&i()]}),s(),(0,r.jsx)(be,{})]})}function io(t){if(!t.getCanSort())return null;let e=t.getIsSorted(),n=t.getFilterValue()!==void 0,l;return l=n&&e?yn:n?Sn:e?e==="desc"?qn:Gn:Ye,(0,r.jsx)(l,{className:"h-3 w-3"})}function so(t){var n;let e=(n=t.columnDef.meta)==null?void 0:n.dtype;return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex-1 px-2 text-xs text-muted-foreground font-bold",children:e}),(0,r.jsx)(be,{})]}):null}const uo=t=>{let e=(0,Ln.c)(5),{column:n}=t,l;e[0]===n?l=e[1]:(l=()=>n.setFilterValue(void 0),e[0]=n,e[1]=l);let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,r.jsx)(Cn,{className:"mo-dropdown-icon"}),e[2]=a):a=e[2];let o;return e[3]===l?o=e[4]:(o=(0,r.jsxs)(N,{onClick:l,children:[a,"Clear filter"]}),e[3]=l,e[4]=o),o};function co(t,e){var n,l;return!t.getCanFilter()||((n=t.columnDef.meta)==null?void 0:n.dataType)==="boolean"||!((l=t.columnDef.meta)!=null&&l.filterType)?null:(0,r.jsx)(Se,{children:(0,r.jsxs)(N,{onClick:()=>e(!0),children:[(0,r.jsx)(Yi,{className:"mo-dropdown-icon"}),"Filter by values"]})})}const wt=t=>{let e=(0,Ln.c)(8),{onApply:n,onClear:l,clearButtonDisabled:a}=t,o;e[0]===n?o=e[1]:(o=(0,r.jsx)(D,{variant:"link",size:"sm",onClick:n,children:"Apply"}),e[0]=n,e[1]=o);let i;e[2]!==a||e[3]!==l?(i=(0,r.jsx)(D,{variant:"linkDestructive",size:"sm",className:"",onClick:l,disabled:a,children:"Clear"}),e[2]=a,e[3]=l,e[4]=i):i=e[4];let s;return e[5]!==o||e[6]!==i?(s=(0,r.jsxs)("div",{className:"flex gap-2 px-2 justify-between",children:[o,i]}),e[5]=o,e[6]=i,e[7]=s):s=e[7],s},go={getInitialState:t=>({columnWrapping:{},...t}),getDefaultOptions:t=>({enableColumnWrapping:!0,onColumnWrappingChange:E("columnWrapping",t)}),createColumn:(t,e)=>{t.getColumnWrapping=()=>e.getState().columnWrapping[t.id]||"nowrap",t.getCanWrap=()=>e.options.enableColumnWrapping??!1,t.toggleColumnWrapping=n=>{var l,a;(a=(l=e.options).onColumnWrappingChange)==null||a.call(l,o=>{let i=o[t.id]||"nowrap";return n?{...o,[t.id]:n}:{...o,[t.id]:i==="nowrap"?"wrap":"nowrap"}})}}};na=function(t){return _e.collect(t,([e])=>e,([,[e]])=>e)},sn="__select__",Qe="_marimo_row_id",aa="too_many";function mo(t){var e,n;if(t)return(n=(e=/^datetime(?:64)?\[[^,]+,([^,]+)]$/.exec(t))==null?void 0:e[1])==null?void 0:n.trim()}function po(t,e){let n=new Map;for(let l of e){if(l.includes("__select__"))continue;let[a]=l.split("_"),o=t.getRow(a);if(!o)continue;let i=o.getAllCells().find(c=>c.id===l);if(!i)continue;let s=n.get(a)??[];s.push(Ae({value:i.getValue()})),n.set(a,s)}return fo([...n.values()])}function fo(t){return t.map(e=>e.join("	")).join(`
`)}function Pe(t,e,n){var x,S;let l=t.getRow(e.rowId),a=t.getRow(n.rowId);if(!l||!a)return[];let o=l.index,i=a.index,s=(x=t.getColumn(e.columnId))==null?void 0:x.getIndex(),c=(S=t.getColumn(n.columnId))==null?void 0:S.getIndex();if(s===void 0||c===void 0)return[];let u=Math.min(o,i),g=Math.max(o,i),m=Math.min(s,c),d=Math.max(s,c),f=[];f.length=(g-u+1)*(d-m+1);let w=0,p=t.getAllColumns().map(b=>b.id),h=t.getRowModel().rows;for(let b=u;b<=g;b++){let C=h[b].id;for(let v=m;v<=d;v++){let _=p[v];f[w++]=ho(C,_)}}return f.length=w,f}function ho(t,e){return`${t}_${e}`}function xo(){return{selectedCells:new Set,copiedCells:new Set,selectedStartCell:null,focusedCell:null,isSelecting:!1}}var{valueAtom:de,useActions:wo,createActions:zs,reducer:Ts}=Vi(xo,{setSelectedCells:(t,e)=>({...t,selectedCells:e}),setSelectedStartCell:(t,e)=>({...t,selectedStartCell:e}),setFocusedCell:(t,e)=>({...t,focusedCell:e}),setIsSelecting:(t,e)=>({...t,isSelecting:e}),setCopiedCells:(t,e)=>({...t,copiedCells:e}),clearSelection:t=>({...t,selectedCells:new Set,selectedStartCell:null,focusedCell:null}),selectAllCells:(t,e)=>{let n=e.getRowModel().rows.flatMap(l=>l.getAllCells().map(a=>a.id));return{...t,selectedCells:new Set(n)}},toggleCurrentRowSelection:(t,e)=>{var l,a;let n=t.focusedCell;return n!=null&&n.rowId&&((a=(l=e.getRow(n==null?void 0:n.rowId))==null?void 0:l.toggleSelected)==null||a.call(l)),t},updateSelection:(t,{newCell:e,isShiftKey:n,table:l})=>{if(n&&t.selectedStartCell){let a=Pe(l,t.selectedStartCell,e);return{...t,selectedCells:new Set(a),focusedCell:e}}else return{...t,selectedCells:new Set([e.cellId]),selectedStartCell:e,focusedCell:e}},updateRangeSelection:(t,{cell:e,table:n})=>{if(!t.selectedStartCell)return t;let l={rowId:e.row.id,columnId:e.column.id,cellId:e.id},a=Pe(n,t.selectedStartCell,l);return a.length>1&&yo(),{...t,selectedCells:new Set(a)}},handleCopy:(t,{table:e,onCopyComplete:n})=>{let l=window.getSelection();return l&&l.toString().length>0?t:(Ze(po(e,t.selectedCells)),n(),{...t,copiedCells:t.selectedCells})},navigate:(t,{direction:e,isShiftKey:n,table:l})=>{let a=t.focusedCell??t.selectedStartCell;if(!a)return t;let o;if(e==="up"||e==="down"){let s=l.getRowModel().rows,c=s.findIndex(g=>g.id===a.rowId);if(c<0)return t;let u=e==="up"?s[c-1]:s[c+1];if(!u)return t;o=u.getAllCells().find(g=>g.column.id===a.columnId)}if(e==="left"||e==="right"){let s=l.getRow(a.rowId).getAllCells(),c=s.findIndex(u=>u.id===a.cellId);if(c<0)return t;o=e==="left"?s[c-1]:s[c+1]}if(!o)return t;let i={rowId:o.row.id,columnId:o.column.id,cellId:o.id};if(n&&t.selectedStartCell){let s=Pe(l,t.selectedStartCell,i);return{...t,selectedCells:new Set(s),focusedCell:i}}else return{...t,selectedCells:new Set([i.cellId]),selectedStartCell:i,focusedCell:i}},handleCellMouseDown:(t,{cell:e,isShiftKey:n,isCtrlKey:l,table:a})=>{let o={rowId:e.row.id,columnId:e.column.id,cellId:e.id};if(n&&t.selectedStartCell){let i=Pe(a,t.selectedStartCell,o);return{...t,selectedCells:new Set(i),isSelecting:!0}}return l?t:t.selectedCells.size===1&&t.selectedCells.has(o.cellId)?{...t,selectedCells:new Set,selectedStartCell:null,focusedCell:null}:{...t,selectedCells:new Set([o.cellId]),selectedStartCell:o,focusedCell:o,isSelecting:!0}}});const bo=se(t=>t(de).selectedCells),So=se(t=>t(de).copiedCells);se(t=>t(de).selectedStartCell),se(t=>t(de).focusedCell),se(t=>t(de).isSelecting);const Co=t=>se(e=>{let n=e(bo),l=e(So);return{isSelected:n.has(t),isCopied:l.has(t)}}),yo=()=>{var t;window.getSelection&&((t=window.getSelection())==null||t.empty())};var vo=P(A(),1);const $n=(0,y.memo)(t=>{let e=(0,vo.c)(9),{cellId:n,className:l}=t,a;e[0]===n?a=e[1]:(a=Co(n),e[0]=n,e[1]=a);let{isSelected:o,isCopied:i}=Ml(a);if(!o&&!i)return null;let s=o&&"bg-(--green-3)",c=i&&"bg-(--green-4) transition-colors duration-150",u;e[2]!==l||e[3]!==s||e[4]!==c?(u=F("absolute inset-0 pointer-events-none",s,c,l),e[2]=l,e[3]=s,e[4]=c,e[5]=u):u=e[5];let g;return e[6]!==n||e[7]!==u?(g=(0,r.jsx)("div",{"data-cell-id":n,className:u}),e[6]=n,e[7]=u,e[8]=g):g=e[8],g});$n.displayName="CellRangeSelectionIndicator";var jo=P(A(),1);const Ro=t=>{let e=(0,jo.c)(30),{table:n}=t,l=wo(),a;e[0]!==l||e[1]!==n?(a=()=>{l.handleCopy({table:n,onCopyComplete:()=>{setTimeout(()=>{l.setCopiedCells(new Set)},500)}})},e[0]=l,e[1]=n,e[2]=a):a=e[2];let o=ue(a),i;e[3]!==l||e[4]!==n?(i=(b,C)=>{l.updateSelection({newCell:b,isShiftKey:C,table:n})},e[3]=l,e[4]=n,e[5]=i):i=e[5];let s=ue(i),c;e[6]!==l||e[7]!==n?(c=(b,C)=>{l.navigate({direction:C,isShiftKey:b.shiftKey,table:n})},e[6]=l,e[7]=n,e[8]=c):c=e[8];let u=ue(c),g;e[9]!==l||e[10]!==o||e[11]!==u||e[12]!==n?(g=b=>{e:switch(b.key){case"c":Z.isMetaOrCtrl(b)&&o();break e;case"ArrowDown":b.preventDefault(),u(b,"down");break e;case"ArrowUp":b.preventDefault(),u(b,"up");break e;case"ArrowLeft":b.preventDefault(),u(b,"left");break e;case"ArrowRight":b.preventDefault(),u(b,"right");break e;case"Enter":b.preventDefault(),l.toggleCurrentRowSelection(n);break e;case"Escape":l.clearSelection();break e;case"a":(b.metaKey||b.ctrlKey)&&(b.preventDefault(),l.selectAllCells(n))}},e[9]=l,e[10]=o,e[11]=u,e[12]=n,e[13]=g):g=e[13];let m=ue(g),d;e[14]!==l||e[15]!==n?(d=(b,C)=>{l.handleCellMouseDown({cell:C,isShiftKey:b.shiftKey,isCtrlKey:b.ctrlKey,table:n})},e[14]=l,e[15]=n,e[16]=d):d=e[16];let f=ue(d),w;e[17]===l?w=e[18]:(w=()=>{l.setIsSelecting(!1)},e[17]=l,e[18]=w);let p=ue(w),h;e[19]!==l||e[20]!==n?(h=(b,C)=>{b.buttons===1&&l.updateRangeSelection({cell:C,table:n})},e[19]=l,e[20]=n,e[21]=h):h=e[21];let x=ue(h),S;return e[22]!==l.clearSelection||e[23]!==f||e[24]!==x||e[25]!==p||e[26]!==m||e[27]!==o||e[28]!==s?(S={handleCellMouseDown:f,handleCellMouseUp:p,handleCellMouseOver:x,handleCopy:o,handleCellsKeyDown:m,updateSelection:s,clearSelection:l.clearSelection},e[22]=l.clearSelection,e[23]=f,e[24]=x,e[25]=p,e[26]=m,e[27]=o,e[28]=s,e[29]=S):S=e[29],S};var _o=P(A(),1),Fo=se(t=>t(de).focusedCell);function Mo(t){let e=(0,_o.c)(2),n;e[0]===t?n=e[1]:(n=l=>{l!=null&&l.cellId&&setTimeout(()=>{var o;let a=(o=t.current)==null?void 0:o.querySelector(`[data-cell-id="${l.cellId}"]`);if(!a){we.warn("[ScrollIntoView] Could not find cell with ID:",l.cellId);return}a.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},0)},e[0]=t,e[1]=n),ci(Fo,n)}function Io(t,e){var l;if(!((l=t.getRowModel().rows)!=null&&l.length))return null;let n=a=>a.map(o=>o.headers.map(i=>{let{className:s,style:c}=Bn(i.column);return(0,r.jsx)(Fs,{className:F("h-auto min-h-10 whitespace-pre align-top",s),style:c,ref:u=>{No(u,t,i.column)},children:i.isPlaceholder?null:et(i.column.columnDef.header,i.getContext())},i.id)}));return(0,r.jsx)(_s,{className:F(e&&"sticky top-0 z-10"),children:(0,r.jsxs)(zt,{children:[n(t.getLeftHeaderGroups()),n(t.getCenterHeaderGroups()),n(t.getRightHeaderGroups())]})})}const ko=({table:t,columns:e,rowViewerPanelOpen:n,getRowIndex:l,viewedRowIdx:a})=>{var w;let o=(0,y.useRef)(null);Mo(o);let{handleCellMouseDown:i,handleCellMouseUp:s,handleCellMouseOver:c,handleCellsKeyDown:u}=Ro({table:t});function g(p,h){let x=/{{(\w+)}}/g,S=new Map;for(let b of h){let C=Ae({value:b.getValue(),nullAsEmptyString:!0});S.set(b.column.id,C)}return p.replaceAll(x,(b,C)=>{let v=S.get(C);return v===void 0?`{{${C}}}`:v})}let m=p=>p.map(h=>{var v,_,M,k;let{className:x,style:S}=Bn(h.column),b=Object.assign({},((v=h.getUserStyling)==null?void 0:v.call(h))||{},S),C=((_=h.getHoverTitle)==null?void 0:_.call(h))??void 0;return(0,r.jsxs)(ta,{tabIndex:0,className:F("whitespace-pre truncate max-w-[300px] outline-hidden",h.column.getColumnWrapping&&((k=(M=h.column).getColumnWrapping)==null?void 0:k.call(M))==="wrap"&&"whitespace-pre-wrap min-w-[200px]","px-1.5 py-[0.18rem]",x),style:b,title:C,onMouseDown:V=>i(V,h),onMouseUp:s,onMouseOver:V=>c(V,h),children:[(0,r.jsx)($n,{cellId:h.id}),(0,r.jsx)("div",{className:"relative",children:et(h.column.columnDef.cell,h.getContext())})]},h.id)}),d=p=>{var h;if(n){let x=(l==null?void 0:l(p.original,p.index))??p.index;(h=p.focusRow)==null||h.call(p,x)}},f=t.getState().cellHoverTemplate||null;return(0,r.jsx)(Ms,{onKeyDown:u,ref:o,children:(w=t.getRowModel().rows)!=null&&w.length?t.getRowModel().rows.map(p=>{var b;let h=n?(l==null?void 0:l(p.original,p.index))??p.index:void 0,x=n&&a===h,S;if(f){let C=((b=p.getVisibleCells)==null?void 0:b.call(p))??[...p.getLeftVisibleCells(),...p.getCenterVisibleCells(),...p.getRightVisibleCells()];S=f?g(f,C):void 0}return(0,r.jsxs)(zt,{"data-state":p.getIsSelected()&&"selected",title:S,className:F("border-t h-6",n&&"cursor-pointer",x&&"bg-(--blue-3) hover:bg-(--blue-3) data-[state=selected]:bg-(--blue-4)"),onClick:()=>d(p),children:[m(p.getLeftVisibleCells()),m(p.getCenterVisibleCells()),m(p.getRightVisibleCells())]},p.id)}):(0,r.jsx)(zt,{children:(0,r.jsx)(ta,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})};function Bn(t){let e=t.getIsPinned(),n=e==="left"&&t.getIsLastColumn("left"),l=e==="right"&&t.getIsFirstColumn("right");return{className:F(e&&"bg-inherit","shadow-r z-10"),style:{boxShadow:n&&t.id!=="__select__"?"-4px 0 4px -4px var(--slate-8) inset":l?"4px 0 4px -4px var(--slate-8) inset":void 0,left:e==="left"?`${t.getStart("left")}px`:void 0,right:e==="right"?`${t.getAfter("right")}px`:void 0,opacity:1,position:e?"sticky":"relative",zIndex:e?1:0,width:t.getSize()}}}function No(t,e,n){t&&e.getState().columnSizing[n.id]!==t.getBoundingClientRect().width&&e.setColumnSizing(l=>({...l,[n.id]:t.getBoundingClientRect().width}))}function Ae(t){let{value:e,nullAsEmptyString:n=!1}=t;return typeof e=="object"&&e?JSON.stringify(e):e===null&&n?"":String(e)}var bt=30;Wt=({column:t,header:e,className:n,calculateTopKRows:l,table:a})=>{let[o,i]=(0,y.useState)(!1),{locale:s}=me();if(!e)return null;if(!t.getCanSort()&&!t.getCanFilter())return(0,r.jsx)("div",{className:F(n),children:e});let c=t.getFilterValue()!==void 0,u=!t.getIsSorted()&&!c;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Nt,{modal:!1,children:[(0,r.jsx)(It,{asChild:!0,children:(0,r.jsxs)("div",{className:F("group flex items-center my-1 space-between w-full select-none gap-2 border hover:border-border border-transparent hover:bg-(--slate-3) data-[state=open]:bg-(--slate-3) data-[state=open]:border-border rounded px-1 -mx-1",n),"data-testid":"data-table-sort-button",children:[(0,r.jsx)("span",{className:"flex-1",children:e}),(0,r.jsx)("span",{className:F("h-5 py-1 px-1",u&&"invisible group-hover:visible data-[state=open]:visible"),children:io(t)})]})}),(0,r.jsxs)(kt,{align:"start",children:[so(t),ro(t,a),oo(t),ao(t),lo(t),no(t,s),(0,r.jsx)(be,{}),Vo(t),co(t,i),c&&(0,r.jsx)(uo,{column:t})]})]}),o&&(0,r.jsx)(Eo,{setIsFilterValueOpen:i,calculateTopKRows:l,column:t})]})};function Vo(t){var l;if(!t.getCanFilter())return null;let e=(l=t.columnDef.meta)==null?void 0:l.filterType;if(!e)return null;let n=(0,r.jsxs)(Mt,{children:[(0,r.jsx)(Ut,{className:"mo-dropdown-icon"}),"Filter"]});return e==="boolean"?(0,r.jsxs)(Se,{children:[n,(0,r.jsx)(Je,{children:(0,r.jsx)(Fe,{children:(0,r.jsx)(Po,{column:t})})})]}):e==="text"?(0,r.jsxs)(Se,{children:[n,(0,r.jsx)(Je,{children:(0,r.jsx)(Fe,{children:(0,r.jsx)(Do,{column:t})})})]}):e==="number"?(0,r.jsxs)(Se,{children:[n,(0,r.jsx)(Je,{children:(0,r.jsx)(Fe,{children:(0,r.jsx)(Ao,{column:t})})})]}):(e==="select"||e==="time"||e==="datetime"||e==="date"||ge(e),null)}var Un={is_null:"is_null",is_not_null:"is_not_null"},Wn=({column:t,defaultItem:e,operator:n,setOperator:l})=>{let a=o=>{l(o),(o==="is_null"||o==="is_not_null")&&t.setFilterValue(W.text({operator:o}))};return(0,r.jsxs)($l,{value:n,onValueChange:o=>a(o),children:[(0,r.jsx)(ql,{className:F("border-border shadow-none! ring-0! w-full mb-0.5",(n==="is_null"||n==="is_not_null")&&"mb-2"),children:(0,r.jsx)(Hl,{defaultValue:n})}),(0,r.jsxs)(Gl,{children:[e&&(0,r.jsx)(We,{value:e,children:vi(e)}),(0,r.jsx)(Ai,{}),(0,r.jsx)(We,{value:Un.is_null,children:"Is null"}),(0,r.jsx)(We,{value:Un.is_not_null,children:"Is not null"})]})]})},Po=({column:t})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N,{onClick:()=>t.setFilterValue(W.boolean({value:!0,operator:"is_true"})),children:"True"}),(0,r.jsx)(N,{onClick:()=>t.setFilterValue(W.boolean({value:!1,operator:"is_false"})),children:"False"}),(0,r.jsx)(be,{}),(0,r.jsx)(N,{onClick:()=>t.setFilterValue(W.boolean({operator:"is_null"})),children:"Is null"}),(0,r.jsx)(N,{onClick:()=>t.setFilterValue(W.boolean({operator:"is_not_null"})),children:"Is not null"})]}),Ao=({column:t})=>{let e=t.getFilterValue(),n=e!==void 0,[l,a]=(0,y.useState)((e==null?void 0:e.operator)??"between"),[o,i]=(0,y.useState)(e==null?void 0:e.min),[s,c]=(0,y.useState)(e==null?void 0:e.max),u=(0,y.useRef)(null),g=(0,y.useRef)(null),m=(d={})=>{t.setFilterValue(W.number({min:d.min??o,max:d.max??s,operator:l==="between"?void 0:l}))};return(0,r.jsxs)("div",{className:"flex flex-col gap-1 pt-3 px-2",children:[(0,r.jsx)(Wn,{column:t,defaultItem:"between",operator:l,setOperator:a}),l==="between"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,r.jsx)(Kl,{ref:u,value:o,onChange:d=>i(d),"aria-label":"min",placeholder:"min",onKeyDown:d=>{var f;d.key==="Enter"&&m({min:Number.parseFloat(d.currentTarget.value)}),d.key==="Tab"&&((f=g.current)==null||f.focus())},className:"shadow-none! border-border hover:shadow-none!"}),(0,r.jsx)(jn,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsx)(Kl,{ref:g,value:s,onChange:d=>c(d),"aria-label":"max",onKeyDown:d=>{var f;d.key==="Enter"&&m({max:Number.parseFloat(d.currentTarget.value)}),d.key==="Tab"&&((f=u.current)==null||f.focus())},placeholder:"max",className:"shadow-none! border-border hover:shadow-none!"})]}),(0,r.jsx)(wt,{onApply:m,onClear:()=>{i(void 0),c(void 0),t.setFilterValue(void 0)},clearButtonDisabled:!n})]})]})},Do=({column:t})=>{let e=t.getFilterValue(),n=e!==void 0,[l,a]=(0,y.useState)((e==null?void 0:e.text)??""),[o,i]=(0,y.useState)((e==null?void 0:e.operator)??"contains"),s=()=>{if(o!=="contains"){t.setFilterValue(W.text({operator:o}));return}if(l===""){t.setFilterValue(void 0);return}t.setFilterValue(W.text({text:l,operator:o}))};return(0,r.jsxs)("div",{className:"flex flex-col gap-1 pt-3 px-2",children:[(0,r.jsx)(Wn,{column:t,defaultItem:"contains",operator:o,setOperator:i}),o==="contains"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Qi,{type:"text",icon:(0,r.jsx)(_n,{className:"h-3 w-3 text-muted-foreground mb-1"}),value:l??"",onChange:c=>a(c.target.value),placeholder:"Text...",onKeyDown:c=>{c.key==="Enter"&&s()},className:"shadow-none! border-border hover:shadow-none!"}),(0,r.jsx)(wt,{onApply:s,onClear:()=>{a(""),t.setFilterValue(void 0)},clearButtonDisabled:!n})]})]})},Eo=({setIsFilterValueOpen:t,calculateTopKRows:e,column:n})=>{let[l,a]=(0,y.useState)(new Set),[o,i]=(0,y.useState)(""),{data:s,isPending:c,error:u}=hs(async()=>e?(await e({column:n.id,k:bt})).data:null,[]),g=(0,y.useMemo)(()=>{if(!s)return[];try{return s.filter(([p,h])=>p===void 0?!1:String(p).toLowerCase().includes(o.toLowerCase()))}catch(p){return we.error("Error filtering data",p),[]}},[s,o]),m;c&&(m=(0,r.jsx)(Wl,{size:"medium",className:"mx-auto mt-12 mb-10"})),u&&(m=(0,r.jsx)(Ql,{error:u,className:"my-10 mx-4"}));let d=p=>{a(h=>{let x=h.has(p),S=new Set(h);return x?S.delete(p):S.add(p),S})},f=p=>{s&&a(p?new Set(g.map(([h])=>h)):new Set)},w=()=>{if(l.size===0){n.setFilterValue(void 0);return}n.setFilterValue(W.select({options:[...l],operator:"in"}))};if(s){let p=l.size===g.length;m=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Rs,{className:"text-sm outline-hidden",shouldFilter:!1,children:[(0,r.jsx)(ys,{placeholder:"Search",autoFocus:!0,onValueChange:h=>i(h.trim())}),(0,r.jsx)(vs,{children:"No results found."}),(0,r.jsxs)(js,{className:"border-b",children:[g.length>0&&(0,r.jsxs)(ea,{value:"__select-all__",className:"border-b rounded-none px-3",onSelect:()=>f(!p),children:[(0,r.jsx)(Be,{checked:l.size===g.length,"aria-label":"Select all",className:"mr-3 h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"font-bold flex-1",children:n.id}),(0,r.jsx)("span",{className:"font-bold",children:"Count"})]}),g.map(([h,x],S)=>{let b=l.has(h),C=Ae({value:h});return(0,r.jsxs)(ea,{value:C,className:"not-last:border-b rounded-none px-3",onSelect:()=>d(h),children:[(0,r.jsx)(Be,{checked:b,"aria-label":"Select row",className:"mr-3 h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"flex-1 overflow-hidden max-h-20 line-clamp-3",children:C}),(0,r.jsx)("span",{className:"ml-3",children:x})]},S)})]}),g.length===bt&&(0,r.jsxs)("span",{className:"text-xs text-muted-foreground mt-1.5 text-center",children:["Only showing the top ",bt," values"]})]}),(0,r.jsx)(wt,{onApply:w,onClear:()=>{a(new Set)},clearButtonDisabled:l.size===0})]})}return(0,r.jsxs)(fa,{open:!0,onOpenChange:p=>!p&&t(!1),className:"w-80 p-0",children:[(0,r.jsx)(bs,{className:"absolute top-2 right-2",children:(0,r.jsx)(D,{variant:"link",size:"sm",onClick:()=>t(!1),children:(0,r.jsx)(Ll,{className:"h-4 w-4"})})}),(0,r.jsx)("div",{className:"flex flex-col gap-1.5 py-2",children:m})]})},De=P(A(),1);const Kn=t=>{let e=(0,De.c)(15),{date:n,type:l,children:a}=t;if(!n||Number.isNaN(new Date(n).getTime()))return a;let o;e[0]===n?o=e[1]:(o=new Date(n),e[0]=n,e[1]=o);let i=o,s;e[2]===i?s=e[3]:(s=(0,r.jsx)("div",{className:"text-muted-foreground mb-2",children:(0,r.jsx)(Oo,{date:i})}),e[2]=i,e[3]=s);let c;e[4]!==i||e[5]!==l?(c=(0,r.jsx)("div",{className:"space-y-1",children:l==="datetime"?(0,r.jsx)(zo,{date:i}):(0,r.jsx)(To,{date:i})}),e[4]=i,e[5]=l,e[6]=c):c=e[6];let u;e[7]!==s||e[8]!==c?(u=(0,r.jsxs)("div",{className:"min-w-[240px] p-1 text-sm",children:[s,c]}),e[7]=s,e[8]=c,e[9]=u):u=e[9];let g=u,m;e[10]===a?m=e[11]:(m=(0,r.jsx)("span",{children:a}),e[10]=a,e[11]=m);let d;return e[12]!==g||e[13]!==m?(d=(0,r.jsx)(G,{content:g,delayDuration:200,children:m}),e[12]=g,e[13]=m,e[14]=d):d=e[14],d};var zo=t=>{let e=(0,De.c)(26),{date:n}=t,{locale:l}=me(),a;e[0]===l?a=e[1]:(a=Intl.DateTimeFormat(l).resolvedOptions(),e[0]=l,e[1]=a);let o=a.timeZone,i=n.getUTCMilliseconds()!==0,s;e[2]===i?s=e[3]:(s=i?{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}:{timeZone:"UTC",dateStyle:"long",timeStyle:"medium"},e[2]=i,e[3]=s);let c=Xe(s),u;e[4]!==i||e[5]!==o?(u=i?{timeZone:o,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}:{timeZone:o,dateStyle:"long",timeStyle:"medium"},e[4]=i,e[5]=o,e[6]=u):u=e[6];let g=Xe(u),m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)("span",{className:"bg-muted rounded-md py-1 px-2 w-fit ml-auto",children:"UTC"}),e[7]=m):m=e[7];let d;e[8]!==n||e[9]!==c?(d=c.format(n),e[8]=n,e[9]=c,e[10]=d):d=e[10];let f;e[11]===d?f=e[12]:(f=(0,r.jsxs)("div",{className:"grid grid-cols-[fit-content(40px)_1fr] gap-4 items-center justify-items-end",children:[m,(0,r.jsx)("span",{children:d})]}),e[11]=d,e[12]=f);let w;e[13]===o?w=e[14]:(w=(0,r.jsx)("span",{className:"bg-muted rounded-md py-1 px-2 w-fit ml-auto",children:o}),e[13]=o,e[14]=w);let p;e[15]!==n||e[16]!==g?(p=g.format(n),e[15]=n,e[16]=g,e[17]=p):p=e[17];let h;e[18]===p?h=e[19]:(h=(0,r.jsx)("span",{children:p}),e[18]=p,e[19]=h);let x;e[20]!==w||e[21]!==h?(x=(0,r.jsxs)("div",{className:"grid grid-cols-[fit-content(40px)_1fr] gap-4 items-center justify-items-end",children:[w,h]}),e[20]=w,e[21]=h,e[22]=x):x=e[22];let S;return e[23]!==x||e[24]!==f?(S=(0,r.jsxs)(r.Fragment,{children:[f,x]}),e[23]=x,e[24]=f,e[25]=S):S=e[25],S},To=t=>{let e=(0,De.c)(6),{date:n}=t,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={timeZone:"UTC",dateStyle:"long"},e[0]=l):l=e[0];let a=Xe(l),o;e[1]!==n||e[2]!==a?(o=a.format(n),e[1]=n,e[2]=a,e[3]=o):o=e[3];let i;return e[4]===o?i=e[5]:(i=(0,r.jsx)("span",{children:o}),e[4]=o,e[5]=i),i},Oo=t=>{let e=(0,De.c)(6),{date:n}=t,{locale:l}=me(),a,o;if(e[0]!==n||e[1]!==l){o=Symbol.for("react.early_return_sentinel");e:{let s=new Intl.RelativeTimeFormat(l,{numeric:"auto"}),c=(new Date().getTime()-n.getTime())/1e3;for(let[u,g,m]of[[60,1,"second"],[60,60,"minute"],[24,3600,"hour"],[365,86400,"day"],[1/0,31536e3,"year"]]){let d=c/g;if(d<u){let f=-Number(d.toFixed(1));o=(0,r.jsx)("span",{children:s.format(f,m)});break e}}a=s.format(0,"second")}e[0]=n,e[1]=l,e[2]=a,e[3]=o}else a=e[2],o=e[3];if(o!==Symbol.for("react.early_return_sentinel"))return o;let i;return e[4]===a?i=e[5]:(i=(0,r.jsx)("span",{children:a}),e[4]=a,e[5]=i),i},Ho=P(A(),1),Lo=t=>{let e=0;for(let n=0;n<t.length;n++){let l=t.charCodeAt(n);e=(e<<5)-e+l,e=Math.trunc(e)}return e},Go=({numBars:t,maxHeight:e,seed:n})=>{let l=[],a=Lo(n);for(let o=0;o<t;o++){a=(a*9301+49297)%233280;let i=a/233280,s=Math.abs(Math.floor(i*e));l.push(s)}return l};const qo=t=>{let e=(0,Ho.c)(11),{seed:n,width:l,height:a}=t,o=l/9,i=a-15,s;if(e[0]!==o||e[1]!==a||e[2]!==n||e[3]!==i||e[4]!==l){let c=Go({numBars:9,maxHeight:i,seed:n}),u;e[6]!==a||e[7]!==l?(u={width:l,height:a},e[6]=a,e[7]=l,e[8]=u):u=e[8];let g;e[9]===o?g=e[10]:(g=(m,d)=>(0,r.jsx)("div",{className:"bg-(--slate-5) animate-pulse",style:{width:o-2,height:m}},d),e[9]=o,e[10]=g),s=(0,r.jsx)("div",{className:"flex items-end gap-px pb-2",style:u,children:c.map(g)}),e[0]=o,e[1]=a,e[2]=n,e[3]=i,e[4]=l,e[5]=s}else s=e[5];return s};var Ee={slate1:"#fcfcfd",slate2:"#f9f9fb",slate3:"#f0f0f3",slate4:"#e8e8ec",slate5:"#e0e1e6",slate6:"#d9d9e0",slate7:"#cdced6",slate8:"#b9bbc6",slate9:"#8b8d98",slate10:"#80838d",slate11:"#60646c",slate12:"#1c2024"},z={mint1:"#f9fefd",mint2:"#f2fbf9",mint3:"#ddf9f2",mint4:"#c8f4e9",mint5:"#b3ecde",mint6:"#9ce0d0",mint7:"#7ecfbd",mint8:"#4cbba5",mint9:"#86ead4",mint10:"#7de0cb",mint11:"#027864",mint12:"#16433c"},he={orange1:"#fefcfb",orange2:"#fff7ed",orange3:"#ffefd6",orange4:"#ffdfb5",orange5:"#ffd19a",orange6:"#ffc182",orange7:"#f5ae73",orange8:"#ec9455",orange9:"#f76b15",orange10:"#ef5f00",orange11:"#cc4e00",orange12:"#582d1d"};function $o(t,e,n){return{...n,layer:[{mark:{type:"bar",color:z.mint11},encoding:{x:{field:t,type:"quantitative",bin:!0},y:{aggregate:"count",type:"quantitative",axis:null}}},{mark:{type:"bar",opacity:0},encoding:{x:{field:t,type:"quantitative",bin:!0,axis:{title:null,labelFontSize:8.5,labelOpacity:.5,labelExpr:"(datum.value >= 10000 || datum.value <= -10000) ? format(datum.value, '.2e') : format(datum.value, '.2~f')"}},y:{aggregate:"max",type:"quantitative",axis:null},tooltip:[{field:t,type:"quantitative",bin:!0,title:t,format:e},{aggregate:"count",type:"quantitative",title:"Count",format:",d"}]}}]}}function Bo(t,e,n,l){let a=e==="date"?"%Y-%m-%d":e==="time"?"%H:%M:%S":"%Y-%m-%dT%H:%M:%S";return{...n,layer:[{mark:{type:"bar",color:z.mint11},encoding:{x:{field:t,type:"temporal",axis:null,bin:!0,scale:l},y:{aggregate:"count",type:"quantitative",axis:null},color:{condition:{test:`datum["bin_maxbins_10_${t}_range"] === "null"`,value:he.orange11},value:z.mint11}}},{mark:{type:"bar",opacity:0},encoding:{x:{field:t,type:"temporal",axis:null,bin:!0,scale:l},y:{aggregate:"max",type:"quantitative",axis:null},tooltip:[{field:`bin_maxbins_10_${t}`,type:"temporal",format:a,bin:{binned:!0},title:`${t} (start)`},{field:`bin_maxbins_10_${t}_end`,type:"temporal",format:a,bin:{binned:!0},title:`${t} (end)`},{aggregate:"count",type:"quantitative",title:"Count",format:",d"}],color:{condition:{test:`datum["bin_maxbins_10_${t}_range"] === "null"`,value:he.orange11},value:z.mint11}}}]}}function Uo(t,e,n){return{...e,mark:{type:"bar",color:z.mint11},encoding:{y:{field:t,type:"nominal",axis:{labelExpr:"datum.label === 'true' || datum.label === 'True'  ? 'True' : 'False'",tickWidth:0,title:null,labelColor:Ee.slate9}},x:{aggregate:"count",type:"quantitative",axis:null,scale:{type:"linear"}},tooltip:[{field:t,type:"nominal",title:"Value"},{aggregate:"count",type:"quantitative",title:"Count",format:",d"}]},layer:[{mark:{type:"bar",color:z.mint11,height:n}},{mark:{type:"text",align:"left",baseline:"middle",dx:3,color:Ee.slate9},encoding:{text:{aggregate:"count",type:"quantitative"}}}]}}var Yn="%-I:%M:%S %p";function Wo(t){var n;if(t.length===0)return{};let e=(n=t.find(l=>l.bin_start!==null))==null?void 0:n.bin_start;if(!e||typeof e=="number"&&e.toString().length===4)return{};if(typeof e=="string"&&e.length===8)return{type:"temporal",timeUnit:"hoursminutesseconds",format:Yn};if(typeof e=="string"&&e.length===10)return{type:"temporal",timeUnit:"yearmonthdate"};if(typeof e=="string"&&e.length===19){let l=e,a=t[t.length-1].bin_end;try{let o=new Date(l);if(new Date(a).getTime()-o.getTime()<1e3*60*60*24)return{type:"temporal",timeUnit:"hoursminutesseconds",format:Yn}}catch(o){we.debug("Error parsing date",o)}return{type:"temporal",timeUnit:"yearmonthdatehoursminutes"}}return we.debug("Unknown time unit",e),{type:"temporal",timeUnit:"yearmonthdate"}}function Jn(t){if(t.length===0)return 1;let e=t.filter(c=>c.bin_start!==null&&c.bin_end!==null);if(e.length===0)return 1;let n=e[0].bin_start,l=e[0].bin_end,a,o;if(typeof n=="number"&&typeof l=="number"){let c=e[0],u=e[e.length-1];a=c.bin_start,o=u.bin_end}else if(typeof n=="string"||typeof l=="string"){let c=e[0],u=e[e.length-1],g=new Date(c.bin_start).getTime(),m=new Date(u.bin_end).getTime();a=g,o=m}else{let c=e[0],u=e[e.length-1];a=c.bin_start.getTime(),o=u.bin_end.getTime()}let i=o-a;if(i===0)return 1;let s=i/e.length;return Math.max(s,1)}var Xn=20,ze=30,Zn=70,Qn=5,Ko="ARROW1";is("arrow",ks);let el;un=(ce=class{constructor(e,n,l,a,o,i){Re(this,"columnStats",new Map);Re(this,"columnBinValues",new Map);Re(this,"columnValueCounts",new Map);if(this.data=e,this.fieldTypes=n,this.stats=l,this.binValues=a,this.valueCounts=o,this.opts=i,typeof this.data=="string")if(this.data.startsWith("./@file")||this.data.startsWith("/@file"))this.dataSpec={url:Mi(this.data).href},this.sourceName="source_0";else if(qi(this.data)){this.sourceName="data_0";let s=Wi($i(this.data));s.startsWith(Ko)?this.dataSpec={values:Ui(s),format:{type:"arrow"}}:this.parseCsv(s)}else this.parseCsv(this.data),this.sourceName="data_0";else this.dataSpec={values:this.data},this.sourceName="source_0";this.columnBinValues=new Map(Object.entries(a)),this.columnValueCounts=new Map(Object.entries(o)),this.columnStats=new Map(Object.entries(l))}getColumnStats(e){return this.columnStats.get(e)}getHeaderSummary(e){return{stats:this.columnStats.get(e),type:this.fieldTypes[e],spec:this.opts.includeCharts?this.getVegaSpec(e):void 0}}parseCsv(e){this.dataSpec={values:Al(e)}}getVegaSpec(e){if(!this.data)return null;let n=this.opts.usePreComputedValues,l=this.columnBinValues.get(e),a=this.columnValueCounts.get(e),o=a&&a.length>0,i=this.dataSpec,s=this.columnStats.get(e);n&&(o?i={values:a,name:"value_counts"}:(s!=null&&s.nulls&&(l==null||l.push({bin_start:null,bin_end:null,count:s.nulls})),i={values:l,name:"bin_values"}));let c={background:"transparent",data:i,config:{view:{stroke:"transparent"},axis:{domain:!1}},height:100},u=this.fieldTypes[e];e=e.replaceAll(".","\\."),e=e.replaceAll("[","\\[").replaceAll("]","\\]"),e=e.replaceAll(":","\\:");let g=this.getScale();switch(u){case"date":case"datetime":case"time":{if(!n)return Bo(e,u,c,g);let m=Jn(l||[]),d=Wo(l||[]);if((l==null?void 0:l.length)===1)return{...c,mark:{type:"bar",color:z.mint11},encoding:{x:{field:"bin_start",type:"nominal",axis:null},y:{field:"count",type:"quantitative",axis:null},tooltip:[{field:"bin_start",type:"temporal",...d,title:`${e} (start)`},{field:"bin_end",type:"temporal",...d,title:`${e} (end)`}]}};let f={height:ze,width:Zn,layer:[{mark:{type:"bar",color:z.mint11,stroke:z.mint11,strokeWidth:0},params:[{name:"hover",select:{type:"point",on:"mouseover",clear:"mouseout"}}],encoding:{x:{field:"bin_start",type:"temporal",bin:{binned:!0,step:m},axis:null},x2:{field:"bin_end",type:"temporal",axis:null},y:{field:"count",type:"quantitative",axis:null},strokeWidth:{condition:{param:"hover",empty:!1,value:.5},value:0}}},{mark:{type:"bar",opacity:0},encoding:{x:{field:"bin_start",type:"temporal",bin:{binned:!0,step:m},axis:null},x2:{field:"bin_end",type:"temporal",bin:{binned:!0,step:m},axis:null},y:{aggregate:"max",type:"quantitative",axis:null},tooltip:[{field:"bin_start",type:"temporal",...d,title:`${e} (start)`},{field:"bin_end",type:"temporal",...d,title:`${e} (end)`},{field:"count",type:"quantitative",title:"Count",format:",d"}]}}]},w={height:ze,width:Qn,layer:[{mark:{type:"bar",color:he.orange11},encoding:{x:{field:"bin_start",type:"nominal",axis:null},y:{field:"count",type:"quantitative",axis:null}}},{mark:{type:"bar",opacity:0},encoding:{x:{field:"bin_start",type:"nominal",axis:null},y:{aggregate:"max",type:"quantitative",axis:null},tooltip:[{field:"count",type:"quantitative",title:"nulls",format:",d"}]}}],transform:[{filter:"datum['bin_start'] === null && datum['bin_end'] === null"}]},p=f,h=c;return s!=null&&s.nulls&&(h={...c,config:{...c.config,concat:{spacing:0}},resolve:{scale:{y:"shared"}}},p={hconcat:[w,f]}),{...h,...p}}case"integer":case"number":{let m=u==="integer"?",d":".2f",d=Jn(l||[]);if(!n)return $o(e,m,c);let f=this.columnStats.get(e),w={height:ze,width:Zn,layer:[{mark:{type:"bar",color:z.mint11,stroke:z.mint11,strokeWidth:0},params:[{name:"hover",select:{type:"point",on:"mouseover",clear:"mouseout"}}],encoding:{x:{field:"bin_start",type:"quantitative",bin:{binned:!0,step:d}},x2:{field:"bin_end",axis:null},y:{field:"count",type:"quantitative",axis:null},strokeWidth:{condition:{param:"hover",empty:!1,value:.5},value:0}}},{mark:{type:"bar",opacity:0},encoding:{x:{field:"bin_start",type:"quantitative",bin:{binned:!0,step:d},axis:{title:null,labelFontSize:8.5,labelOpacity:.5,labelExpr:"(datum.value >= 10000 || datum.value <= -10000) ? format(datum.value, '.2e') : format(datum.value, '.2~f')",values:[f==null?void 0:f.min,f==null?void 0:f.p25,f==null?void 0:f.median,f==null?void 0:f.p75,f==null?void 0:f.p95,f==null?void 0:f.max].filter(S=>S!==void 0)}},x2:{field:"bin_end"},y:{aggregate:"max",type:"quantitative",axis:null},tooltip:[{field:"bin_range",type:"nominal",title:e},{field:"count",type:"quantitative",title:"Count",format:",d"}]},transform:[{calculate:`format(datum.bin_start, '${m}') + ' - ' + format(datum.bin_end, '${m}')`,as:"bin_range"}]}]},p={height:ze,width:Qn,layer:[{mark:{type:"bar",color:he.orange11},encoding:{x:{field:"bin_start",type:"nominal",axis:null},y:{field:"count",type:"quantitative",axis:null}}},{mark:{type:"bar",opacity:0},encoding:{x:{field:"bin_start",type:"nominal",axis:null},y:{aggregate:"max",type:"quantitative",axis:null},tooltip:[{field:"count",type:"quantitative",title:"nulls",format:",d"}]}}],transform:[{filter:"datum['bin_start'] === null && datum['bin_end'] === null"}]},h=w,x=c;return f!=null&&f.nulls&&(x={...c,config:{...c.config,concat:{spacing:0}},resolve:{scale:{y:"shared"}}},h={hconcat:[p,w]}),{...x,...h}}case"boolean":{if(!n||!(s!=null&&s.true)||!(s!=null&&s.false))return Uo(e,c,Xn);let m=s!=null&&s.nulls?11:Xn,d=[{value:"true",count:s.true},{value:"false",count:s.false}];s!=null&&s.nulls&&d.push({value:"null",count:s.nulls});let f={field:"count",type:"quantitative",format:",d"},w=[],p=Number(s.total)||Number(s.true)+Number(s.false)+Number(s.nulls);return Number.isNaN(p)||(f={field:"count_with_percent",type:"nominal",title:"Count"},w=[{calculate:`format(datum.count, ',d') + ' (' + format(datum.count / ${p} * 100, '.1f') + '%)'`,as:"count_with_percent"}]),{...c,data:{values:d,name:"boolean_values"},mark:{type:"bar",color:z.mint11},encoding:{y:{field:"value",type:"nominal",sort:["true","false","null"],scale:s!=null&&s.nulls?{paddingInner:1}:void 0,axis:{labelExpr:"datum.label === 'true' || datum.label === 'True'  ? 'True' : datum.label === 'false' || datum.label === 'False' ? 'False' : 'Null'",tickWidth:0,title:null,labelColor:Ee.slate9}},x:{field:"count",type:"quantitative",axis:null,scale:{type:"linear"}},color:{field:"value",type:"nominal",scale:{domain:["true","false","null"],range:[z.mint11,z.mint11,he.orange11]},legend:null},tooltip:[{field:"value",type:"nominal",title:e},f]},transform:w,layer:[{mark:{type:"bar",color:z.mint11,height:m}},{mark:{type:"text",align:"left",baseline:"middle",dx:3,color:Ee.slate9},encoding:{text:{field:"count",type:"quantitative",format:",d"}}}]}}case"string":{if(!n||!o)return null;let m=Number(s==null?void 0:s.total)||a.reduce((S,b)=>S+b.count,0),d="value",f=[],w=0;for(let S of a){let b=w+S.count,C=(w+b)/2,v=(b-w)/m;f.push({count:S.count,value:S.value,xStart:w,xEnd:b,xMid:C,proportion:v}),w=b}let p=[{calculate:m?`datum.count / ${m}`:"0",as:"percent"}],h={mark:{type:"bar"},params:[{name:"hover_bar",select:{type:"point",on:"mouseover",clear:"mouseout"}}],encoding:{x:{field:"xStart",type:"quantitative",axis:null},x2:{field:"xEnd",type:"quantitative"},color:{condition:[{param:"hover_bar",value:z.mint11},{test:`datum.${d} == "None" || datum.${d} == "null"`,value:he.orange11}],value:z.mint8,legend:null},tooltip:[{field:d,type:"nominal",title:e},{field:"count_with_percent",type:"nominal",title:"Count"}]},transform:[{calculate:`format(datum.count, ',d') + ' (' + format(datum.count / ${m} * 100, '.1f') + '%)'`,as:"count_with_percent"}]},x={mark:{type:"text",color:"white",fontSize:8.5,ellipsis:" ",clip:!0},encoding:{x:{field:"xMid",type:"quantitative",axis:null},text:{field:"clipped_text"}},transform:[{calculate:`datum.proportion > 0.5 ? slice(datum.${d}, 0, 8) : datum.proportion > 0.2 ? slice(datum.${d}, 0, 3) : datum.proportion > 0.1 ? slice(datum.${d}, 0, 1) : ''`,as:"clipped_text"}]};return{...c,data:{values:f,name:"value_counts"},layer:[h,x],transform:p}}case"unknown":return null;default:return ge(u),null}}getScale(){return{align:0,paddingInner:0,paddingOuter:{expr:`length(data('${this.sourceName}')) == 2 ? 1 : length(data('${this.sourceName}')) == 3 ? 0.5 : length(data('${this.sourceName}')) == 4 ? 0 : 0`}}}},Re(ce,"EMPTY",new ce([],{},{},{},{},{includeCharts:!1,usePreComputedValues:!1})),ce),el=P(A(),1),Jt=y.createContext(un.EMPTY);var Yo=y.lazy(()=>Tl(()=>import("./esm-C7NRcvAd.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url).then(t=>({default:t.VegaLite}))),Jo=ji();const Xo=t=>{let e=(0,el.c)(19),{columnId:n}=t,{locale:l}=me(),a=y.use(Jt),{theme:o}=Ol(),i,s,c;if(e[0]!==a||e[1]!==n||e[2]!==l||e[3]!==o){let{spec:g,type:m,stats:d}=a.getHeaderSummary(n),f=null;if(g){let h;e[7]===n?h=e[8]:(h=(0,r.jsx)(qo,{seed:n,width:80,height:40}),e[7]=n,e[8]=h);let x=h,S;e[9]===Symbol.for("react.memo_cache_sentinel")?(S={minWidth:"unset",maxHeight:"40px"},e[9]=S):S=e[9];let b=(0,r.jsx)(y.Suspense,{fallback:x,children:(0,r.jsx)(Yo,{spec:g,width:70,height:30,renderer:"svg",loader:Jo,style:S,actions:!1,theme:o==="dark"?"dark":"vox"})}),C;e[10]!==x||e[11]!==b?(C=(0,r.jsx)(fs,{milliseconds:200,visibility:!0,rootMargin:"200px",fallback:x,children:b}),e[10]=x,e[11]=b,e[12]=C):C=e[12],f=C}let w;e[13]===l?w=e[14]:(w=(h,x)=>(0,r.jsx)(Kn,{date:h,type:x,children:as(h,x,l)}),e[13]=l,e[14]=w);let p=w;i="flex flex-col items-center text-xs text-muted-foreground align-end",s=f,c=(()=>{if(!d)return null;switch(m){case"date":case"datetime":return g?(0,r.jsxs)("div",{className:"flex justify-between w-full px-2 whitespace-pre",children:[(0,r.jsx)("span",{children:p(d.min,m)}),d.min===d.max?null:(0,r.jsxs)("span",{children:["-",p(d.max,m)]})]}):(0,r.jsxs)("div",{className:"flex flex-col whitespace-pre",children:[(0,r.jsxs)("span",{children:["min: ",p(d.min,m)]}),(0,r.jsxs)("span",{children:["max: ",p(d.max,m)]}),(0,r.jsxs)("span",{children:["unique: ",L(d.unique,l)]})]});case"integer":case"number":return g?null:(0,r.jsxs)("div",{className:"flex flex-col whitespace-pre",children:[(0,r.jsxs)("span",{children:["min:"," ",typeof d.min=="number"?Pt(d.min,{shouldRound:!0,locale:l}):d.min]}),(0,r.jsxs)("span",{children:["max:"," ",typeof d.max=="number"?Pt(d.max,{shouldRound:!0,locale:l}):d.max]}),(0,r.jsxs)("span",{children:["unique: ",L(d.unique,l)]})]});case"boolean":return g?null:(0,r.jsxs)("div",{className:"flex flex-col whitespace-pre",children:[(0,r.jsxs)("span",{children:["true: ",L(d.true,l)]}),(0,r.jsxs)("span",{children:["false: ",L(d.false,l)]})]});case"time":return null;case"string":return g?null:(0,r.jsx)("div",{className:"flex flex-col whitespace-pre",children:(0,r.jsxs)("span",{children:["unique: ",L(d.unique,l)]})});case"unknown":return(0,r.jsx)("div",{className:"flex flex-col whitespace-pre",children:(0,r.jsxs)("span",{children:["nulls: ",L(d.nulls,l)]})});default:return ge(m),null}})(),e[0]=a,e[1]=n,e[2]=l,e[3]=o,e[4]=i,e[5]=s,e[6]=c}else i=e[4],s=e[5],c=e[6];let u;return e[15]!==i||e[16]!==s||e[17]!==c?(u=(0,r.jsxs)("div",{className:i,children:[s,c]}),e[15]=i,e[16]=s,e[17]=c,e[18]=u):u=e[18],u};var Zo=P(A(),1),Qo=new Ki;const er=t=>{let e=(0,Zo.c)(13),{text:n,channel:l,wrapText:a}=t,o=l==="stdout"||l==="stderr",i;e[0]===a?i=e[1]:(i=f=>(0,r.jsx)("span",{className:a?"whitespace-pre-wrap break-words":"whitespace-pre",dangerouslySetInnerHTML:{__html:Qo.ansi_to_html(f)}}),e[0]=a,e[1]=i);let s=i,c=!o&&(a?"whitespace-pre-wrap break-words":"whitespace-pre"),u=l==="output"&&"font-prose",g;e[2]!==l||e[3]!==c||e[4]!==u?(g=F(c,u,l),e[2]=l,e[3]=c,e[4]=u,e[5]=g):g=e[5];let m;e[6]!==s||e[7]!==o||e[8]!==n?(m=o?s(n):n,e[6]=s,e[7]=o,e[8]=n,e[9]=m):m=e[9];let d;return e[10]!==g||e[11]!==m?(d=(0,r.jsx)("span",{className:g,children:m}),e[10]=g,e[11]=m,e[12]=d):d=e[12],d};var St=P(A(),1);let tl;dn=()=>{let t=(0,St.c)(1),e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,r.jsx)(Ji,{className:"w-10 h-10 animate-spin",strokeWidth:1}),(0,r.jsx)("span",{children:"Loading chart..."})]}),t[0]=e):e=t[0],e},oa=t=>{let e=(0,St.c)(2),{error:n}=t,l;return e[0]===n?l=e[1]:(l=(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(Ql,{error:n})}),e[0]=n,e[1]=l),l},ga=t=>{let e=(0,St.c)(8),{children:n,className:l}=t,a;e[0]===l?a=e[1]:(a=F("flex flex-col items-center justify-center gap-4",l),e[0]=l,e[1]=a);let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)(Kt,{className:"w-10 h-10 text-muted-foreground"}),e[2]=o):o=e[2];let i;e[3]===n?i=e[4]:(i=(0,r.jsx)("span",{className:"text-md font-semibold text-muted-foreground",children:n}),e[3]=n,e[4]=i);let s;return e[5]!==a||e[6]!==i?(s=(0,r.jsxs)("div",{className:a,children:[o,i]}),e[5]=a,e[6]=i,e[7]=s):s=e[7],s},tl={getInitialState:t=>({...t,cellHoverTemplate:null})},ia=async function(t){return Array.isArray(t)?t:t.startsWith("{")||t.startsWith("[")?mi(t):(t=await Ri(t,{type:"json"},{handleBigIntAndNumberLike:!0}),t)};function Te(t){if(t&&typeof t=="object"&&"_marimo_row_id"in t)return String(t[Qe])}function tr(t){return Te(t)??t.id}const nr={getInitialState:t=>({...t,cellHoverTexts:{}}),createCell:(t,e,n,l)=>{t.getHoverTitle=()=>{var i;let a=l.getState().cellHoverTexts,o=tr(n);return((i=a==null?void 0:a[o])==null?void 0:i[e.id])??void 0}}};function nl(t){return Te(t)??t.id}const lr={getInitialState:t=>({...t,cellSelection:[]}),getDefaultOptions:t=>({onCellSelectionChange:E("cellSelection",t),enableCellSelection:!1}),createTable:t=>{t.setCellSelection=e=>{var n,l;t.setState(a=>({...a,cellSelection:_i.asUpdater(e)(a.cellSelection)})),(l=(n=t.options).onCellSelectionChange)==null||l.call(n,e)},t.resetCellSelection=e=>{t.setCellSelection&&t.setCellSelection(()=>e??[])}},createCell:(t,e,n,l)=>{t.getIsSelected=()=>(l.getState().cellSelection??[]).some(a=>a.rowId===nl(n)&&a.columnName===e.id),t.toggleSelected=a=>{var u;if(!l.setCellSelection)return;let o=e.id,i=((u=t.getIsSelected)==null?void 0:u.call(t))||!1,s=a===void 0?!i:a,c=nl(n);s&&!i?l.options.enableMultiCellSelection?l.setCellSelection(g=>[{rowId:c,columnName:o},...g]):l.setCellSelection(g=>[{rowId:c,columnName:o}]):i&&!s&&(l.options.enableMultiCellSelection?l.setCellSelection(g=>g.filter(m=>!(m.rowId===c&&m.columnName===o))):l.setCellSelection(g=>[]))}}};function ar(t){return Te(t)??t.id}const or={getInitialState:t=>({...t,cellStyling:{}}),createCell:(t,e,n,l)=>{t.getUserStyling=()=>{var i;let a=l.getState().cellStyling,o=ar(n);return((i=a==null?void 0:a[o])==null?void 0:i[e.id])||{}}}},rr={getDefaultOptions:t=>({enableCopyColumn:!0}),createColumn:(t,e)=>{t.getCanCopy=()=>e.options.enableCopyColumn??!1}},ir=({filters:t,table:e})=>{let n=Xe({hour:"2-digit",minute:"2-digit",second:"2-digit"});if(!t||t.length===0)return null;function l(a){let o=sr(a.value,n);return o?(0,r.jsxs)(ts,{variant:"secondary",className:"dark:invert",children:[a.id," ",o," ",(0,r.jsx)("span",{className:"cursor-pointer opacity-60 hover:opacity-100 pl-1 py-[2px]",onClick:()=>{e.setColumnFilters(i=>i.filter(s=>s.id!==a.id))},children:(0,r.jsx)(Ll,{className:"w-3.5 h-3.5"})})]},a.id):null}return(0,r.jsx)("div",{className:"flex flex-wrap gap-2 px-1",children:t.map(l)})};function sr(t,e){var n,l,a,o;if("type"in t){if(t.operator==="is_null")return"is null";if(t.operator==="is_not_null")return"is not null";if(t.type==="number")return Oe(t.min,t.max);if(t.type==="date")return Oe((n=t.min)==null?void 0:n.toISOString(),(l=t.max)==null?void 0:l.toISOString());if(t.type==="time")return Oe(t.min?e.format(t.min):void 0,t.max?e.format(t.max):void 0);if(t.type==="datetime")return Oe((a=t.min)==null?void 0:a.toISOString(),(o=t.max)==null?void 0:o.toISOString());if(t.type==="boolean")return`is ${t.value?"True":"False"}`;if(t.type==="select")return`is in [${t.options.map(i=>Ae({value:i})).join(", ")}]`;if(t.type==="text")return`contains "${t.text}"`;ge(t)}}function Oe(t,e){if(!(t===void 0&&e===void 0))return t===e?`== ${t}`:t===void 0?`<= ${e}`:e===void 0?`>= ${t}`:`${t} - ${e}`}const ur={getInitialState:t=>({...t,focusedRowIdx:-1}),getDefaultOptions:t=>({enableFocusRow:!0,onFocusRowChange:E("focusedRowIdx",t)}),createRow:(t,e)=>{t.focusRow=n=>{var l,a;(a=(l=e.options).onFocusRowChange)==null||a.call(l,n)},t.getFocusedRowIdx=()=>e.getState().focusedRowIdx}};var dr=(t,e)=>t===e;Qt=function(t,e=dr){let[n,l]=(0,y.useState)(t),a=(0,y.useRef)(t);return e(a.current,t)||(l(t),a.current=t),[n,l]};function cr(t,e){let[n,l]=Qt({left:ll(t),right:e},si);return{columnPinning:n,setColumnPinning:a=>{l(o=>{let i=typeof a=="function"?a(o):a;return{left:ll(i.left),right:i.right}})}}}function ll(t){return!t||t.length===0?[]:t.includes("__select__")?t:[sn,...t]}var ve=Symbol("scope"),Ct=Symbol("originalBuildingBlocks");function al(t,e){return t===e||t.size===e.size&&Array.from(t).every(e.has.bind(e))}function gr(t){return(Ct in t?t[Ct]:Il(t)).slice(0,6)}function He(t){return"write"in t}var ol={};function mr({atomSet:t=new Set,atomFamilySet:e=new Set,parentStore:n,name:l}){let a=ve in n?n[ve]:void 0,o=new WeakMap,i=new WeakMap,s=new WeakMap,c={getAtom:g,cleanup(){for(let h of u)h()},prepareWriteAtom(h,x,S,b){if(x.read===yt&&He(x)&&He(h)&&x.write!==rl&&c!==S){let{write:C}=x;return h.write=p(x.write.bind(x),S,b),()=>{h.write=C}}}};for(let h of t)o.set(h,[f(h,c),c]);let u=new Set;for(let h of e){for(let S of h.getParams()){let b=h(S);o.has(b)||o.set(b,[f(b,c),c])}let x=h.unstable_listen(S=>{S.type==="CREATE"&&!o.has(S.atom)?o.set(S.atom,[f(S.atom,c),c]):t.has(S.atom)||o.delete(S.atom)});u.add(x)}function g(h,x){var S,b;if(o.has(h))return o.get(h);if(x===c)return i.has(h)||i.set(h,[f(h,x),x]),i.get(h);let C=x??ol;if(a){if(!((S=s.get(C))!=null&&S.has(h))){let[v,_]=a.getAtom(h,x);m(d(v,h,_),h,x,_)}return s.get(C).get(h)}return(b=s.get(C))!=null&&b.has(h)||m(d(h,h),h),s.get(C).get(h)}function m(h,x,S,b){let C=S??ol;s.has(C)||s.set(C,new WeakMap),s.get(C).set(x,[h,b].filter(Boolean))}function d(h,x,S){return x.read===yt?h:f(x,S)}function f(h,x){let S=Object.getOwnPropertyDescriptors(h);Object.entries(S).filter(([C])=>["read","write","debugLabel"].includes(C)).forEach(([,C])=>C.configurable=!0);let b=Object.create(Object.getPrototypeOf(h),S);return b.originalAtom=h,b.read!==yt&&(b.read=w(h.read.bind(h),x)),He(b)&&He(h)&&b.write!==rl&&(b.write=p(h.write.bind(h),x)),b}function w(h,x){return function(S,b){return h(function(C){let[v]=g(C,x);return S(v)},b)}}function p(h,x,S=x){return function(b,C,...v){return h(function(_){let[M]=g(_,x);return b(M)},function(_,...M){let[k]=g(_,x),V=c.prepareWriteAtom(k,_,x,S);try{return C(k,...M)}finally{V==null||V()}},...v)}}return pr(n,c)}var{read:yt,write:rl}=se(null);function pr(t,e){let n=gr(t),l={};n[6]=l,n[9]=p=>{var h;return(h=p.unstable_onInit)==null?void 0:h.call(p,a)};let a=di(...n),o=Il(a),i=[...o];function s(p){return(h,...x)=>{let[S]=e.getAtom(h);return p(S,...x)}}function c(p){let h={get:s(p.get.bind(p)),set:s(p.set.bind(p))};return"has"in p&&(h.has=s(p.has.bind(p))),"delete"in p&&(h.delete=s(p.delete.bind(p))),h}function u(p){return{get size(){return p.size},add:s(p.add.bind(p)),has:s(p.has.bind(p)),clear:p.clear.bind(p),forEach:h=>p.forEach(s(h)),*[Symbol.iterator](){for(let h of p)yield e.getAtom(h)[0]}}}function g(p){if(!p)return;let h=s(p);return h.add=(x,S)=>x===void 0?p.add(void 0,S):p.add(e.getAtom(x)[0],S),h}let m=[c(i[0]),c(i[1]),c(i[2]),u(i[3]),i[4],i[5],{get c(){return g(l.c)},set c(p){l.c=p},get m(){return g(l.m)},set m(p){l.m=p},get u(){return g(l.u)},set u(p){l.u=p},get f(){return l.f},set f(p){l.f=p}},s(i[7]),s(i[8]),i[9],s(i[10]),s(i[11]),i[12],i[13],s(i[14]),s(i[15]),s(i[16]),s(i[17]),s(i[18]),s(i[19])];Object.assign(o,m);let{get:d,set:f,sub:w}=a;return Object.assign(a,{get(p){let[h]=e.getAtom(p);return d(h)},set(p,...h){let[x,S]=e.getAtom(p),b=e.prepareWriteAtom(x,p,S,e);try{return f(x,...h)}finally{b==null||b()}},sub(p,h){let[x]=e.getAtom(p);return w(x,h)},[ve]:e,[Ct]:i})}function fr(t){let{atoms:e=[],atomFamilies:n=[],children:l,scope:a,name:o}=t,i=kl(),s=Array.from(e,p=>Array.isArray(p)?p[0]:p),c=new Set(s),u=new Set(n);function g(){return{scope:a??mr({atomSet:c,atomFamilySet:u,parentStore:i,name:o}),hasChanged(p){return i!==p.parentStore||!al(c,p.atomSet)||!al(u,p.atomFamilySet)||a!==p.providedScope}}}let[m,d]=(0,y.useState)(g),{hasChanged:f,scope:w}=m;return f({atomSet:c,atomFamilySet:u,parentStore:i,providedScope:a})&&(w[ve].cleanup(),d(g)),fe(Array.from(e).filter(Array.isArray),{store:w}),(0,y.useEffect)(()=>w[ve].cleanup,[w]),(0,y.createElement)(ui,{store:w},l)}var hr=P(A(),1);const xr=t=>{let e=(0,hr.c)(3),{children:n}=t,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=[de],e[0]=l):l=e[0];let a;return e[1]===n?a=e[2]:(a=(0,r.jsx)(fr,{atoms:l,children:n}),e[1]=n,e[2]=a),a},wr=({hidden:t,value:e,handleSearch:n,onHide:l,reloading:a})=>{var g;let[o,i]=(0,y.useState)(e),s=gs(o,500),c=ue(n),u=y.useRef(null);return(0,y.useEffect)(()=>{c(s)},[s,c]),t||((g=u.current)==null||g.focus()),t&&o!==""&&i(""),(0,r.jsxs)("div",{className:F("flex items-center space-x-2 h-8 px-2 border-b transition-all overflow-hidden duration-300 opacity-100",t&&"h-0 border-none opacity-0"),children:[(0,r.jsx)(Vt,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsx)("input",{type:"text",ref:u,className:"w-full h-full border-none bg-transparent focus:outline-hidden text-sm",value:o,onKeyDown:m=>{m.key==="Escape"&&l()},onChange:m=>i(m.target.value),placeholder:"Search"}),a&&(0,r.jsx)(Wl,{size:"small"})]})};var br=P(A(),1),Sr=[{label:"CSV",format:"csv",icon:Me},{label:"JSON",format:"json",icon:Nl},{label:"Parquet",format:"parquet",icon:fn}],Cr=[{label:"TSV",format:"tsv",description:"Best for Excel and Google Sheets",icon:Me},{label:"JSON",format:"json",description:"Raw JSON data",icon:Nl},{label:"CSV",format:"csv",description:"Comma-separated values",icon:Me}];const yr=t=>{let e=(0,br.c)(17),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsxs)(D,{"data-testid":"download-as-button",size:"xs",variant:"link",children:["Download ",(0,r.jsx)(Ft,{className:"w-3 h-3 ml-1"})]}),e[0]=n):n=e[0];let l=n,a;e[1]===t?a=e[2]:(a=p=>t.downloadAs({format:p}).catch(jr),e[1]=t,e[2]=a);let o=a,i;e[3]===o?i=e[4]:(i=async p=>{let h;e:switch(p){case"tsv":h=pi(await il(await o("json")));break e;case"json":{let x=await il(await o("json"));h=JSON.stringify(x,null,2);break e}case"csv":h=await vr(await o("csv"));break e;default:ge(p);return}await Ze(h),_t({title:"Copied to clipboard"})},e[3]=o,e[4]=i);let s=i,c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)(It,{asChild:!0,children:l}),e[5]=c):c=e[5];let u;e[6]===o?u=e[7]:(u=Sr.map(p=>(0,r.jsxs)(N,{onSelect:async()=>{let h=await o(p.format),x=p.format;zi(h,`download.${x}`)},children:[(0,r.jsx)(p.icon,{className:"mo-dropdown-icon"}),p.label]},p.label)),e[6]=o,e[7]=u);let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,r.jsx)(be,{}),e[8]=g):g=e[8];let m;e[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsxs)(Mt,{children:[(0,r.jsx)(wn,{className:"mo-dropdown-icon"}),"Copy to clipboard"]}),e[9]=m):m=e[9];let d;e[10]===s?d=e[11]:(d=Cr.map(p=>(0,r.jsxs)(N,{onSelect:()=>s(p.format),children:[(0,r.jsx)(p.icon,{className:"mo-dropdown-icon"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{children:p.label}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:p.description})]})]},p.label)),e[10]=s,e[11]=d);let f;e[12]===d?f=e[13]:(f=(0,r.jsxs)(Se,{children:[m,(0,r.jsx)(Fe,{children:d})]}),e[12]=d,e[13]=f);let w;return e[14]!==u||e[15]!==f?(w=(0,r.jsxs)(Nt,{modal:!1,children:[c,(0,r.jsxs)(kt,{side:"bottom",className:"no-print",children:[u,g,f]})]}),e[14]=u,e[15]=f,e[16]=w):w=e[16],w};function il(t){return fetch(t).then(e=>{if(!e.ok)throw Error(e.statusText);return e.json()})}function vr(t){return fetch(t).then(e=>{if(!e.ok)throw Error(e.statusText);return e.text()})}function jr(t){throw _t({title:"Failed to download",description:"message"in t?t.message:String(t)}),t}const Rr=({table:t,selection:e,onSelectAllRowsChange:n,totalColumns:l,tableLoading:a,showPageSizeSelector:o})=>{let{locale:i}=me(),s=()=>{let{rowSelection:f,cellSelection:w}=t.getState(),p=Object.keys(f).length,h=t.getIsAllPageRowsSelected(),x=t.getRowCount(),S=p===x,b=e==="single-cell"||e==="multi-cell";return b&&(p=w.length,h=!1,S=!1),h&&!S?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{children:[L(p,i)," selected"]}),(0,r.jsxs)(D,{size:"xs","data-testid":"select-all-button",variant:"link",className:"h-4",onMouseDown:Z.preventFocus,onClick:()=>{n?n(!0):t.toggleAllRowsSelected(!0)},children:["Select all ",L(x,i)]})]}):p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{children:[L(p,i)," selected"]}),(0,r.jsx)(D,{size:"xs","data-testid":"clear-selection-button",variant:"link",className:"h-4",onMouseDown:Z.preventFocus,onClick:()=>{b?t.resetCellSelection&&t.resetCellSelection():n?n(!1):t.toggleAllRowsSelected(!1)},children:"Clear selection"})]}):(0,r.jsx)("span",{children:on(x,l,i)})},c=Math.min(t.getState().pagination.pageIndex+1,t.getPageCount()),u=t.getPageCount(),g=t.getState().pagination.pageSize,m=f=>{a||f()},d=[...new Set([5,10,25,50,100,g])].sort((f,w)=>f-w);return(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-between px-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:s()}),o&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-xs whitespace-nowrap mr-1",children:[(0,r.jsxs)($l,{value:g.toString(),onValueChange:f=>t.setPageSize(Number(f)),children:[(0,r.jsx)(ql,{className:"w-11 h-[18px] shadow-none! !hover:shadow-none ring-0! border-border text-xs p-1",children:(0,r.jsx)(Hl,{})}),(0,r.jsx)(Gl,{children:(0,r.jsxs)(Di,{children:[(0,r.jsx)(Pi,{children:"Rows per page"}),[...d].map(f=>{let w=f.toString();return(0,r.jsx)(We,{value:w,children:w},f)})]})})]}),(0,r.jsx)("span",{children:"/ page"})]})]}),(0,r.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,r.jsxs)(D,{size:"xs",variant:"outline","data-testid":"first-page-button",className:"hidden h-6 w-6 p-0 lg:flex",onClick:()=>m(()=>t.setPageIndex(0)),onMouseDown:Z.preventFocus,disabled:!t.getCanPreviousPage(),children:[(0,r.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,r.jsx)(Ot,{className:"h-4 w-4"})]}),(0,r.jsxs)(D,{size:"xs",variant:"outline","data-testid":"previous-page-button",className:"h-6 w-6 p-0",onClick:()=>m(()=>t.previousPage()),onMouseDown:Z.preventFocus,disabled:!t.getCanPreviousPage(),children:[(0,r.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,r.jsx)(Ei,{className:"h-4 w-4"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center text-xs font-medium gap-1",children:[(0,r.jsx)("span",{children:"Page"}),(0,r.jsx)(_r,{currentPage:c,totalPages:u,onPageChange:f=>m(()=>t.setPageIndex(f))}),(0,r.jsxs)("span",{className:"shrink-0",children:["of ",L(u,i)]})]}),(0,r.jsxs)(D,{size:"xs",variant:"outline","data-testid":"next-page-button",className:"h-6 w-6 p-0",onClick:()=>m(()=>t.nextPage()),onMouseDown:Z.preventFocus,disabled:!t.getCanNextPage(),children:[(0,r.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,r.jsx)(Ti,{className:"h-4 w-4"})]}),(0,r.jsxs)(D,{size:"xs",variant:"outline","data-testid":"last-page-button",className:"hidden h-6 w-6 p-0 lg:flex",onClick:()=>m(()=>t.setPageIndex(t.getPageCount()-1)),onMouseDown:Z.preventFocus,disabled:!t.getCanNextPage(),children:[(0,r.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,r.jsx)(cn,{className:"h-4 w-4"})]})]})]})},_r=({currentPage:t,totalPages:e,onPageChange:n})=>{let l=i=>(0,r.jsx)("option",{value:i+1,children:i+1},i),a=i=>(0,r.jsx)("option",{disabled:!0,value:`__${i}__`,children:"..."},`__${i}__`),o=()=>{if(e<=100)return Ue(e).map(m=>l(m));let i=Math.floor(e/2),s=Ue(10).map(m=>l(m)),c=Ue(10).map(m=>l(i-5+m)),u=Ue(10).map(m=>l(e-10+m)),g=[...s,a(1),...c,a(2),...u];return t>10&&t<=i-5&&g.splice(10,1,a(1),l(t-1),a(11)),t>i+5&&t<=e-10&&g.splice(-11,1,a(2),l(t-1),a(22)),g};return(0,r.jsx)("select",{className:"cursor-pointer border rounded",value:t,"data-testid":"page-select",onChange:i=>n(Number(i.target.value)-1),children:o()})};ln=function(t,e){return`${L(t,e)} ${new Vl("row").pluralize(t)}`};let sl;on=(t,e,n)=>[t==="too_many"?"Unknown":ln(t,n),`${L(e,n)} ${new Vl("column").pluralize(e)}`].join(", "),sl=({enableSearch:t,onSearchQueryChange:e,isSearchEnabled:n,setIsSearchEnabled:l,pagination:a,totalColumns:o,selection:i,onRowSelectionChange:s,table:c,downloadAs:u,getRowIds:g,toggleDisplayHeader:m,showChartBuilder:d,showColumnExplorer:f,showPageSizeSelector:w,togglePanel:p,isPanelOpen:h,tableLoading:x})=>(0,r.jsxs)("div",{className:"flex items-center shrink-0 pt-1",children:[e&&t&&(0,r.jsx)(G,{content:"Search",children:(0,r.jsx)(D,{variant:"text",size:"xs",className:"mb-0",onClick:()=>l(!n),children:(0,r.jsx)(Vt,{className:"w-4 h-4 text-muted-foreground"})})}),d&&(0,r.jsx)(G,{content:"Chart builder",children:(0,r.jsx)(D,{variant:"text",size:"xs",className:"mb-0",onClick:m,children:(0,r.jsx)(xn,{className:"w-4 h-4 text-muted-foreground"})})}),p&&h!==void 0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{content:"Toggle row viewer",children:(0,r.jsx)(D,{variant:"text",size:"xs",onClick:()=>p("row-viewer"),children:(0,r.jsx)(Rn,{className:F("w-4 h-4 text-muted-foreground",h("row-viewer")&&"text-primary")})})}),f&&(0,r.jsx)(G,{content:"Toggle column explorer",children:(0,r.jsx)(D,{variant:"text",size:"xs",onClick:()=>p("column-explorer"),children:(0,r.jsx)(hn,{className:F("w-4 h-4 text-muted-foreground",h("column-explorer")&&"text-primary")})})})]}),a&&(0,r.jsx)(Rr,{totalColumns:o,selection:i,onSelectAllRowsChange:S=>{if(!s)return;if(!S){s({});return}let b=()=>{let C=Array.from({length:c.getRowCount()},(v,_)=>[_,!0]);s(Object.fromEntries(C))};if(!g){b();return}g({}).then(C=>{if(C.error){_t({title:"Not available",description:C.error,variant:"danger"});return}C.all_rows?b():s(Object.fromEntries(C.row_ids.map(v=>[v,!0])))})},table:c,tableLoading:x,showPageSizeSelector:w}),(0,r.jsx)("div",{className:"ml-auto",children:u&&(0,r.jsx)(yr,{downloadAs:u})})]}),Zt=(0,y.memo)(({wrapperClassName:t,className:e,maxHeight:n,columns:l,data:a,selection:o,totalColumns:i,totalRows:s,manualSorting:c=!1,sorting:u,setSorting:g,rowSelection:m,cellSelection:d,cellStyling:f,hoverTemplate:w,cellHoverTexts:p,paginationState:h,setPaginationState:x,downloadAs:S,manualPagination:b=!1,pagination:C=!1,onRowSelectionChange:v,onCellSelectionChange:_,getRowIds:M,enableSearch:k=!1,searchQuery:V,onSearchQueryChange:O,showFilters:$=!1,filters:Y,onFiltersChange:ne,reloading:B,freezeColumnsLeft:le,freezeColumnsRight:ae,toggleDisplayHeader:oe,showChartBuilder:re,showPageSizeSelector:ie,showColumnExplorer:xe,togglePanel:Ge,isPanelOpen:J,viewedRowIdx:Zr,onViewedRowChange:Qr})=>{let[vl,jl]=y.useState(!1),[ei,Rl]=y.useState(!1),{locale:ti}=me(),{columnPinning:ni,setColumnPinning:li}=cr(le,ae);y.useEffect(()=>{let H;return B?H=setTimeout(()=>{Rl(!0)},300):Rl(!1),()=>{H&&clearTimeout(H)}},[B]);function _l(H,$e){return h?$e+(b?h.pageIndex*h.pageSize:0):$e}let qe=$t({_features:[On,go,Za,lr,or,nr,tl,rr,ur],data:a,columns:l,getCoreRowModel:nn(),rowCount:s==="too_many"?void 0:s,...x?{onPaginationChange:x,getRowId:(H,$e)=>{let Fl=Te(H);if(Fl)return Fl;let oi=_l(H,$e);return String(oi)}}:{},locale:ti,manualPagination:b,getPaginationRowModel:Ka(),...g?{onSortingChange:g}:{},manualSorting:c,enableMultiSort:!0,getSortedRowModel:tn(),manualFiltering:!0,enableColumnFilters:$,getFilteredRowModel:Tt(),onColumnFiltersChange:ne,onRowSelectionChange:v,onCellSelectionChange:_,enableCellSelection:o==="single-cell"||o==="multi-cell",enableMultiCellSelection:o==="multi-cell",onColumnPinningChange:li,enableFocusRow:!0,onFocusRowChange:Qr,state:{...u?{sorting:u}:{},columnFilters:Y,...h?{pagination:h}:C&&!h?{}:{pagination:{pageIndex:0,pageSize:a.length}},rowSelection:m??{},cellSelection:d??[],cellStyling:f,columnPinning:ni,cellHoverTemplate:w,cellHoverTexts:p??{}}}),ai=(J==null?void 0:J("row-viewer"))??!1,jt=y.useRef(null);return y.useEffect(()=>{if(!jt.current)return;let H=jt.current.parentElement;H&&(n?(H.style.maxHeight=`${n}px`,H.style.overflow||(H.style.overflow="auto")):H.style.removeProperty("max-height"))},[n]),(0,r.jsxs)("div",{className:F(t,"flex flex-col space-y-1"),children:[(0,r.jsx)(ir,{filters:Y,table:qe}),(0,r.jsxs)("div",{className:F(e||"rounded-md border overflow-hidden"),children:[O&&k&&(0,r.jsx)(wr,{value:V||"",onHide:()=>jl(!1),handleSearch:O,hidden:!vl,reloading:B}),(0,r.jsxs)(Is,{className:"relative",ref:jt,children:[ei&&(0,r.jsx)("thead",{className:"absolute top-0 left-0 h-[3px] w-1/2 bg-primary animate-slide"}),Io(qe,!!n),(0,r.jsx)(xr,{children:(0,r.jsx)(ko,{table:qe,columns:l,rowViewerPanelOpen:ai,getRowIndex:_l,viewedRowIdx:Zr})})]})]}),(0,r.jsx)(sl,{enableSearch:k,totalColumns:i,onSearchQueryChange:O,isSearchEnabled:vl,setIsSearchEnabled:jl,pagination:C,selection:o,onRowSelectionChange:v,table:qe,downloadAs:S,getRowIds:M,toggleDisplayHeader:oe,showChartBuilder:re,showPageSizeSelector:ie,showColumnExplorer:xe,togglePanel:Ge,isPanelOpen:J,tableLoading:B})]})});var Le=P(A(),1),Fr=25;Xt=({contents:t})=>{let e=(0,y.useMemo)(()=>Al(t),[t]),[n,l]=(0,y.useState)({pageIndex:0,pageSize:Fr}),a=(0,y.useMemo)(()=>rn(e),[e]),o=(0,y.useMemo)(()=>an({rowHeaders:ki.EMPTY,selection:null,fieldTypes:a}),[a]);return(0,r.jsx)(Zt,{data:e,totalRows:e.length,columns:o,totalColumns:o.length,manualPagination:!1,paginationState:n,setPaginationState:l,wrapperClassName:"h-full justify-between pb-1 px-1",pagination:!0,className:"rounded-none border-b flex overflow-hidden",rowSelection:_e.EMPTY})},sa=t=>{let e=(0,Le.c)(5),{mime:n,base64:l}=t,a;e[0]!==l||e[1]!==n?(a=Ke(l,n),e[0]=l,e[1]=n,e[2]=a):a=e[2];let o;return e[3]===a?o=e[4]:(o=(0,r.jsx)("img",{src:a,alt:"Preview"}),e[3]=a,e[4]=o),o},ua=t=>{let e=(0,Le.c)(5),{mime:n,base64:l}=t,a;e[0]!==l||e[1]!==n?(a=Ke(l,n),e[0]=l,e[1]=n,e[2]=a):a=e[2];let o;return e[3]===a?o=e[4]:(o=(0,r.jsx)("audio",{controls:!0,src:a}),e[3]=a,e[4]=o),o},ra=t=>{let e=(0,Le.c)(5),{mime:n,base64:l}=t,a;e[0]!==l||e[1]!==n?(a=Ke(l,n),e[0]=l,e[1]=n,e[2]=a):a=e[2];let o;return e[3]===a?o=e[4]:(o=(0,r.jsx)("video",{controls:!0,src:a}),e[3]=a,e[4]=o),o},ca=t=>{let e=(0,Le.c)(5),{mime:n,base64:l}=t,a;e[0]!==l||e[1]!==n?(a=Ke(l,n),e[0]=l,e[1]=n,e[2]=a):a=e[2];let o;return e[3]===a?o=e[4]:(o=(0,r.jsx)("iframe",{src:a,title:"PDF Viewer",className:"w-full h-full"}),e[3]=a,e[4]=o),o};function Mr(t,e){let{state:n}=t,l=n.doc;if(e<=0||e>l.lines)return we.warn(`Invalid line number: ${e}. Document has ${l.lines} lines.`),!1;let a=l.line(e);if(a.text.includes("breakpoint()"))return!0;let o=a.text.match(/^(\s*)/),i=`${o?o[1]:""}breakpoint()
`,s=a.from;return t.dispatch({changes:{from:s,to:s,insert:i},selection:{anchor:s+i.length-1,head:s+i.length-1},scrollIntoView:!0,effects:[Ii.scrollIntoView(s,{y:"center"})]}),t.focus(),!0}var ul=P(A(),1),dl="item";const Ir=t=>{var Ge;let e=(0,ul.c)(46),{onRefactorWithAI:n,traceback:l}=t,a;e[0]===l?a=e[1]:(a=Yl({html:l,additionalReplacements:[Nr,Vr]}),e[0]=l,e[1]=a);let o=a,[i,s]=(0,y.useState)(!0),c=kr(l),u=Ml(Fi),g;e[2]===l?g=e[3]:(g=(Ge=fi(l))==null?void 0:Ge.at(0),e[2]=l,e[3]=g);let m=g,d;e[4]===m?d=e[5]:(d=m&&m.kind==="cell"&&!Dl()&&!Rt(),e[4]=m,e[5]=d);let f=d,w;e[6]!==u||e[7]!==n?(w=n&&u&&!Rt(),e[6]=u,e[7]=n,e[8]=w):w=e[8];let p=w,h=!Rt(),x=J=>{n==null||n({prompt:`My code gives the following error:

${c}`,triggerImmediately:J})},[S,b]=c.split(":",2),C=i?dl:"",v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=()=>s(Ar),e[9]=v):v=e[9];let _=i?"rotate-180":"rotate-0",M;e[10]===_?M=e[11]:(M=F("h-4 w-4 text-muted-foreground transition-transform duration-200 shrink-0",_),e[10]=_,e[11]=M);let k;e[12]===M?k=e[13]:(k=(0,r.jsx)(Ft,{className:M}),e[12]=M,e[13]=k);let V=S||"Error",O;e[14]===V?O=e[15]:(O=(0,r.jsxs)("span",{className:"text-destructive",children:[V,":"]}),e[14]=V,e[15]=O);let $;e[16]!==b||e[17]!==O?($=(0,r.jsxs)("div",{className:"text-sm inline font-mono",children:[O," ",b]}),e[16]=b,e[17]=O,e[18]=$):$=e[18];let Y;e[19]!==$||e[20]!==k?(Y=(0,r.jsxs)("div",{className:"flex gap-2 h-10 px-2 hover:bg-muted rounded-sm select-none items-center cursor-pointer transition-all",onClick:v,children:[k,$]}),e[19]=$,e[20]=k,e[21]=Y):Y=e[21];let ne;e[22]===o?ne=e[23]:(ne=(0,r.jsx)(ss,{className:"text-muted-foreground px-4 pt-2 text-xs overflow-auto",children:o}),e[22]=o,e[23]=ne);let B;e[24]!==Y||e[25]!==ne?(B=(0,r.jsxs)(us,{value:dl,className:"border-none",children:[Y,ne]}),e[24]=Y,e[25]=ne,e[26]=B):B=e[26];let le;e[27]!==B||e[28]!==C?(le=(0,r.jsx)(ds,{type:"single",collapsible:!0,value:C,children:B}),e[27]=B,e[28]=C,e[29]=le):le=e[29];let ae;e[30]!==x||e[31]!==p?(ae=p&&(0,r.jsx)(Xi,{tooltip:"Fix with AI",openPrompt:()=>x(!1),applyAutofix:()=>x(!0)}),e[30]=x,e[31]=p,e[32]=ae):ae=e[32];let oe;e[33]!==f||e[34]!==m?(oe=f&&(0,r.jsx)(G,{content:"Attach pdb to the exception point.",children:(0,r.jsxs)(D,{size:"xs",variant:"outline",onClick:()=>{zl().sendPdb({cellId:m.cellId})},children:[(0,r.jsx)(tt,{className:"h-3 w-3 mr-2"}),"Launch debugger"]})}),e[33]=f,e[34]=m,e[35]=oe):oe=e[35];let re;e[36]!==c||e[37]!==l?(re=h&&(0,r.jsxs)(Nt,{children:[(0,r.jsx)(It,{asChild:!0,children:(0,r.jsxs)(D,{size:"xs",variant:"text",children:["Get help",(0,r.jsx)(Ft,{className:"h-3 w-3 ml-1"})]})}),(0,r.jsxs)(kt,{align:"end",className:"w-56",children:[(0,r.jsx)(N,{asChild:!0,children:(0,r.jsxs)("a",{target:"_blank",href:`https://www.google.com/search?q=${encodeURIComponent(c)}`,rel:"noreferrer",children:[(0,r.jsx)(Vt,{className:"h-4 w-4 mr-2"}),"Search on Google",(0,r.jsx)(Bl,{className:"h-3 w-3 ml-auto"})]})}),(0,r.jsx)(N,{asChild:!0,children:(0,r.jsxs)("a",{target:"_blank",href:"https://marimo.io/discord?ref=notebook",rel:"noopener",children:[(0,r.jsx)(vn,{className:"h-4 w-4 mr-2"}),"Ask in Discord",(0,r.jsx)(Bl,{className:"h-3 w-3 ml-auto"})]})}),(0,r.jsxs)(N,{onClick:()=>{let J=document.createElement("div");J.innerHTML=l,Ze(J.textContent||"")},children:[(0,r.jsx)(Ul,{className:"h-4 w-4 mr-2"}),"Copy to clipboard"]})]})]}),e[36]=c,e[37]=l,e[38]=re):re=e[38];let ie;e[39]!==ae||e[40]!==oe||e[41]!==re?(ie=(0,r.jsxs)("div",{className:"flex gap-2",children:[ae,oe,re]}),e[39]=ae,e[40]=oe,e[41]=re,e[42]=ie):ie=e[42];let xe;return e[43]!==le||e[44]!==ie?(xe=(0,r.jsxs)("div",{className:"flex flex-col gap-2 min-w-full w-fit",children:[le,ie]}),e[43]=le,e[44]=ie,e[45]=xe):xe=e[45],xe};function kr(t){var n,l;let e=document.createElement("div");return e.innerHTML=t,((l=(n=e.textContent)==null?void 0:n.split(`
`).filter(Boolean))==null?void 0:l.at(-1))||""}const Nr=t=>{let e=wi(t);if((e==null?void 0:e.kind)==="cell"){let n=(0,r.jsx)(Pr,{});return(0,r.jsx)("span",{className:"nb",children:(0,r.jsxs)("span",{className:"inline-flex items-center",children:[(0,r.jsx)(Cs,{cellId:e.cellId,lineNumber:e.lineNumber}),!Dl()&&(0,r.jsx)(G,{content:n,children:(0,r.jsx)("button",{type:"button",className:"ml-1 p-1 rounded-sm hover:bg-muted transition-all inline",children:(0,r.jsx)(tt,{onClick:()=>{let l=xi(e.cellId);l&&Mr(l,e.lineNumber)},className:"h-3 w-3"})})})]})})}if((e==null?void 0:e.kind)==="file")return(0,r.jsx)("div",{className:"inline-block cursor-pointer text-destructive hover:underline",onClick:n=>{zl().openFile({path:e.filePath,lineNumber:e.lineNumber})},children:(0,r.jsxs)("span",{className:"nb",children:['"',e.filePath,'"']})})},Vr=t=>{var e;if(t instanceof Pl.Text&&((e=t.nodeValue)!=null&&e.includes("File"))&&t.next instanceof Pl.Element&&hi(t.next))return(0,r.jsx)(r.Fragment,{children:t.nodeValue.replace("File","Cell")})};var Pr=()=>{let t=(0,ul.c)(1),e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsxs)(r.Fragment,{children:["Insert a ",(0,r.jsx)(ws,{className:"inline",children:"breakpoint()"})," at this line"]}),t[0]=e):e=t[0],e};function Ar(t){return!t}function Dr(t){switch(t){case"text/html":return"\u{1F310}";case"text/plain":return"\u{1F4C4}";case"application/json":return"\u{1F4E6}";case"image/png":case"image/tiff":case"image/avif":case"image/bmp":case"image/gif":case"image/jpeg":return"\u{1F5BC}\uFE0F";case"image/svg+xml":return"\u{1F3A8}";case"video/mp4":case"video/mpeg":return"\u{1F3A5}";case"application/vnd.marimo+error":return"\u{1F6A8}";case"application/vnd.marimo+traceback":return"\u{1F40D}";case"text/csv":return"\u{1F4CA}";case"text/markdown":return"\u{1F4DD}";case"application/vnd.vegalite.v5+json":case"application/vnd.vega.v5+json":return"\u{1F4CA}";case"application/vnd.marimo+mimebundle":return"\u{1F4E6}";default:return"\u2753"}}var je=P(A(),1),Er=y.lazy(()=>Tl(()=>import("./esm-C7NRcvAd.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url).then(t=>({default:t.VegaLite})));pe=(0,y.memo)(t=>{let e=(0,je.c)(44),{message:n,onRefactorWithAI:l,cellId:a,wrapText:o}=t,{theme:i}=Ol(),s;e:{let d=n.data;switch(n.mimetype){case"application/json":case"application/vnd.marimo+mimebundle":case"application/vnd.vegalite.v5+json":case"application/vnd.vega.v5+json":{let f;e[0]===d?f=e[1]:(f=typeof d=="string"?JSON.parse(d):d,e[0]=d,e[1]=f),s=f;break e}default:s=void 0}}let c=s,{channel:u,data:g,mimetype:m}=n;if(g==null)return null;switch(m){case"text/html":{X(typeof g=="string",`Expected string data for mime=${m}. Got ${typeof g}`);let d;return e[2]!==u||e[3]!==g?(d=(0,r.jsx)(Xl,{className:u,html:g,alwaysSanitizeHtml:!1}),e[2]=u,e[3]=g,e[4]=d):d=e[4],d}case"text/plain":{X(typeof g=="string",`Expected string data for mime=${m}. Got ${typeof g}`);let d;return e[5]!==u||e[6]!==g||e[7]!==o?(d=(0,r.jsx)(er,{channel:u,text:g,wrapText:o}),e[5]=u,e[6]=g,e[7]=o,e[8]=d):d=e[8],d}case"application/json":{let d;return e[9]!==u||e[10]!==c?(d=(0,r.jsx)(Jl,{className:u,data:c,format:"auto"}),e[9]=u,e[10]=c,e[11]=d):d=e[11],d}case"image/png":case"image/tiff":case"image/avif":case"image/bmp":case"image/gif":case"image/jpeg":{X(typeof g=="string",`Expected string data for mime=${m}. Got ${typeof g}`);let d;return e[12]!==u||e[13]!==g?(d=(0,r.jsx)(ps,{className:u,src:g,alt:""}),e[12]=u,e[13]=g,e[14]=d):d=e[14],d}case"image/svg+xml":{X(typeof g=="string",`Expected string data for mime=${m}. Got ${typeof g}`);let d;return e[15]===g?d=e[16]:(d=Yl({html:g,alwaysSanitizeHtml:!0}),e[15]=g,e[16]=d),d}case"video/mp4":case"video/mpeg":{X(typeof g=="string",`Expected string data for mime=${m}. Got ${typeof g}`);let d;return e[17]!==u||e[18]!==g?(d=(0,r.jsx)(ms,{className:u,src:g}),e[17]=u,e[18]=g,e[19]=d):d=e[19],d}case"application/vnd.marimo+error":{X(Array.isArray(g),"Expected array data");let d;return e[20]!==a||e[21]!==g?(d=(0,r.jsx)(Zi,{cellId:a,errors:g}),e[20]=a,e[21]=g,e[22]=d):d=e[22],d}case"application/vnd.marimo+traceback":{X(typeof g=="string",`Expected string data for mime=${m}. Got ${typeof g}`);let d;return e[23]!==a||e[24]!==g||e[25]!==l?(d=(0,r.jsx)(Ir,{onRefactorWithAI:l,traceback:g,cellId:a}),e[23]=a,e[24]=g,e[25]=l,e[26]=d):d=e[26],d}case"text/csv":{X(typeof g=="string",`Expected string data for mime=${m}. Got ${typeof g}`);let d;return e[27]===g?d=e[28]:(d=(0,r.jsx)(Xt,{contents:g}),e[27]=g,e[28]=d),d}case"text/latex":case"text/markdown":{X(typeof g=="string",`Expected string data for mime=${m}. Got ${typeof g}`);let d;return e[29]!==u||e[30]!==g?(d=(0,r.jsx)(Xl,{className:u,html:g,alwaysSanitizeHtml:!0}),e[29]=u,e[30]=g,e[31]=d):d=e[31],d}case"application/vnd.vegalite.v5+json":case"application/vnd.vega.v5+json":{let d;e[32]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsx)(dn,{}),e[32]=d):d=e[32];let f=c,w=i==="dark"?"dark":void 0,p;return e[33]!==f||e[34]!==w?(p=(0,r.jsx)(y.Suspense,{fallback:d,children:(0,r.jsx)(Er,{spec:f,theme:w})}),e[33]=f,e[34]=w,e[35]=p):p=e[35],p}case"application/vnd.marimo+mimebundle":{let d=c,f;return e[36]!==u||e[37]!==d?(f=(0,r.jsx)(cl,{channel:u,data:d}),e[36]=u,e[37]=d,e[38]=f):f=e[38],f}case"application/vnd.jupyter.widget-view+json":{let d;e[39]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsx)("b",{children:"Jupyter widgets are not supported in marimo."}),e[39]=d):d=e[39];let f;e[40]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsx)("br",{}),e[40]=f):f=e[40];let w;return e[41]===Symbol.for("react.memo_cache_sentinel")?(w=(0,r.jsxs)(xs,{kind:"warn",children:[d," ",f,"Please migrate this widget to"," ",(0,r.jsx)("a",{href:"https://github.com/manzt/anywidget",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-(--amber-12)",children:"anywidget"}),"."]}),e[41]=w):w=e[41],w}default:{ge(m);let d;return e[42]===m?d=e[43]:(d=(0,r.jsxs)("div",{className:"text-destructive",children:["Unsupported mimetype: ",m]}),e[42]=m,e[43]=d),d}}}),pe.displayName="OutputRenderer";var cl=(0,y.memo)(t=>{let e=(0,je.c)(35),{data:n,channel:l,cellId:a}=t,o=Array.isArray(n)?n[0]:n,i;e[0]===o?i=e[1]:(i=_e.keys(o),e[0]=o,e[1]=i);let s=i[0];if(!s)return null;if(Object.keys(o).length===1){let S=o[s],b;e[2]!==l||e[3]!==s||e[4]!==S?(b={channel:l,data:S,mimetype:s},e[2]=l,e[3]=s,e[4]=S,e[5]=b):b=e[5];let C;return e[6]!==a||e[7]!==b?(C=(0,r.jsx)(pe,{cellId:a,message:b}),e[6]=a,e[7]=b,e[8]=C):C=e[8],C}let c,u,g,m,d,f,w;if(e[9]!==a||e[10]!==l||e[11]!==s||e[12]!==o){let S=_e.entries(o);S.sort(zr),c=Ds,f=s,w="vertical",m="flex",d=(0,r.jsx)(As,{className:"self-start max-h-none flex flex-col gap-2 mr-4 shrink-0",children:S.map(Tr)}),u="flex-1";let b;e[20]!==a||e[21]!==l?(b=C=>{let[v,_]=C;return(0,r.jsx)(Ps,{value:v,children:(0,r.jsx)(El,{children:(0,r.jsx)(pe,{cellId:a,message:{channel:l,data:_,mimetype:v}})})},v)},e[20]=a,e[21]=l,e[22]=b):b=e[22],g=S.map(b),e[9]=a,e[10]=l,e[11]=s,e[12]=o,e[13]=c,e[14]=u,e[15]=g,e[16]=m,e[17]=d,e[18]=f,e[19]=w}else c=e[13],u=e[14],g=e[15],m=e[16],d=e[17],f=e[18],w=e[19];let p;e[23]!==u||e[24]!==g?(p=(0,r.jsx)("div",{className:u,children:g}),e[23]=u,e[24]=g,e[25]=p):p=e[25];let h;e[26]!==m||e[27]!==d||e[28]!==p?(h=(0,r.jsxs)("div",{className:m,children:[d,p]}),e[26]=m,e[27]=d,e[28]=p,e[29]=h):h=e[29];let x;return e[30]!==c||e[31]!==f||e[32]!==w||e[33]!==h?(x=(0,r.jsx)(c,{defaultValue:f,orientation:w,children:h}),e[30]=c,e[31]=f,e[32]=w,e[33]=h,e[34]=x):x=e[34],x});cl.displayName="MimeBundleOutputRenderer",Yt=y.memo(t=>{let e=(0,je.c)(17),{output:n,cellId:l,stale:a,loading:o,allowExpand:i,forceExpand:s,className:c}=t;if(n===null||n.channel==="output"&&n.data==="")return null;let u=a?"This output is stale":void 0,g=i?ml:gl,m;e[0]===l?m=e[1]:(m=Si.create(l),e[0]=l,e[1]=m);let d=a&&"marimo-output-stale",f=o&&"marimo-output-loading",w;e[2]!==c||e[3]!==d||e[4]!==f?(w=F(d,f,c),e[2]=c,e[3]=d,e[4]=f,e[5]=w):w=e[5];let p;e[6]!==l||e[7]!==n?(p=(0,r.jsx)(pe,{cellId:l,message:n}),e[6]=l,e[7]=n,e[8]=p):p=e[8];let h;return e[9]!==g||e[10]!==l||e[11]!==s||e[12]!==m||e[13]!==w||e[14]!==p||e[15]!==u?(h=(0,r.jsx)(El,{children:(0,r.jsx)(g,{title:u,cellId:l,forceExpand:s,id:m,className:w,children:p})}),e[9]=g,e[10]=l,e[11]=s,e[12]=m,e[13]=w,e[14]=p,e[15]=u,e[16]=h):h=e[16],h}),Yt.displayName="OutputArea";var gl=y.forwardRef((t,e)=>{let n=(0,je.c)(3),l;return n[0]!==t||n[1]!==e?(l=(0,r.jsx)("div",{ref:e,...t}),n[0]=t,n[1]=e,n[2]=l):l=n[2],l});gl.displayName="Div";var ml=y.memo(t=>{let e=(0,je.c)(25),{cellId:n,children:l,forceExpand:a,...o}=t,i=(0,y.useRef)(null),[s,c]=Bi(n),[u,g]=(0,y.useState)(!1),{hasFullscreen:m}=Ns(),d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{if(!i.current)return;let _=i.current,M=new ResizeObserver(()=>{g(_.scrollHeight>_.clientHeight)});return M.observe(_),()=>{M.disconnect()}},e[0]=d):d=e[0],(0,y.useEffect)(d,[o.id]);let f;e[1]===m?f=e[2]:(f=m&&(0,r.jsx)(G,{content:"Fullscreen",side:"left",children:(0,r.jsx)(D,{"data-testid":"fullscreen-output-button",className:"hover-action hover:bg-muted p-1 hover:border-border border border-transparent",onClick:async()=>{var _;await((_=i.current)==null?void 0:_.requestFullscreen())},onMouseDown:Z.preventFocus,size:"xs",variant:"text",children:(0,r.jsx)(bn,{className:"size-4",strokeWidth:1.25})})}),e[1]=m,e[2]=f);let w;e[3]!==a||e[4]!==s||e[5]!==u||e[6]!==c?(w=(u||s)&&!a&&(0,r.jsx)(D,{"data-testid":"expand-output-button",className:F("hover:border-border border border-transparent hover:bg-muted",!s&&"hover-action"),onClick:()=>c(!s),size:"xs",variant:"text",children:s?(0,r.jsx)(G,{content:"Collapse output",side:"left",children:(0,r.jsx)(Hi,{className:"h-4 w-4"})}):(0,r.jsx)(G,{content:"Expand output",side:"left",children:(0,r.jsx)(Ye,{className:"h-4 w-4"})})}),e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=w):w=e[7];let p;e[8]!==f||e[9]!==w?(p=(0,r.jsx)("div",{className:"relative print:hidden",children:(0,r.jsxs)("div",{className:"absolute -right-9 top-1 z-1 flex flex-col gap-1",children:[f,w]})}),e[8]=f,e[9]=w,e[10]=p):p=e[10];let h=F("relative fullscreen:bg-background fullscreen:flex fullscreen:items-center fullscreen:justify-center","fullscreen:items-center-safe",o.className),x;e[11]!==a||e[12]!==s?(x=s||a?{maxHeight:"none"}:void 0,e[11]=a,e[12]=s,e[13]=x):x=e[13];let S;e[14]!==l||e[15]!==o||e[16]!==h||e[17]!==x?(S=(0,r.jsx)("div",{...o,"data-cell-role":"output",className:h,ref:i,style:x,children:l}),e[14]=l,e[15]=o,e[16]=h,e[17]=x,e[18]=S):S=e[18];let b;e[19]!==p||e[20]!==S?(b=(0,r.jsxs)("div",{children:[p,S]}),e[19]=p,e[20]=S,e[21]=b):b=e[21];let C;e[22]===Symbol.for("react.memo_cache_sentinel")?(C=(0,r.jsx)("div",{className:"increase-pointer-area-x contents print:hidden"}),e[22]=C):C=e[22];let v;return e[23]===b?v=e[24]:(v=(0,r.jsxs)(r.Fragment,{children:[b,C]}),e[23]=b,e[24]=v),v});ml.displayName="ExpandableOutput";function zr(t,e){let[n]=t;return n==="text/html"?-1:0}function Tr(t){let[e]=t;return(0,r.jsx)(Vs,{value:e,className:"flex items-center space-x-2",children:(0,r.jsx)(G,{delayDuration:200,content:e,side:"right",children:(0,r.jsx)("span",{children:Dr(e)})})},e)}var Or=P(A(),1);const Hr=t=>{let e=(0,Or.c)(6),{value:n}=t,l;e[0]!==n.data||e[1]!==n.mimetype?(l={channel:"output",data:n.data,mimetype:n.mimetype,timestamp:0},e[0]=n.data,e[1]=n.mimetype,e[2]=l):l=e[2];let a=l,o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=F("flex items-center space-x-2"),e[3]=o):o=e[3];let i;return e[4]===a?i=e[5]:(i=(0,r.jsx)("div",{className:o,children:(0,r.jsx)(pe,{message:a})}),e[4]=a,e[5]=i),i};function vt(t){return typeof t=="object"&&!!t&&"mimetype"in t&&"data"in t}function Lr(t){if(vt(t))return[t];if(typeof t=="object"&&t&&("_serialized_mime_bundle"in t||"serialized_mime_bundle"in t)){let e=t,n=e._serialized_mime_bundle||e.serialized_mime_bundle;if(vt(n))return[n]}if(Array.isArray(t)&&t.every(vt))return t.map(e=>e)}function Gr(t,e){if(t.length<=e)return t;let n=[],l=t.length/e;for(let o=0;o<e-1;o++){let i=Math.floor(o*l);n.push(t[i])}let a=t.at(-1);return n.push(a),n}var pl=P(A(),1),fl=/(https?:\/\/\S+)/,qr=/\.(png|jpe?g|gif|webp|svg|ico)(\?.*)?$/i,hl=/^data:image\//i,$r=["avatars.githubusercontent.com"],Br=t=>{let e=(0,pl.c)(14),{url:n}=t,[l,a]=(0,y.useState)(!1),[o,i]=(0,y.useState)(!1);if(l){let w;return e[0]===n?w=e[1]:(w=(0,r.jsx)(wl,{url:n}),e[0]=n,e[1]=w),w}let s,c;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>i(!0),c=()=>i(!1),e[2]=s,e[3]=c):(s=e[2],c=e[3]);let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=()=>a(!0),e[4]=u):u=e[4];let g;e[5]===n?g=e[6]:(g=(0,r.jsx)(At,{asChild:!0,children:(0,r.jsx)("div",{className:"flex max-h-[80px] overflow-hidden cursor-pointer",onMouseEnter:s,onMouseLeave:c,children:(0,r.jsx)("img",{src:n,alt:"URL preview",className:"object-contain rounded max-h-[80px]",onError:u})})}),e[5]=n,e[6]=g);let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=()=>a(!0),e[7]=m):m=e[7];let d;e[8]===n?d=e[9]:(d=(0,r.jsx)(Dt,{className:"z-50 p-2 bg-popover rounded-md shadow-lg border w-fit",align:"start",side:"right",children:(0,r.jsx)("img",{src:n,alt:"URL preview",className:"object-contain max-h-[500px] rounded",onError:m})}),e[8]=n,e[9]=d);let f;return e[10]!==o||e[11]!==g||e[12]!==d?(f=(0,r.jsxs)(Et,{open:o,onOpenChange:i,children:[g,d]}),e[10]=o,e[11]=g,e[12]=d,e[13]=f):f=e[13],f};function Ur(t){return hl.test(t)?[{type:"image",url:t}]:t.split(fl).filter(e=>e.trim()!=="").map(e=>fl.test(e)?qr.test(e)||hl.test(e)||$r.some(n=>e.includes(n))?{type:"image",url:e}:{type:"url",url:e}:{type:"text",value:e})}const xl=({parts:t})=>t.map((e,n)=>e.type==="url"?(0,r.jsx)(wl,{url:e.url},n):e.type==="image"?(0,r.jsx)(Br,{url:e.url},n):e.value);var wl=t=>{let e=(0,pl.c)(3),{url:n}=t,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=Z.stopPropagation(),e[0]=l):l=e[0];let a;return e[1]===n?a=e[2]:(a=(0,r.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",onClick:l,className:"text-link hover:underline",children:n}),e[1]=n,e[2]=a),a},Wr=50,Kr="__select__";function bl(t){return typeof t=="string"?["string","string"]:typeof t=="number"?["number","number"]:t instanceof Date?["datetime","datetime"]:typeof t=="boolean"?["boolean","boolean"]:["unknown","object"]}rn=function(t){if(t.length===0||typeof t[0]!="object")return[];let e={};return Gr(t,10).forEach(n=>{typeof n!="object"||!n||Object.entries(n).forEach(([l,a])=>{e[l]||(e[l]=bl(a)),a!=null&&(e[l]=bl(a))})}),_e.entries(e)},da="__m_column__",an=function({rowHeaders:t,selection:e,fieldTypes:n,chartSpecModel:l,textJustifyColumns:a,wrappedColumns:o,headerTooltip:i,showDataTypes:s,calculateTopKRows:c}){let u=new Set(t.map(([p])=>p)),g=Li.keyBy(n,p=>p[0]),m=p=>{var S,b;let h=(S=g.get(p))==null?void 0:S[1],x=u.has(p);if(x||!h){let C=(b=t.find(([v])=>v===p))==null?void 0:b[1];return{rowHeader:x,dtype:C==null?void 0:C[1],dataType:C==null?void 0:C[0]}}return{rowHeader:x,filterType:Jr(h[0]),dtype:h[1],dataType:h[0]}},d=[...u,...n.map(([p])=>p)],f=d.indexOf(Qe);f!==-1&&d.splice(f,1);let w=d.map((p,h)=>({id:p||`__m_column__${h}`,accessorFn:x=>x[p],header:({column:x,table:S})=>{var V;let b=l==null?void 0:l.getColumnStats(p),C=(V=x.columnDef.meta)==null?void 0:V.dtype,v=i==null?void 0:i[p],_=s&&C?(0,r.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:C}),b&&typeof b.nulls=="number"&&b.nulls>0&&(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(nulls: ",b.nulls,")"]})]}):null,M=(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:F("font-bold",v&&"underline decoration-dotted"),children:p===""?" ":p}),_]}),k=(0,r.jsx)(Wt,{header:v?(0,r.jsx)(G,{content:v,delayDuration:300,children:M}):M,column:x,calculateTopKRows:c,table:S});return u.has(p)?k:(0,r.jsxs)("div",{className:"flex flex-col h-full pt-0.5 pb-3 justify-between items-start",children:[k,(0,r.jsx)(Xo,{columnId:p})]})},cell:({column:x,renderValue:S,getValue:b,cell:C})=>{var O;function v(){var $;e!=="single-cell"&&e!=="multi-cell"||(($=C.toggleSelected)==null||$.call(C))}let _=a==null?void 0:a[p],M=o==null?void 0:o.includes(p),k=((O=C==null?void 0:C.getIsSelected)==null?void 0:O.call(C))||!1,V=en({column:x,renderValue:S,getValue:b,selectCell:v,cellStyles:Xr(_,M,(e==="single-cell"||e==="multi-cell")&&!k,k)});return u.has(p)?(0,r.jsx)("b",{children:V}):V},filterFn:void 0,enableSorting:!!p,meta:m(p)}));return(e==="single"||e==="multi")&&w.unshift({id:Kr,maxSize:40,header:({table:p})=>e==="multi"?(0,r.jsx)(Be,{"data-testid":"select-all-checkbox",checked:p.getIsAllPageRowsSelected(),onCheckedChange:h=>p.toggleAllPageRowsSelected(!!h),"aria-label":"Select all",className:"mx-1.5 my-4"}):null,cell:({row:p})=>(0,r.jsx)(Be,{"data-testid":"select-row-checkbox",checked:p.getIsSelected(),onCheckedChange:h=>p.toggleSelected(!!h),"aria-label":"Select row",className:"mx-2",onMouseDown:h=>{h.stopPropagation()}}),enableSorting:!1,enableHiding:!1}),w};var Sl=({cellStyles:t,selectCell:e,rawStringValue:n,contentClassName:l,buttonText:a,wrapped:o,children:i})=>(0,r.jsx)(qt,{container:null,children:(0,r.jsxs)(Et,{children:[(0,r.jsx)(At,{className:F(t,"w-fit outline-hidden"),onClick:e,onMouseDown:s=>{s.stopPropagation()},children:(0,r.jsx)("span",{className:F("cursor-pointer hover:text-link",o&&"whitespace-pre-wrap min-w-[200px]"),title:n,children:n})}),(0,r.jsxs)(Dt,{className:l,align:"start",alignOffset:10,children:[(0,r.jsx)(Ss,{className:"absolute top-2 right-2",children:(0,r.jsx)(D,{variant:"link",size:"xs",children:a??"Close"})}),i]})]})});function Yr(t){return t==null?!0:typeof t!="object"}function Jr(t){if(t!==void 0)switch(t){case"string":return"text";case"number":return"number";case"integer":return"number";case"date":return"date";case"datetime":return"datetime";case"time":return"time";case"boolean":return"boolean";default:return}}function Xr(t,e,n,l){return F(n&&"cursor-pointer",l&&"relative before:absolute before:inset-0 before:bg-(--blue-3) before:rounded before:-z-10 before:mx-[-4px] before:my-[-2px]","w-full","text-left","truncate",t==="center"&&"text-center",t==="right"&&"text-right",e&&"whitespace-pre-wrap min-w-[200px] break-words")}function Cl(t){if(t==null)return"";try{return JSON.stringify(t)}catch{return String(t)}}function yl({value:t,dataType:e,dtype:n,format:l,locale:a}){let o=e==="date"?"date":"datetime",i=mo(n);return(0,r.jsx)(Kn,{date:t,type:o,children:l?ns(t,l):os(t,i,a)})}en=function({column:t,renderValue:e,getValue:n,selectCell:l,cellStyles:a}){var g,m,d,f,w;let o=n(),i=(g=t.getColumnFormatting)==null?void 0:g.call(t),s=(m=t.columnDef.meta)==null?void 0:m.dataType,c=(d=t.columnDef.meta)==null?void 0:d.dtype;if(s==="datetime"&&typeof o=="string")try{let p=new Date(o),h=ls(o);return(0,r.jsx)(Mn,{children:x=>yl({value:p,dataType:s,dtype:c,format:h,locale:x})})}catch(p){we.error("Error parsing datetime, fallback to string",p)}if(o instanceof Date)return(0,r.jsx)(Mn,{children:p=>yl({value:o,dataType:s,dtype:c,locale:p})});if(typeof o=="string"){let p=String(i?t.applyColumnFormatting(o):e()),h=Ur(p);return h.some(x=>x.type!=="text")||p.length<Wr?(0,r.jsx)("div",{onClick:l,className:a,children:(0,r.jsx)(xl,{parts:h})}):(0,r.jsx)(Sl,{cellStyles:a,selectCell:l,rawStringValue:p,contentClassName:"max-h-64 overflow-auto whitespace-pre-wrap break-words text-sm",buttonText:"X",wrapped:((f=t.getColumnWrapping)==null?void 0:f.call(t))==="wrap",children:(0,r.jsx)(xl,{parts:h})})}if(i)return(0,r.jsx)("div",{onClick:l,className:a,children:t.applyColumnFormatting(o)});if(Yr(o)){let p=e();return(0,r.jsx)("div",{onClick:l,className:a,children:p==null?"":String(p)})}let u=Lr(o);return u?(0,r.jsx)("div",{onClick:l,className:a,children:u.map((p,h)=>(0,r.jsx)(Hr,{value:p},h))}):Array.isArray(o)||typeof o=="object"?(0,r.jsx)(Sl,{cellStyles:a,selectCell:l,rawStringValue:Cl(o),wrapped:((w=t.getColumnWrapping)==null?void 0:w.call(t))==="wrap",children:(0,r.jsx)(Jl,{data:o,format:"tree",className:"max-h-64"})}):(0,r.jsx)("div",{onClick:l,className:a,children:Cl(o)})}});export{Tt as A,Ot as B,Qe as C,et as D,na as E,Me as F,Ht as H,Lt as I,Gt as L,la as M,qt as N,$t as O,Bt as P,Ut as R,Wt as S,aa as T,Kt as V,oa as _,Es as __tla,Yt as a,Jt as b,Xt as c,ra as d,Zt as f,ia as g,Qt as h,en as i,tn as j,nn as k,sa as l,ln as m,an as n,pe as o,on as p,rn as r,ua as s,da as t,ca as u,ga as v,sn as w,un as x,dn as y,cn as z};
