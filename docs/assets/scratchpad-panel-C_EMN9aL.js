import{s as W}from"./chunk-DZLz74EQ.js";import{c as St,d as ct,l as Ct,s as zt}from"./jotai-DDOP7CKM.js";import{t as Ot}from"./react-BcIddLXZ.js";import{Br as At,E as It,F as Et,Mr as Lt,bt as Mt,t as f,__tla as Pt}from"./cells-B6jS0AIj.js";import"./react-dom-D6bRRS5R.js";import"./zod-U2NFpcFA.js";import{n as nt,t as Rt}from"./jsx-runtime-DvsdsEjx.js";import"./_Uint8Array-D5Z9rM2X.js";import"./isSymbol-xTSywenE.js";import"./_arrayMap-DQI2GUNb.js";import"./toString-CBnct2wx.js";import"./toNumber-CTOPJrpu.js";import"./toInteger-Bor4StOs.js";import"./isArrayLikeObject-DKyJYtr8.js";import"./_getTag-CVRrQL_Q.js";import"./_baseIsEqual-BF8660ot.js";import"./merge-BgA7kxZb.js";import"./_baseSlice-B27Cqkm6.js";import"./upperFirst-DOlTOwhh.js";import"./_hasUnicode-CPHpt5EV.js";import"./capitalize-CkrfIDeS.js";import"./_arrayReduce-DDpPg0Qh.js";import"./startCase-DOk4LYuA.js";import"./_baseProperty-CIKnF2iY.js";import"./now-B6JN1xKT.js";import"./debounce-70y9MzDK.js";import"./loader-g7OmFu5O.js";import"./range-CPekNdzi.js";import"./client-D7HR2pz-.js";import{d as dt}from"./hotkeys-Lbk6RHir.js";import"./invariant-DPGusy7Z.js";import{v as Ht}from"./utils-DnJCRgaX.js";import"./constants-DIZnpo2K.js";import"./config-BjdJmdrN.js";import"./useHotkey-BxEtU0rE.js";import"./globals-CqGdf2Mu.js";import"./ErrorBoundary-7JQlouA1.js";import"./useEventListener-C5BS4xuN.js";import{t as qt}from"./cn-C5VTNYKf.js";import{t as X}from"./button-nRVaalxL.js";import"./dist-BPcMnGQn.js";import"./dist-pZAIwcZo.js";import{a as Dt,__tla as Ft}from"./columns-BnRpK2Sj.js";import"./once-Co7xi2Ip.js";import"./capabilities-DdXtcIOa.js";import"./createReducer-80xvKyHq.js";import{r as Vt}from"./requests-D3Z6okhb.js";import"./preload-helper-BpItL31i.js";import"./dist-C13bkrcz.js";import"./dist-DZNGKufD.js";import"./dist-DBeOBCHw.js";import"./dist-Ba10OKR3.js";import"./dist-D-CsU-_R.js";import"./dist-ClBFnEcy.js";import"./stex-LEaAsvUb.js";import"./Deferred-zIiWPYX3.js";import"./uuid-Dj56ryH_.js";import"./key-DWQdrH_J.js";import"./use-toast-BiL_AQz9.js";import"./main-CD7jouuS.js";import"./marked.esm-DCf1d_lA.js";import"./connection-DnLUBy9M.js";import"./dist-Q3T6mWQ0.js";import{r as Bt}from"./useTheme-BMknLtnH.js";import{t as ht}from"./createLucideIcon-DA8ZBm4D.js";import{d as Gt,__tla as Ut}from"./layout-5wvJriiD.js";import"./add-cell-with-ai-DsqPH829.js";import{t as Jt}from"./between-horizontal-start-T2r-KWkg.js";import"./ai-model-dropdown-CtXN4x7s.js";import"./type-Cpth3na1.js";import"./check-BUgsJwxM.js";import"./select-DJ0A_oCR.js";import"./download-C6eeMKzw.js";import"./chevron-right-WxQzIptp.js";import"./maps-C9sj23qe.js";import"./ansi_up-HmF1kpkv.js";import"./circle-check-CqMhoTIq.js";import"./toDate-sQp07c5U.js";import"./dropdown-menu-1SGi7wHR.js";import"./eye-off-Dyzb-Ibf.js";import"./copy-CWjpIcfl.js";import"./ellipsis-D2pzSaaA.js";import"./types-BT_Kor11.js";import"./file-video-camera-DxgiJa0r.js";import{t as Kt,__tla as Qt}from"./cell-editor-D-dzcxHF.js";import"./file-text-Cng4_CT2.js";import"./file-CEq0dl8f.js";import"./image-C0wlzN76.js";import"./list-filter-pQvV7yyl.js";import{t as Wt}from"./spinner-FaMZ5NTl.js";import"./readonly-python-code-CViHfG5I.js";import"./MarimoErrorOutput-okxire5Y.js";import{t as Xt}from"./play-BOSd7i5f.js";import"./plus-CmzxQYgQ.js";import"./save-D8ZS9wXm.js";import"./input-BPw9p_8N.js";import"./sparkles-CyIU0Xy_.js";import"./trash-6fDSPVMB.js";import"./datasource-CzmVjgw7.js";import"./useNonce-DECX9FAH.js";import"./badge-CFi0nvIx.js";import"./Combination-DR4iFoRS.js";import"./dist-Cei_8ikW.js";import{t as Y}from"./tooltip-BQKXsEoT.js";import"./useLifecycle-CuZnZLRp.js";import"./menu-items-DOc2hwO2.js";import"./tslib.es6-sakIzgHM.js";import"./dates-CSR6KU2P.js";import"./en-US-CUvYxyLA.js";import"./isValid-BcG0nMKW.js";import"./mode-BdfAcJv1.js";import"./alert-dialog-DM1h8RhU.js";import"./dialog-CEqVOFHc.js";import"./context-BMtIGcq8.js";import"./useDateFormatter-B6Y_k710.js";import"./useNumberFormatter-DynX1ecE.js";import"./shim-Bk8nzKPV.js";import"./SelectionIndicator-BZgcq5mv.js";import"./numbers-Hxwz5HuE.js";import{n as Z}from"./useEvent-d8iQXgui.js";import"./useDebounce-BDmbJDbT.js";import"./ImperativeModal-CmOSTULR.js";import"./strings-DSmr2a_p.js";import"./errors-5BnWGoql.js";import"./vega-loader.browser.module-B-icPEAc.js";import"./precisionRound-BIK1W-Pu.js";import"./defaultLocale-DEOAvdte.js";import"./defaultLocale-Ca1Ci3kv.js";import"./copy-DAqXDCGN.js";import"./copy-icon-5DWltDxB.js";import"./purify.es-D83HMRRD.js";import"./useRunCells-uzADaSkg.js";import"./RenderHTML-CUSvJfTV.js";import"./accordion-BlX0p_kD.js";import"./delay-mount-BvJt70jv.js";import"./emotion-is-prop-valid.esm-BgfwcIY_.js";import"./extends-C-tvimwN.js";import"./prop-types-BdSU55sL.js";import"./objectWithoutPropertiesLoose-DDvr5cHq.js";import"./with-selector-B_mpCvmo.js";import"./alert-CBA2m-3_.js";import"./useAsyncData-CsBCDF11.js";import"./error-banner-RIuTelB8.js";import"./kbd-CZFOBQmt.js";import{a as Yt}from"./renderShortcut-GP8-boTA.js";import"./label-6DIjJ2sP.js";import{t as Zt,__tla as $t}from"./LazyAnyLanguageCodeMirror-PGusm5pp.js";import"./popover-BM0PuIZH.js";import"./cell-link-D9FNaXGs.js";import"./es-Bvr8zSR1.js";import"./dom-DaBOvHqM.js";import"./blob-COEMBEnt.js";import"./useDeleteCell-BSTJX7_O.js";import"./add-missing-import-BJfCTctT.js";import"./esm-ChGlv0th.js";import"./icons-j8BJ30se.js";import"./command-BqJiTpIC.js";import"./table-mB7CFPse.js";import"./formats-Q84dqqph.js";import"./links-DCKgyNFq.js";import"./state-CMOQfD_O.js";import"./useIframeCapabilities-w06PAeNM.js";import"./tabs-CwHEUPW2.js";import{o as Tt}from"./focus-NSCHuycv.js";import"./useAddCell-BcZiZJfL.js";import"./switch-CEMEIJww.js";import"./floating-outline-CUjFOfng.js";import"./dist-Dxvyqlvc.js";import"./name-cell-input-Dz-KAuAq.js";import"./useSplitCell-D9pBG6Lc.js";import"./Inputs-BOv_AsYA.js";import"./constants-DeGDq7UB.js";import{__tla as tr}from"./loro_wasm_bg-Clschb6n.js";import"./ws-jTF5Klp7.js";import"./useInterval-CbVxXhaI.js";import"./dist-DOg_DNWV.js";import"./dist-Bztoy_V_.js";import"./dist-DI9MeT7Y.js";import"./dist-CDb8BikS.js";import"./dist-HbBFu0Hw.js";import"./dist-C5ypE-xK.js";import"./dist-DgRIgdnS.js";import"./dist-BF_WTga9.js";import"./dist-DoLsMp73.js";import"./dist-DleXuWcB.js";import"./dist-nfVGAiua.js";import"./dist-DXQZ2qpx.js";import"./apl-DA5FS-jg.js";import"./asciiarmor-BqYC8972.js";import"./asn1-CV308CV7.js";import"./brainfuck-JVVuXNr9.js";import"./cobol-BkP6Ajjp.js";import"./clike-BRQvCw2t.js";import"./clojure-CxEG72Vt.js";import"./css-CAhmSbgi.js";import"./cmake-Db6MlmXu.js";import"./coffeescript-JRe5aZz8.js";import"./commonlisp-D9wKGkUX.js";import"./cypher-CgHLgHbV.js";import"./python-C6KZGpy1.js";import"./crystal-CDUaptrE.js";import"./d-BUlepkAd.js";import"./diff-C3_Npxuv.js";import"./dtd-_OGR-47e.js";import"./dylan-B7e-HXd4.js";import"./ecl-Bmb3ojXd.js";import"./eiffel-D9YEZupi.js";import"./elm-DjAG68Xr.js";import"./erlang-CEhNn9ee.js";import"./simple-mode-DrtN-JC1.js";import"./factor-DjTCV0tC.js";import"./forth-DDK1MZGo.js";import"./fortran-DFBw9BHL.js";import"./mllike-Bk0kvFR5.js";import"./gas-CeJahU84.js";import"./gherkin-BjPrVVCm.js";import"./groovy-BhSsiYa2.js";import"./haskell-CnqE89TS.js";import"./haxe-tz3dS1Ms.js";import"./idl-CkWqZUmz.js";import"./javascript--WFQrQGu.js";import"./jinja2-DdXbUzg-.js";import"./julia-sSC0A2QC.js";import"./livescript-BrGDWGj5.js";import"./lua-BgywVrLy.js";import"./mirc-CndxT3S-.js";import"./mathematica-CXqFqAlK.js";import"./modelica-BESTN_Yb.js";import"./mumps-C1cvIlnt.js";import"./mbox-B1eeU--v.js";import"./nsis-BLZx23sj.js";import"./ntriples-Bnb5pPta.js";import"./octave-FcRMzfM9.js";import"./oz-DL18r1EA.js";import"./pascal-CySNBvQR.js";import"./perl-lfRKrssY.js";import"./pig-lSzmTbd2.js";import"./powershell-L_F0rY6B.js";import"./properties-BVcJ2l9p.js";import"./protobuf-eME7rUY3.js";import"./pug-CC2LN4Ib.js";import"./puppet-0JRLgwf6.js";import"./q-BJQq3HSY.js";import"./r-B11tLzMa.js";import"./rpm-zwHK3PeN.js";import"./ruby-BjRVRq_k.js";import"./sas-g1MjHO-z.js";import"./scheme-CGMbgbRs.js";import"./shell-C7_H8y4W.js";import"./sieve-CEOxhP-I.js";import"./smalltalk-C-2o9ebc.js";import"./sparql-87z_UEc4.js";import"./stylus-Bvvi8MmW.js";import"./swift-DeJEO5nK.js";import"./verilog-DKBTg4jR.js";import"./tcl-CTRWqPLR.js";import"./textile-C5KboBqI.js";import"./toml-BiRQJsN4.js";import"./troff-CIdymZ6G.js";import"./ttcn-NLOJFaBh.js";import"./ttcn-cfg-BxG4drVc.js";import"./turtle-c5oFjZu2.js";import"./webidl-vigh4ITk.js";import"./vb-DLYFo3qd.js";import"./vbscript-B-Swk_a6.js";import"./velocity-CL_O0nuc.js";import"./vhdl-B_K9_xTH.js";import"./xquery-Df6PFV-u.js";import"./yacas-B7BpVY8m.js";import"./z80-B9-UrYYz.js";import"./mscgen-CCAKOoJb.js";import"./dist-CFxk591T.js";import"./esm-CphaRm2f.js";import{t as rr}from"./kiosk-mode-C-flD8ND.js";let ft,or=Promise.all([(()=>{try{return Pt}catch{}})(),(()=>{try{return Ft}catch{}})(),(()=>{try{return Ut}catch{}})(),(()=>{try{return Qt}catch{}})(),(()=>{try{return $t}catch{}})(),(()=>{try{return tr}catch{}})()]).then(async()=>{var ut=ht("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),xt=ht("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),_t=W(nt(),1),$=W(Ot(),1),vt=15;const T=Lt("marimo:scratchpadHistory:v1",[],Mt),gt=ct(!1),jt=ct(null,(t,m,e)=>{if(e=e.trim(),!e)return;let a=t(T);m(T,[e,...a.filter(u=>u!==e)].slice(0,vt))});var r=W(Rt(),1),bt={hide_code:!1,disabled:!1};const yt=()=>{var lt;let t=(0,_t.c)(84),m=Et(),[e]=Ht(),{theme:a}=Bt(),u=(0,$.useRef)(null),tt=Tt(),{createNewCell:rt,updateCellCode:x}=It(),{sendRunScratchpad:_}=Vt(),p=m.cellRuntime[f],ot=p==null?void 0:p.output,v=p==null?void 0:p.status,it=p==null?void 0:p.consoleOutputs,i=((lt=m.cellData.__scratch__)==null?void 0:lt.code)??"",mt=Ct(jt),[o,s]=zt(gt),g=St(T),R;t[0]!==mt||t[1]!==i||t[2]!==_?(R=()=>{_({code:i}),mt(i)},t[0]=mt,t[1]=i,t[2]=_,t[3]=R):R=t[3];let j=Z(R),H;t[4]!==i||t[5]!==rt||t[6]!==tt?(H=()=>{i.trim()&&rt({code:i,before:!1,cellId:tt??"__end__"})},t[4]=i,t[5]=rt,t[6]=tt,t[7]=H):H=t[7];let L=Z(H),q;t[8]!==_||t[9]!==x?(q=()=>{x({cellId:f,code:"",formattingChange:!1}),_({code:""});let d=u.current;d&&d.dispatch({changes:{from:0,to:d.state.doc.length,insert:""}})},t[8]=_,t[9]=x,t[10]=q):q=t[10];let M=Z(q),D;t[11]!==s||t[12]!==x?(D=d=>{s(!1),x({cellId:f,code:d,formattingChange:!1});let h=u.current;h&&h.dispatch({changes:{from:0,to:h.state.doc.length,insert:d}})},t[11]=s,t[12]=x,t[13]=D):D=t[13];let P=Z(D),[et,wt]=(0,$.useState)(),b,y,w,k,l,c,n;if(t[14]!==i||t[15]!==it||t[16]!==M||t[17]!==L||t[18]!==j||t[19]!==P||t[20]!==g||t[21]!==o||t[22]!==et||t[23]!==ot||t[24]!==s||t[25]!==v||t[26]!==a||t[27]!==e){let d=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"overflow-auto shrink-0 max-h-[40%]",children:(0,r.jsx)(Kt,{theme:a,showPlaceholder:!1,id:f,code:i,config:bt,status:"idle",serializedEditorState:null,runCell:j,userConfig:e,editorViewRef:u,setEditorView:Q=>{u.current=Q},hidden:!1,showHiddenCode:dt.NOOP,languageAdapter:et,setLanguageAdapter:wt})}),(0,r.jsx)("div",{className:"flex-1 overflow-auto shrink-0",children:(0,r.jsx)(Dt,{allowExpand:!1,output:ot,className:"output-area",cellId:f,stale:!1,loading:!1})}),(0,r.jsx)("div",{className:"overflow-auto shrink-0 max-h-[35%]",children:(0,r.jsx)(Gt,{consoleOutputs:it,className:"overflow-auto",stale:!1,cellName:"_",onSubmitDebugger:dt.NOOP,cellId:f,debuggerActive:!1})})]}),h;t[35]!==P||t[36]!==g||t[37]!==o||t[38]!==a?(h=()=>o?(0,r.jsx)("div",{className:"absolute inset-0 z-100 bg-background p-3 border-none overflow-auto",children:(0,r.jsx)("div",{className:"overflow-auto flex flex-col gap-3",children:g.map((Q,Nt)=>(0,r.jsx)("div",{className:"border rounded-md hover:shadow-sm cursor-pointer hover:border-input overflow-hidden",onClick:()=>P(Q),children:(0,r.jsx)($.Suspense,{children:(0,r.jsx)(Zt,{language:"python",theme:a,basicSetup:{highlightActiveLine:!1,highlightActiveLineGutter:!1},value:Q.trim(),editable:!1,readOnly:!0})})},Nt))})}):null,t[35]=P,t[36]=g,t[37]=o,t[38]=a,t[39]=h):h=t[39];let kt=h;k="flex flex-col h-full overflow-hidden divide-y",t[40]===Symbol.for("react.memo_cache_sentinel")?(l=At.create(f),c=(0,r.jsx)("p",{className:"mx-2 my-2 text-muted-foreground text-sm",children:"Use this scratchpad cell to experiment with code without restrictions on variable names. Scratchpad code is ephemeral: variables defined in the scratchpad aren't saved to notebook memory, and the code is not saved in the notebook file."}),t[40]=l,t[41]=c):(l=t[40],c=t[41]);let V;t[42]===Symbol.for("react.memo_cache_sentinel")?(V=Yt("cell.run"),t[42]=V):V=t[42];let B;t[43]===Symbol.for("react.memo_cache_sentinel")?(B=(0,r.jsx)(Xt,{color:"var(--grass-11)",size:16}),t[43]=B):B=t[43];let S;t[44]!==j||t[45]!==o?(S=(0,r.jsx)(Y,{content:V,children:(0,r.jsx)(X,{"data-testid":"scratchpad-run-button",onClick:j,disabled:o,variant:"text",size:"xs",children:B})}),t[44]=j,t[45]=o,t[46]=S):S=t[46];let G;t[47]===Symbol.for("react.memo_cache_sentinel")?(G=(0,r.jsx)(ut,{size:16}),t[47]=G):G=t[47];let C;t[48]!==M||t[49]!==o?(C=(0,r.jsx)(Y,{content:"Clear code and outputs",children:(0,r.jsx)(X,{disabled:o,size:"xs",variant:"text",onClick:M,children:G})}),t[48]=M,t[49]=o,t[50]=C):C=t[50];let U;t[51]===Symbol.for("react.memo_cache_sentinel")?(U=(0,r.jsx)(Jt,{size:16}),t[51]=U):U=t[51];let z;t[52]!==L||t[53]!==o?(z=(0,r.jsx)(rr,{children:(0,r.jsx)(Y,{content:"Insert code",children:(0,r.jsx)(X,{disabled:o,size:"xs",variant:"text",onClick:L,children:U})})}),t[52]=L,t[53]=o,t[54]=z):z=t[54];let O;t[55]===v?O=t[56]:(O=(v==="running"||v==="queued")&&(0,r.jsx)(Wt,{className:"inline",size:"small"}),t[55]=v,t[56]=O);let J;t[57]===Symbol.for("react.memo_cache_sentinel")?(J=(0,r.jsx)("div",{className:"flex-1"}),t[57]=J):J=t[57];let pt=o&&"bg-(--sky-3) rounded-none",A;t[58]===pt?A=t[59]:(A=qt(pt),t[58]=pt,t[59]=A);let I;t[60]!==o||t[61]!==s?(I=()=>s(!o),t[60]=o,t[61]=s,t[62]=I):I=t[62];let at=g.length===0,K;t[63]===Symbol.for("react.memo_cache_sentinel")?(K=(0,r.jsx)(xt,{size:16}),t[63]=K):K=t[63];let E;t[64]!==A||t[65]!==I||t[66]!==at?(E=(0,r.jsx)(Y,{content:"Toggle history",children:(0,r.jsx)(X,{size:"xs",variant:"text",className:A,onClick:I,disabled:at,children:K})}),t[64]=A,t[65]=I,t[66]=at,t[67]=E):E=t[67],t[68]!==S||t[69]!==C||t[70]!==z||t[71]!==O||t[72]!==E?(n=(0,r.jsxs)("div",{className:"flex items-center shrink-0",children:[S,C,z,O,J,E]}),t[68]=S,t[69]=C,t[70]=z,t[71]=O,t[72]=E,t[73]=n):n=t[73],y="flex-1 divide-y relative overflow-hidden flex flex-col",w=d(),b=kt(),t[14]=i,t[15]=it,t[16]=M,t[17]=L,t[18]=j,t[19]=P,t[20]=g,t[21]=o,t[22]=et,t[23]=ot,t[24]=s,t[25]=v,t[26]=a,t[27]=e,t[28]=b,t[29]=y,t[30]=w,t[31]=k,t[32]=l,t[33]=c,t[34]=n}else b=t[28],y=t[29],w=t[30],k=t[31],l=t[32],c=t[33],n=t[34];let N;t[74]!==b||t[75]!==y||t[76]!==w?(N=(0,r.jsxs)("div",{className:y,children:[w,b]}),t[74]=b,t[75]=y,t[76]=w,t[77]=N):N=t[77];let F;return t[78]!==N||t[79]!==k||t[80]!==l||t[81]!==c||t[82]!==n?(F=(0,r.jsxs)("div",{className:k,id:l,children:[c,n,N]}),t[78]=N,t[79]=k,t[80]=l,t[81]=c,t[82]=n,t[83]=F):F=t[83],F};let st;st=W(nt(),1),ft=()=>{let t=(0,st.c)(1),m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)(yt,{}),t[0]=m):m=t[0],m}});export{or as __tla,ft as default};
