function ar(b){var kr=b.statementIndent,ir=b.jsonld,yr=b.json||ir,p=b.typescript,K=b.wordCharacters||/[\w$\xa1-\uffff]/,vr=(function(){function r(x){return{type:x,style:"keyword"}}var e=r("keyword a"),n=r("keyword b"),i=r("keyword c"),u=r("keyword d"),l=r("operator"),m={type:"atom",style:"atom"};return{if:r("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:u,break:u,continue:u,new:r("new"),delete:i,void:i,throw:i,debugger:r("debugger"),var:r("var"),const:r("var"),let:r("var"),function:r("function"),catch:r("catch"),for:r("for"),switch:r("switch"),case:r("case"),default:r("default"),in:l,typeof:l,instanceof:l,true:m,false:m,null:m,undefined:m,NaN:m,Infinity:m,this:r("this"),class:r("class"),super:r("atom"),yield:i,export:r("export"),import:r("import"),extends:i,await:i}})(),wr=/[+\-*&%=<>!?|~^@]/,Ir=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Sr(r){for(var e=!1,n,i=!1;(n=r.next())!=null;){if(!e){if(n=="/"&&!i)return;n=="["?i=!0:i&&n=="]"&&(i=!1)}e=!e&&n=="\\"}}var D,L;function y(r,e,n){return D=r,L=n,e}function O(r,e){var n=r.next();if(n=='"'||n=="'")return e.tokenize=Nr(n),e.tokenize(r,e);if(n=="."&&r.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return y("number","number");if(n=="."&&r.match(".."))return y("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return y(n);if(n=="="&&r.eat(">"))return y("=>","operator");if(n=="0"&&r.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\d/.test(n))return r.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),y("number","number");if(n=="/")return r.eat("*")?(e.tokenize=M,M(r,e)):r.eat("/")?(r.skipToEnd(),y("comment","comment")):le(r,e,1)?(Sr(r),r.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),y("regexp","string.special")):(r.eat("="),y("operator","operator",r.current()));if(n=="`")return e.tokenize=F,F(r,e);if(n=="#"&&r.peek()=="!")return r.skipToEnd(),y("meta","meta");if(n=="#"&&r.eatWhile(K))return y("variable","property");if(n=="<"&&r.match("!--")||n=="-"&&r.match("->")&&!/\S/.test(r.string.slice(0,r.start)))return r.skipToEnd(),y("comment","comment");if(wr.test(n))return(n!=">"||!e.lexical||e.lexical.type!=">")&&(r.eat("=")?(n=="!"||n=="=")&&r.eat("="):/[<>*+\-|&?]/.test(n)&&(r.eat(n),n==">"&&r.eat(n))),n=="?"&&r.eat(".")?y("."):y("operator","operator",r.current());if(K.test(n)){r.eatWhile(K);var i=r.current();if(e.lastType!="."){if(vr.propertyIsEnumerable(i)){var u=vr[i];return y(u.type,u.style,i)}if(i=="async"&&r.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return y("async","keyword",i)}return y("variable","variable",i)}}function Nr(r){return function(e,n){var i=!1,u;if(ir&&e.peek()=="@"&&e.match(Ir))return n.tokenize=O,y("jsonld-keyword","meta");for(;(u=e.next())!=null&&!(u==r&&!i);)i=!i&&u=="\\";return i||(n.tokenize=O),y("string","string")}}function M(r,e){for(var n=!1,i;i=r.next();){if(i=="/"&&n){e.tokenize=O;break}n=i=="*"}return y("comment","comment")}function F(r,e){for(var n=!1,i;(i=r.next())!=null;){if(!n&&(i=="`"||i=="$"&&r.eat("{"))){e.tokenize=O;break}n=!n&&i=="\\"}return y("quasi","string.special",r.current())}var Pr="([{}])";function ur(r,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=r.string.indexOf("=>",r.start);if(!(n<0)){if(p){var i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(r.string.slice(r.start,n));i&&(n=i.index)}for(var u=0,l=!1,m=n-1;m>=0;--m){var x=r.string.charAt(m),g=Pr.indexOf(x);if(g>=0&&g<3){if(!u){++m;break}if(--u==0){x=="("&&(l=!0);break}}else if(g>=3&&g<6)++u;else if(K.test(x))l=!0;else if(/["'\/`]/.test(x))for(;;--m){if(m==0)return;if(r.string.charAt(m-1)==x&&r.string.charAt(m-2)!="\\"){m--;break}}else if(l&&!u){++m;break}}l&&!u&&(e.fatArrowAt=m)}}var Cr={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function br(r,e,n,i,u,l){this.indented=r,this.column=e,this.type=n,this.prev=u,this.info=l,i!=null&&(this.align=i)}function Wr(r,e){for(var n=r.localVars;n;n=n.next)if(n.name==e)return!0;for(var i=r.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==e)return!0}function Br(r,e,n,i,u){var l=r.cc;for(a.state=r,a.stream=u,a.marked=null,a.cc=l,a.style=e,r.lexical.hasOwnProperty("align")||(r.lexical.align=!0);;)if((l.length?l.pop():yr?k:v)(n,i)){for(;l.length&&l[l.length-1].lex;)l.pop()();return a.marked?a.marked:n=="variable"&&Wr(r,i)?"variableName.local":e}}var a={state:null,column:null,marked:null,cc:null};function f(){for(var r=arguments.length-1;r>=0;r--)a.cc.push(arguments[r])}function t(){return f.apply(null,arguments),!0}function or(r,e){for(var n=e;n;n=n.next)if(n.name==r)return!0;return!1}function S(r){var e=a.state;if(a.marked="def",e.context){if(e.lexical.info=="var"&&e.context&&e.context.block){var n=hr(r,e.context);if(n!=null){e.context=n;return}}else if(!or(r,e.localVars)){e.localVars=new G(r,e.localVars);return}}b.globalVars&&!or(r,e.globalVars)&&(e.globalVars=new G(r,e.globalVars))}function hr(r,e){if(e)if(e.block){var n=hr(r,e.prev);return n?n==e.prev?e:new U(n,e.vars,!0):null}else return or(r,e.vars)?e:new U(e.prev,new G(r,e.vars),!1);else return null}function Q(r){return r=="public"||r=="private"||r=="protected"||r=="abstract"||r=="readonly"}function U(r,e,n){this.prev=r,this.vars=e,this.block=n}function G(r,e){this.name=r,this.next=e}var Dr=new G("this",new G("arguments",null));function _(){a.state.context=new U(a.state.context,a.state.localVars,!1),a.state.localVars=Dr}function R(){a.state.context=new U(a.state.context,a.state.localVars,!0),a.state.localVars=null}_.lex=R.lex=!0;function V(){a.state.localVars=a.state.context.vars,a.state.context=a.state.context.prev}V.lex=!0;function s(r,e){var n=function(){var i=a.state,u=i.indented;if(i.lexical.type=="stat")u=i.lexical.indented;else for(var l=i.lexical;l&&l.type==")"&&l.align;l=l.prev)u=l.indented;i.lexical=new br(u,a.stream.column(),r,null,i.lexical,e)};return n.lex=!0,n}function o(){var r=a.state;r.lexical.prev&&(r.lexical.type==")"&&(r.indented=r.lexical.indented),r.lexical=r.lexical.prev)}o.lex=!0;function c(r){function e(n){return n==r?t():r==";"||n=="}"||n==")"||n=="]"?f():t(e)}return e}function v(r,e){return r=="var"?t(s("vardef",e),dr,c(";"),o):r=="keyword a"?t(s("form"),fr,v,o):r=="keyword b"?t(s("form"),v,o):r=="keyword d"?a.stream.match(/^\s*$/,!1)?t():t(s("stat"),N,c(";"),o):r=="debugger"?t(c(";")):r=="{"?t(s("}"),R,Z,o,V):r==";"?t():r=="if"?(a.state.lexical.info=="else"&&a.state.cc[a.state.cc.length-1]==o&&a.state.cc.pop()(),t(s("form"),fr,v,o,Tr)):r=="function"?t($):r=="for"?t(s("form"),R,jr,v,V,o):r=="class"||p&&e=="interface"?(a.marked="keyword",t(s("form",r=="class"?r:e),Or,o)):r=="variable"?p&&e=="declare"?(a.marked="keyword",t(v)):p&&(e=="module"||e=="enum"||e=="type")&&a.stream.match(/^\s*\w/,!1)?(a.marked="keyword",e=="enum"?t(Er):e=="type"?t($r,c("operator"),d,c(";")):t(s("form"),z,c("{"),s("}"),Z,o,o)):p&&e=="namespace"?(a.marked="keyword",t(s("form"),k,v,o)):p&&e=="abstract"?(a.marked="keyword",t(v)):t(s("stat"),Kr):r=="switch"?t(s("form"),fr,c("{"),s("}","switch"),R,Z,o,o,V):r=="case"?t(k,c(":")):r=="default"?t(c(":")):r=="catch"?t(s("form"),_,Fr,v,o,V):r=="export"?t(s("stat"),ie,o):r=="import"?t(s("stat"),ue,o):r=="async"?t(v):e=="@"?t(k,v):f(s("stat"),k,c(";"),o)}function Fr(r){if(r=="(")return t(I,c(")"))}function k(r,e){return xr(r,e,!1)}function h(r,e){return xr(r,e,!0)}function fr(r){return r=="("?t(s(")"),N,c(")"),o):f()}function xr(r,e,n){if(a.state.fatArrowAt==a.stream.start){var i=n?Vr:gr;if(r=="(")return t(_,s(")"),w(I,")"),o,c("=>"),i,V);if(r=="variable")return f(_,z,c("=>"),i,V)}var u=n?P:q;return Cr.hasOwnProperty(r)?t(u):r=="function"?t($,u):r=="class"||p&&e=="interface"?(a.marked="keyword",t(s("form"),ae,o)):r=="keyword c"||r=="async"?t(n?h:k):r=="("?t(s(")"),N,c(")"),o,u):r=="operator"||r=="spread"?t(n?h:k):r=="["?t(s("]"),fe,o,u):r=="{"?H(Y,"}",null,u):r=="quasi"?f(X,u):r=="new"?t(Gr(n)):t()}function N(r){return r.match(/[;\}\)\],]/)?f():f(k)}function q(r,e){return r==","?t(N):P(r,e,!1)}function P(r,e,n){var i=n==0?q:P,u=n==0?k:h;if(r=="=>")return t(_,n?Vr:gr,V);if(r=="operator")return/\+\+|--/.test(e)||p&&e=="!"?t(i):p&&e=="<"&&a.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?t(s(">"),w(d,">"),o,i):e=="?"?t(k,c(":"),u):t(u);if(r=="quasi")return f(X,i);if(r!=";"){if(r=="(")return H(h,")","call",i);if(r==".")return t(Lr,i);if(r=="[")return t(s("]"),N,c("]"),o,i);if(p&&e=="as")return a.marked="keyword",t(d,i);if(r=="regexp")return a.state.lastType=a.marked="operator",a.stream.backUp(a.stream.pos-a.stream.start-1),t(u)}}function X(r,e){return r=="quasi"?e.slice(e.length-2)=="${"?t(N,Ur):t(X):f()}function Ur(r){if(r=="}")return a.marked="string.special",a.state.tokenize=F,t(X)}function gr(r){return ur(a.stream,a.state),f(r=="{"?v:k)}function Vr(r){return ur(a.stream,a.state),f(r=="{"?v:h)}function Gr(r){return function(e){return e=="."?t(r?Jr:Hr):e=="variable"&&p?t(Zr,r?P:q):f(r?h:k)}}function Hr(r,e){if(e=="target")return a.marked="keyword",t(q)}function Jr(r,e){if(e=="target")return a.marked="keyword",t(P)}function Kr(r){return r==":"?t(o,v):f(q,c(";"),o)}function Lr(r){if(r=="variable")return a.marked="property",t()}function Y(r,e){if(r=="async")return a.marked="property",t(Y);if(r=="variable"||a.style=="keyword"){if(a.marked="property",e=="get"||e=="set")return t(Mr);var n;return p&&a.state.fatArrowAt==a.stream.start&&(n=a.stream.match(/^\s*:\s*/,!1))&&(a.state.fatArrowAt=a.stream.pos+n[0].length),t(E)}else{if(r=="number"||r=="string")return a.marked=ir?"property":a.style+" property",t(E);if(r=="jsonld-keyword")return t(E);if(p&&Q(e))return a.marked="keyword",t(Y);if(r=="[")return t(k,C,c("]"),E);if(r=="spread")return t(h,E);if(e=="*")return a.marked="keyword",t(Y);if(r==":")return f(E)}}function Mr(r){return r=="variable"?(a.marked="property",t($)):f(E)}function E(r){if(r==":")return t(h);if(r=="(")return f($)}function w(r,e,n){function i(u,l){if(n?n.indexOf(u)>-1:u==","){var m=a.state.lexical;return m.info=="call"&&(m.pos=(m.pos||0)+1),t(function(x,g){return x==e||g==e?f():f(r)},i)}return u==e||l==e?t():n&&n.indexOf(";")>-1?f(r):t(c(e))}return function(u,l){return u==e||l==e?t():f(r,i)}}function H(r,e,n){for(var i=3;i<arguments.length;i++)a.cc.push(arguments[i]);return t(s(e,n),w(r,e),o)}function Z(r){return r=="}"?t():f(v,Z)}function C(r,e){if(p){if(r==":")return t(d);if(e=="?")return t(C)}}function Qr(r,e){if(p&&(r==":"||e=="in"))return t(d)}function zr(r){if(p&&r==":")return a.stream.match(/^\s*\w+\s+is\b/,!1)?t(k,Rr,d):t(d)}function Rr(r,e){if(e=="is")return a.marked="keyword",t()}function d(r,e){if(e=="keyof"||e=="typeof"||e=="infer"||e=="readonly")return a.marked="keyword",t(e=="typeof"?h:d);if(r=="variable"||e=="void")return a.marked="type",t(A);if(e=="|"||e=="&")return t(d);if(r=="string"||r=="number"||r=="atom")return t(A);if(r=="[")return t(s("]"),w(d,"]",","),o,A);if(r=="{")return t(s("}"),sr,o,A);if(r=="(")return t(w(lr,")"),Xr,A);if(r=="<")return t(w(d,">"),d);if(r=="quasi")return f(cr,A)}function Xr(r){if(r=="=>")return t(d)}function sr(r){return r.match(/[\}\)\]]/)?t():r==","||r==";"?t(sr):f(J,sr)}function J(r,e){if(r=="variable"||a.style=="keyword")return a.marked="property",t(J);if(e=="?"||r=="number"||r=="string")return t(J);if(r==":")return t(d);if(r=="[")return t(c("variable"),Qr,c("]"),J);if(r=="(")return f(B,J);if(!r.match(/[;\}\)\],]/))return t()}function cr(r,e){return r=="quasi"?e.slice(e.length-2)=="${"?t(d,Yr):t(cr):f()}function Yr(r){if(r=="}")return a.marked="string.special",a.state.tokenize=F,t(cr)}function lr(r,e){return r=="variable"&&a.stream.match(/^\s*[?:]/,!1)||e=="?"?t(lr):r==":"?t(d):r=="spread"?t(lr):f(d)}function A(r,e){if(e=="<")return t(s(">"),w(d,">"),o,A);if(e=="|"||r=="."||e=="&")return t(d);if(r=="[")return t(d,c("]"),A);if(e=="extends"||e=="implements")return a.marked="keyword",t(d);if(e=="?")return t(d,c(":"),d)}function Zr(r,e){if(e=="<")return t(s(">"),w(d,">"),o,A)}function rr(){return f(d,re)}function re(r,e){if(e=="=")return t(d)}function dr(r,e){return e=="enum"?(a.marked="keyword",t(Er)):f(z,C,j,te)}function z(r,e){if(p&&Q(e))return a.marked="keyword",t(z);if(r=="variable")return S(e),t();if(r=="spread")return t(z);if(r=="[")return H(ee,"]");if(r=="{")return H(Ar,"}")}function Ar(r,e){return r=="variable"&&!a.stream.match(/^\s*:/,!1)?(S(e),t(j)):(r=="variable"&&(a.marked="property"),r=="spread"?t(z):r=="}"?f():r=="["?t(k,c("]"),c(":"),Ar):t(c(":"),z,j))}function ee(){return f(z,j)}function j(r,e){if(e=="=")return t(h)}function te(r){if(r==",")return t(dr)}function Tr(r,e){if(r=="keyword b"&&e=="else")return t(s("form","else"),v,o)}function jr(r,e){if(e=="await")return t(jr);if(r=="(")return t(s(")"),ne,o)}function ne(r){return r=="var"?t(dr,W):r=="variable"?t(W):f(W)}function W(r,e){return r==")"?t():r==";"?t(W):e=="in"||e=="of"?(a.marked="keyword",t(k,W)):f(k,W)}function $(r,e){if(e=="*")return a.marked="keyword",t($);if(r=="variable")return S(e),t($);if(r=="(")return t(_,s(")"),w(I,")"),o,zr,v,V);if(p&&e=="<")return t(s(">"),w(rr,">"),o,$)}function B(r,e){if(e=="*")return a.marked="keyword",t(B);if(r=="variable")return S(e),t(B);if(r=="(")return t(_,s(")"),w(I,")"),o,zr,V);if(p&&e=="<")return t(s(">"),w(rr,">"),o,B)}function $r(r,e){if(r=="keyword"||r=="variable")return a.marked="type",t($r);if(e=="<")return t(s(">"),w(rr,">"),o)}function I(r,e){return e=="@"&&t(k,I),r=="spread"?t(I):p&&Q(e)?(a.marked="keyword",t(I)):p&&r=="this"?t(C,j):f(z,C,j)}function ae(r,e){return r=="variable"?Or(r,e):er(r,e)}function Or(r,e){if(r=="variable")return S(e),t(er)}function er(r,e){if(e=="<")return t(s(">"),w(rr,">"),o,er);if(e=="extends"||e=="implements"||p&&r==",")return e=="implements"&&(a.marked="keyword"),t(p?d:k,er);if(r=="{")return t(s("}"),T,o)}function T(r,e){if(r=="async"||r=="variable"&&(e=="static"||e=="get"||e=="set"||p&&Q(e))&&a.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return a.marked="keyword",t(T);if(r=="variable"||a.style=="keyword")return a.marked="property",t(tr,T);if(r=="number"||r=="string")return t(tr,T);if(r=="[")return t(k,C,c("]"),tr,T);if(e=="*")return a.marked="keyword",t(T);if(p&&r=="(")return f(B,T);if(r==";"||r==",")return t(T);if(r=="}")return t();if(e=="@")return t(k,T)}function tr(r,e){if(e=="!"||e=="?")return t(tr);if(r==":")return t(d,j);if(e=="=")return t(h);var n=a.state.lexical.prev;return f(n&&n.info=="interface"?B:$)}function ie(r,e){return e=="*"?(a.marked="keyword",t(mr,c(";"))):e=="default"?(a.marked="keyword",t(k,c(";"))):r=="{"?t(w(_r,"}"),mr,c(";")):f(v)}function _r(r,e){if(e=="as")return a.marked="keyword",t(c("variable"));if(r=="variable")return f(h,_r)}function ue(r){return r=="string"?t():r=="("?f(k):r=="."?f(q):f(nr,qr,mr)}function nr(r,e){return r=="{"?H(nr,"}"):(r=="variable"&&S(e),e=="*"&&(a.marked="keyword"),t(oe))}function qr(r){if(r==",")return t(nr,qr)}function oe(r,e){if(e=="as")return a.marked="keyword",t(nr)}function mr(r,e){if(e=="from")return a.marked="keyword",t(k)}function fe(r){return r=="]"?t():f(w(h,"]"))}function Er(){return f(s("form"),z,c("{"),s("}"),w(se,"}"),o,o)}function se(){return f(z,j)}function ce(r,e){return r.lastType=="operator"||r.lastType==","||wr.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}function le(r,e,n){return e.tokenize==O&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||e.lastType=="quasi"&&/\{\s*$/.test(r.string.slice(0,r.pos-(n||0)))}return{name:b.name,startState:function(r){var e={tokenize:O,lastType:"sof",cc:[],lexical:new br(-r,0,"block",!1),localVars:b.localVars,context:b.localVars&&new U(null,null,!1),indented:0};return b.globalVars&&typeof b.globalVars=="object"&&(e.globalVars=b.globalVars),e},token:function(r,e){if(r.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=r.indentation(),ur(r,e)),e.tokenize!=M&&r.eatSpace())return null;var n=e.tokenize(r,e);return D=="comment"?n:(e.lastType=D=="operator"&&(L=="++"||L=="--")?"incdec":D,Br(e,n,D,L,r))},indent:function(r,e,n){if(r.tokenize==M||r.tokenize==F)return null;if(r.tokenize!=O)return 0;var i=e&&e.charAt(0),u=r.lexical,l;if(!/^\s*else\b/.test(e))for(var m=r.cc.length-1;m>=0;--m){var x=r.cc[m];if(x==o)u=u.prev;else if(x!=Tr&&x!=V)break}for(;(u.type=="stat"||u.type=="form")&&(i=="}"||(l=r.cc[r.cc.length-1])&&(l==q||l==P)&&!/^[,\.=+\-*:?[\(]/.test(e));)u=u.prev;kr&&u.type==")"&&u.prev.type=="stat"&&(u=u.prev);var g=u.type,pr=i==g;return g=="vardef"?u.indented+(r.lastType=="operator"||r.lastType==","?u.info.length+1:0):g=="form"&&i=="{"?u.indented:g=="form"?u.indented+n.unit:g=="stat"?u.indented+(ce(r,e)?kr||n.unit:0):u.info=="switch"&&!pr&&b.doubleIndentSwitch!=0?u.indented+(/^(?:case|default)\b/.test(e)?n.unit:2*n.unit):u.align?u.column+(pr?0:1):u.indented+(pr?0:n.unit)},languageData:{indentOnInput:/^\s*(?:case .*?:|default:|\{|\})$/,commentTokens:yr?void 0:{line:"//",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]},wordChars:"$"}}}const de=ar({name:"javascript"}),me=ar({name:"json",json:!0}),pe=ar({name:"json",jsonld:!0}),ke=ar({name:"typescript",typescript:!0});export{ke as i,me as n,pe as r,de as t};
