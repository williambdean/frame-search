/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var{entries:et,setPrototypeOf:tt,isFrozen:Ht,getPrototypeOf:Ft,getOwnPropertyDescriptor:Wt}=Object,{freeze:A,seal:N,create:nt}=Object,{apply:rt,construct:ot}=typeof Reflect<"u"&&Reflect;A||(A=function(o){return o}),N||(N=function(o){return o}),rt||(rt=function(o,r,l){return o.apply(r,l)}),ot||(ot=function(o,r){return new o(...r)});var ae=_(Array.prototype.forEach),Bt=_(Array.prototype.lastIndexOf),it=_(Array.prototype.pop),X=_(Array.prototype.push),Gt=_(Array.prototype.splice),le=_(String.prototype.toLowerCase),be=_(String.prototype.toString),at=_(String.prototype.match),q=_(String.prototype.replace),Yt=_(String.prototype.indexOf),jt=_(String.prototype.trim),S=_(Object.prototype.hasOwnProperty),E=_(RegExp.prototype.test),$=Xt(TypeError);function _(o){return function(r){r instanceof RegExp&&(r.lastIndex=0);var l=[...arguments].slice(1);return rt(o,r,l)}}function Xt(o){return function(){return ot(o,[...arguments])}}function i(o,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:le;tt&&tt(o,null);let c=r.length;for(;c--;){let b=r[c];if(typeof b=="string"){let R=l(b);R!==b&&(Ht(r)||(r[c]=R),b=R)}o[b]=!0}return o}function qt(o){for(let r=0;r<o.length;r++)S(o,r)||(o[r]=null);return o}function C(o){let r=nt(null);for(let[l,c]of et(o))S(o,l)&&(Array.isArray(c)?r[l]=qt(c):c&&typeof c=="object"&&c.constructor===Object?r[l]=C(c):r[l]=c);return r}function K(o,r){for(;o!==null;){let c=Wt(o,r);if(c){if(c.get)return _(c.get);if(typeof c.value=="function")return _(c.value)}o=Ft(o)}function l(){return null}return l}var lt=A("a.abbr.acronym.address.area.article.aside.audio.b.bdi.bdo.big.blink.blockquote.body.br.button.canvas.caption.center.cite.code.col.colgroup.content.data.datalist.dd.decorator.del.details.dfn.dialog.dir.div.dl.dt.element.em.fieldset.figcaption.figure.font.footer.form.h1.h2.h3.h4.h5.h6.head.header.hgroup.hr.html.i.img.input.ins.kbd.label.legend.li.main.map.mark.marquee.menu.menuitem.meter.nav.nobr.ol.optgroup.option.output.p.picture.pre.progress.q.rp.rt.ruby.s.samp.section.select.shadow.small.source.spacer.span.strike.strong.style.sub.summary.sup.table.tbody.td.template.textarea.tfoot.th.thead.time.tr.track.tt.u.ul.var.video.wbr".split(".")),Re=A("svg.a.altglyph.altglyphdef.altglyphitem.animatecolor.animatemotion.animatetransform.circle.clippath.defs.desc.ellipse.filter.font.g.glyph.glyphref.hkern.image.line.lineargradient.marker.mask.metadata.mpath.path.pattern.polygon.polyline.radialgradient.rect.stop.style.switch.symbol.text.textpath.title.tref.tspan.view.vkern".split(".")),we=A(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$t=A(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ve=A("math.menclose.merror.mfenced.mfrac.mglyph.mi.mlabeledtr.mmultiscripts.mn.mo.mover.mpadded.mphantom.mroot.mrow.ms.mspace.msqrt.mstyle.msub.msup.msubsup.mtable.mtd.mtext.mtr.munder.munderover.mprescripts".split(".")),Kt=A(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ct=A(["#text"]),st=A("accept.action.align.alt.autocapitalize.autocomplete.autopictureinpicture.autoplay.background.bgcolor.border.capture.cellpadding.cellspacing.checked.cite.class.clear.color.cols.colspan.controls.controlslist.coords.crossorigin.datetime.decoding.default.dir.disabled.disablepictureinpicture.disableremoteplayback.download.draggable.enctype.enterkeyhint.face.for.headers.height.hidden.high.href.hreflang.id.inputmode.integrity.ismap.kind.label.lang.list.loading.loop.low.max.maxlength.media.method.min.minlength.multiple.muted.name.nonce.noshade.novalidate.nowrap.open.optimum.pattern.placeholder.playsinline.popover.popovertarget.popovertargetaction.poster.preload.pubdate.radiogroup.readonly.rel.required.rev.reversed.role.rows.rowspan.spellcheck.scope.selected.shape.size.sizes.span.srclang.start.src.srcset.step.style.summary.tabindex.title.translate.type.usemap.valign.value.width.wrap.xmlns.slot".split(".")),Ce=A("accent-height.accumulate.additive.alignment-baseline.amplitude.ascent.attributename.attributetype.azimuth.basefrequency.baseline-shift.begin.bias.by.class.clip.clippathunits.clip-path.clip-rule.color.color-interpolation.color-interpolation-filters.color-profile.color-rendering.cx.cy.d.dx.dy.diffuseconstant.direction.display.divisor.dur.edgemode.elevation.end.exponent.fill.fill-opacity.fill-rule.filter.filterunits.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.fx.fy.g1.g2.glyph-name.glyphref.gradientunits.gradienttransform.height.href.id.image-rendering.in.in2.intercept.k.k1.k2.k3.k4.kerning.keypoints.keysplines.keytimes.lang.lengthadjust.letter-spacing.kernelmatrix.kernelunitlength.lighting-color.local.marker-end.marker-mid.marker-start.markerheight.markerunits.markerwidth.maskcontentunits.maskunits.max.mask.media.method.mode.min.name.numoctaves.offset.operator.opacity.order.orient.orientation.origin.overflow.paint-order.path.pathlength.patterncontentunits.patterntransform.patternunits.points.preservealpha.preserveaspectratio.primitiveunits.r.rx.ry.radius.refx.refy.repeatcount.repeatdur.restart.result.rotate.scale.seed.shape-rendering.slope.specularconstant.specularexponent.spreadmethod.startoffset.stddeviation.stitchtiles.stop-color.stop-opacity.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke.stroke-width.style.surfacescale.systemlanguage.tabindex.tablevalues.targetx.targety.transform.transform-origin.text-anchor.text-decoration.text-rendering.textlength.type.u1.u2.unicode.values.viewbox.visibility.version.vert-adv-y.vert-origin-x.vert-origin-y.width.word-spacing.wrap.writing-mode.xchannelselector.ychannelselector.x.x1.x2.xmlns.y.y1.y2.z.zoomandpan".split(".")),ut=A("accent.accentunder.align.bevelled.close.columnsalign.columnlines.columnspan.denomalign.depth.dir.display.displaystyle.encoding.fence.frame.height.href.id.largeop.length.linethickness.lspace.lquote.mathbackground.mathcolor.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.numalign.open.rowalign.rowlines.rowspacing.rowspan.rspace.rquote.scriptlevel.scriptminsize.scriptsizemultiplier.selection.separator.separators.stretchy.subscriptshift.supscriptshift.symmetric.voffset.width.xmlns".split(".")),ce=A(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Vt=N(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zt=N(/<%[\w\W]*|[\w\W]*%>/gm),Jt=N(/\$\{[\w\W]*/gm),Qt=N(/^data-[\-\w.\u00B7-\uFFFF]+$/),en=N(/^aria-[\-\w]+$/),mt=N(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tn=N(/^(?:\w+script|data):/i),nn=N(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pt=N(/^html$/i),rn=N(/^[a-z][.\w]*(-[.\w]+)+$/i),ft=Object.freeze({__proto__:null,ARIA_ATTR:en,ATTR_WHITESPACE:nn,CUSTOM_ELEMENT:rn,DATA_ATTR:Qt,DOCTYPE_NAME:pt,ERB_EXPR:Zt,IS_ALLOWED_URI:mt,IS_SCRIPT_OR_DATA:tn,MUSTACHE_EXPR:Vt,TMPLIT_EXPR:Jt}),V={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},on=function(){return typeof window>"u"?null:window},an=function(o,r){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let l=null,c="data-tt-policy-suffix";r&&r.hasAttribute(c)&&(l=r.getAttribute(c));let b="dompurify"+(l?"#"+l:"");try{return o.createPolicy(b,{createHTML(R){return R},createScriptURL(R){return R}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}},dt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function gt(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:on(),r=e=>gt(e);if(r.version="3.2.6",r.removed=[],!o||!o.document||o.document.nodeType!==V.document||!o.Element)return r.isSupported=!1,r;let{document:l}=o,c=l,b=c.currentScript,{DocumentFragment:R,HTMLTemplateElement:ht,Node:se,Element:Oe,NodeFilter:F,NamedNodeMap:Tt=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:yt,DOMParser:Et,trustedTypes:Z}=o,W=Oe.prototype,_t=K(W,"cloneNode"),At=K(W,"remove"),Nt=K(W,"nextSibling"),St=K(W,"childNodes"),J=K(W,"parentNode");if(typeof ht=="function"){let e=l.createElement("template");e.content&&e.content.ownerDocument&&(l=e.content.ownerDocument)}let g,B="",{implementation:ue,createNodeIterator:bt,createDocumentFragment:Rt,getElementsByTagName:wt}=l,{importNode:vt}=c,h=dt();r.isSupported=typeof et=="function"&&typeof J=="function"&&ue&&ue.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:me,ERB_EXPR:pe,TMPLIT_EXPR:fe,DATA_ATTR:Ct,ARIA_ATTR:Ot,IS_SCRIPT_OR_DATA:Lt,ATTR_WHITESPACE:Le,CUSTOM_ELEMENT:Dt}=ft,{IS_ALLOWED_URI:De}=ft,m=null,xe=i({},[...lt,...Re,...we,...ve,...ct]),f=null,Ie=i({},[...st,...Ce,...ut,...ce]),u=Object.seal(nt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,de=null,ke=!0,ge=!0,Me=!1,Ue=!0,I=!1,Q=!0,L=!1,he=!1,Te=!1,k=!1,ee=!1,te=!1,Pe=!0,ze=!1,ye=!0,Y=!1,M={},U=null,He=i({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Fe=null,We=i({},["audio","video","img","source","image","track"]),Ee=null,Be=i({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ne="http://www.w3.org/1998/Math/MathML",re="http://www.w3.org/2000/svg",w="http://www.w3.org/1999/xhtml",P=w,_e=!1,Ae=null,xt=i({},[ne,re,w],be),oe=i({},["mi","mo","mn","ms","mtext"]),ie=i({},["annotation-xml"]),It=i({},["title","style","font","a","script"]),j=null,kt=["application/xhtml+xml","text/html"],p=null,z=null,Mt=l.createElement("form"),Ge=function(e){return e instanceof RegExp||e instanceof Function},Ne=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(z&&z===e)){if((!e||typeof e!="object")&&(e={}),e=C(e),j=kt.indexOf(e.PARSER_MEDIA_TYPE)===-1?"text/html":e.PARSER_MEDIA_TYPE,p=j==="application/xhtml+xml"?be:le,m=S(e,"ALLOWED_TAGS")?i({},e.ALLOWED_TAGS,p):xe,f=S(e,"ALLOWED_ATTR")?i({},e.ALLOWED_ATTR,p):Ie,Ae=S(e,"ALLOWED_NAMESPACES")?i({},e.ALLOWED_NAMESPACES,be):xt,Ee=S(e,"ADD_URI_SAFE_ATTR")?i(C(Be),e.ADD_URI_SAFE_ATTR,p):Be,Fe=S(e,"ADD_DATA_URI_TAGS")?i(C(We),e.ADD_DATA_URI_TAGS,p):We,U=S(e,"FORBID_CONTENTS")?i({},e.FORBID_CONTENTS,p):He,G=S(e,"FORBID_TAGS")?i({},e.FORBID_TAGS,p):C({}),de=S(e,"FORBID_ATTR")?i({},e.FORBID_ATTR,p):C({}),M=S(e,"USE_PROFILES")?e.USE_PROFILES:!1,ke=e.ALLOW_ARIA_ATTR!==!1,ge=e.ALLOW_DATA_ATTR!==!1,Me=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ue=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,I=e.SAFE_FOR_TEMPLATES||!1,Q=e.SAFE_FOR_XML!==!1,L=e.WHOLE_DOCUMENT||!1,k=e.RETURN_DOM||!1,ee=e.RETURN_DOM_FRAGMENT||!1,te=e.RETURN_TRUSTED_TYPE||!1,Te=e.FORCE_BODY||!1,Pe=e.SANITIZE_DOM!==!1,ze=e.SANITIZE_NAMED_PROPS||!1,ye=e.KEEP_CONTENT!==!1,Y=e.IN_PLACE||!1,De=e.ALLOWED_URI_REGEXP||mt,P=e.NAMESPACE||w,oe=e.MATHML_TEXT_INTEGRATION_POINTS||oe,ie=e.HTML_INTEGRATION_POINTS||ie,u=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ge(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(u.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ge(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(u.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(u.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),I&&(ge=!1),ee&&(k=!0),M&&(m=i({},ct),f=[],M.html===!0&&(i(m,lt),i(f,st)),M.svg===!0&&(i(m,Re),i(f,Ce),i(f,ce)),M.svgFilters===!0&&(i(m,we),i(f,Ce),i(f,ce)),M.mathMl===!0&&(i(m,ve),i(f,ut),i(f,ce))),e.ADD_TAGS&&(m===xe&&(m=C(m)),i(m,e.ADD_TAGS,p)),e.ADD_ATTR&&(f===Ie&&(f=C(f)),i(f,e.ADD_ATTR,p)),e.ADD_URI_SAFE_ATTR&&i(Ee,e.ADD_URI_SAFE_ATTR,p),e.FORBID_CONTENTS&&(U===He&&(U=C(U)),i(U,e.FORBID_CONTENTS,p)),ye&&(m["#text"]=!0),L&&i(m,["html","head","body"]),m.table&&(i(m,["tbody"]),delete G.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw $('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=e.TRUSTED_TYPES_POLICY,B=g.createHTML("")}else g===void 0&&(g=an(Z,b)),g!==null&&typeof B=="string"&&(B=g.createHTML(""));A&&A(e),z=e}},Ye=i({},[...Re,...we,...$t]),je=i({},[...ve,...Kt]),Ut=function(e){let n=J(e);(!n||!n.tagName)&&(n={namespaceURI:P,tagName:"template"});let t=le(e.tagName),a=le(n.tagName);return Ae[e.namespaceURI]?e.namespaceURI===re?n.namespaceURI===w?t==="svg":n.namespaceURI===ne?t==="svg"&&(a==="annotation-xml"||oe[a]):!!Ye[t]:e.namespaceURI===ne?n.namespaceURI===w?t==="math":n.namespaceURI===re?t==="math"&&ie[a]:!!je[t]:e.namespaceURI===w?n.namespaceURI===re&&!ie[a]||n.namespaceURI===ne&&!oe[a]?!1:!je[t]&&(It[t]||!Ye[t]):!!(j==="application/xhtml+xml"&&Ae[e.namespaceURI]):!1},D=function(e){X(r.removed,{element:e});try{J(e).removeChild(e)}catch{At(e)}},H=function(e,n){try{X(r.removed,{attribute:n.getAttributeNode(e),from:n})}catch{X(r.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e==="is")if(k||ee)try{D(n)}catch{}else try{n.setAttribute(e,"")}catch{}},Xe=function(e){let n=null,t=null;if(Te)e="<remove></remove>"+e;else{let T=at(e,/^[\r\n\t ]+/);t=T&&T[0]}j==="application/xhtml+xml"&&P===w&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let a=g?g.createHTML(e):e;if(P===w)try{n=new Et().parseFromString(a,j)}catch{}if(!n||!n.documentElement){n=ue.createDocument(P,"template",null);try{n.documentElement.innerHTML=_e?B:a}catch{}}let s=n.body||n.documentElement;return e&&t&&s.insertBefore(l.createTextNode(t),s.childNodes[0]||null),P===w?wt.call(n,L?"html":"body")[0]:L?n.documentElement:s},qe=function(e){return bt.call(e.ownerDocument||e,e,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT|F.SHOW_PROCESSING_INSTRUCTION|F.SHOW_CDATA_SECTION,null)},Se=function(e){return e instanceof yt&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof Tt)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},$e=function(e){return typeof se=="function"&&e instanceof se};function v(e,n,t){ae(e,a=>{a.call(r,n,t,z)})}let Ke=function(e){let n=null;if(v(h.beforeSanitizeElements,e,null),Se(e))return D(e),!0;let t=p(e.nodeName);if(v(h.uponSanitizeElement,e,{tagName:t,allowedTags:m}),Q&&e.hasChildNodes()&&!$e(e.firstElementChild)&&E(/<[/\w!]/g,e.innerHTML)&&E(/<[/\w!]/g,e.textContent)||e.nodeType===V.progressingInstruction||Q&&e.nodeType===V.comment&&E(/<[/\w]/g,e.data))return D(e),!0;if(!m[t]||G[t]){if(!G[t]&&Ze(t)&&(u.tagNameCheck instanceof RegExp&&E(u.tagNameCheck,t)||u.tagNameCheck instanceof Function&&u.tagNameCheck(t)))return!1;if(ye&&!U[t]){let a=J(e)||e.parentNode,s=St(e)||e.childNodes;if(s&&a){let T=s.length;for(let x=T-1;x>=0;--x){let y=_t(s[x],!0);y.__removalCount=(e.__removalCount||0)+1,a.insertBefore(y,Nt(e))}}}return D(e),!0}return e instanceof Oe&&!Ut(e)||(t==="noscript"||t==="noembed"||t==="noframes")&&E(/<\/no(script|embed|frames)/i,e.innerHTML)?(D(e),!0):(I&&e.nodeType===V.text&&(n=e.textContent,ae([me,pe,fe],a=>{n=q(n,a," ")}),e.textContent!==n&&(X(r.removed,{element:e.cloneNode()}),e.textContent=n)),v(h.afterSanitizeElements,e,null),!1)},Ve=function(e,n,t){if(Pe&&(n==="id"||n==="name")&&(t in l||t in Mt))return!1;if(!(ge&&!de[n]&&E(Ct,n))&&!(ke&&E(Ot,n))){if(!f[n]||de[n]){if(!(Ze(e)&&(u.tagNameCheck instanceof RegExp&&E(u.tagNameCheck,e)||u.tagNameCheck instanceof Function&&u.tagNameCheck(e))&&(u.attributeNameCheck instanceof RegExp&&E(u.attributeNameCheck,n)||u.attributeNameCheck instanceof Function&&u.attributeNameCheck(n))||n==="is"&&u.allowCustomizedBuiltInElements&&(u.tagNameCheck instanceof RegExp&&E(u.tagNameCheck,t)||u.tagNameCheck instanceof Function&&u.tagNameCheck(t))))return!1}else if(!Ee[n]&&!E(De,q(t,Le,""))&&!((n==="src"||n==="xlink:href"||n==="href")&&e!=="script"&&Yt(t,"data:")===0&&Fe[e])&&!(Me&&!E(Lt,q(t,Le,"")))&&t)return!1}return!0},Ze=function(e){return e!=="annotation-xml"&&at(e,Dt)},Je=function(e){v(h.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||Se(e))return;let t={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:f,forceKeepAttr:void 0},a=n.length;for(;a--;){let{name:s,namespaceURI:T,value:x}=n[a],y=p(s),O=x,d=s==="value"?O:jt(O);if(t.attrName=y,t.attrValue=d,t.keepAttr=!0,t.forceKeepAttr=void 0,v(h.uponSanitizeAttribute,e,t),d=t.attrValue,ze&&(y==="id"||y==="name")&&(H(s,e),d="user-content-"+d),Q&&E(/((--!?|])>)|<\/(style|title)/i,d)){H(s,e);continue}if(t.forceKeepAttr)continue;if(!t.keepAttr){H(s,e);continue}if(!Ue&&E(/\/>/i,d)){H(s,e);continue}I&&ae([me,pe,fe],zt=>{d=q(d,zt," ")});let Qe=p(e.nodeName);if(!Ve(Qe,y,d)){H(s,e);continue}if(g&&typeof Z=="object"&&typeof Z.getAttributeType=="function"&&!T)switch(Z.getAttributeType(Qe,y)){case"TrustedHTML":d=g.createHTML(d);break;case"TrustedScriptURL":d=g.createScriptURL(d);break}if(d!==O)try{T?e.setAttributeNS(T,s,d):e.setAttribute(s,d),Se(e)?D(e):it(r.removed)}catch{H(s,e)}}v(h.afterSanitizeAttributes,e,null)},Pt=function e(n){let t=null,a=qe(n);for(v(h.beforeSanitizeShadowDOM,n,null);t=a.nextNode();)v(h.uponSanitizeShadowNode,t,null),Ke(t),Je(t),t.content instanceof R&&e(t.content);v(h.afterSanitizeShadowDOM,n,null)};return r.sanitize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=null,a=null,s=null,T=null;if(_e=!e,_e&&(e="<!-->"),typeof e!="string"&&!$e(e))if(typeof e.toString=="function"){if(e=e.toString(),typeof e!="string")throw $("dirty is not a string, aborting")}else throw $("toString is not a function");if(!r.isSupported)return e;if(he||Ne(n),r.removed=[],typeof e=="string"&&(Y=!1),Y){if(e.nodeName){let O=p(e.nodeName);if(!m[O]||G[O])throw $("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof se)t=Xe("<!---->"),a=t.ownerDocument.importNode(e,!0),a.nodeType===V.element&&a.nodeName==="BODY"||a.nodeName==="HTML"?t=a:t.appendChild(a);else{if(!k&&!I&&!L&&e.indexOf("<")===-1)return g&&te?g.createHTML(e):e;if(t=Xe(e),!t)return k?null:te?B:""}t&&Te&&D(t.firstChild);let x=qe(Y?e:t);for(;s=x.nextNode();)Ke(s),Je(s),s.content instanceof R&&Pt(s.content);if(Y)return e;if(k){if(ee)for(T=Rt.call(t.ownerDocument);t.firstChild;)T.appendChild(t.firstChild);else T=t;return(f.shadowroot||f.shadowrootmode)&&(T=vt.call(c,T,!0)),T}let y=L?t.outerHTML:t.innerHTML;return L&&m["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&E(pt,t.ownerDocument.doctype.name)&&(y="<!DOCTYPE "+t.ownerDocument.doctype.name+`>
`+y),I&&ae([me,pe,fe],O=>{y=q(y,O," ")}),g&&te?g.createHTML(y):y},r.setConfig=function(){Ne(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),he=!0},r.clearConfig=function(){z=null,he=!1},r.isValidAttribute=function(e,n,t){return z||Ne({}),Ve(p(e),p(n),t)},r.addHook=function(e,n){typeof n=="function"&&X(h[e],n)},r.removeHook=function(e,n){if(n!==void 0){let t=Bt(h[e],n);return t===-1?void 0:Gt(h[e],t,1)[0]}return it(h[e])},r.removeHooks=function(e){h[e]=[]},r.removeAllHooks=function(){h=dt()},r}var ln=gt();export{ln as t};
