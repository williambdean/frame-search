import{s as g}from"./chunk-DZLz74EQ.js";import{t as y}from"./react-BcIddLXZ.js";import{n as N,t as _}from"./jsx-runtime-DvsdsEjx.js";import{u as S}from"./hotkeys-Lbk6RHir.js";import{n as C,t as O}from"./cn-C5VTNYKf.js";import{c as E,i as F,l as V,n as A,s as D,t as T}from"./alert-dialog-DM1h8RhU.js";import{n as q}from"./errors-5BnWGoql.js";var j=g(N(),1),z=g(y(),1),r=g(_(),1);const B=p=>{let e=(0,j.c)(23),{error:l,className:t,action:a}=p,[n,c]=(0,z.useState)(!1);if(!l)return null;S.error(l);let o;e[0]===l?o=e[1]:(o=q(l),e[0]=l,e[1]=o);let s=o,f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=()=>c(!0),e[2]=f):f=e[2];let i;e[3]===s?i=e[4]:(i=(0,r.jsx)("span",{className:"line-clamp-4",children:s}),e[3]=s,e[4]=i);let d;e[5]===a?d=e[6]:(d=a&&(0,r.jsx)("div",{className:"flex justify-end",children:a}),e[5]=a,e[6]=d);let m;e[7]!==t||e[8]!==i||e[9]!==d?(m=(0,r.jsxs)(v,{kind:"danger",className:t,clickable:!0,onClick:f,children:[i,d]}),e[7]=t,e[8]=i,e[9]=d,e[10]=m):m=e[10];let k;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=(0,r.jsx)(E,{children:(0,r.jsx)(V,{className:"text-error",children:"Error"})}),e[11]=k):k=e[11];let h;e[12]===s?h=e[13]:(h=(0,r.jsx)("pre",{className:"text-error text-sm p-2 font-mono overflow-auto whitespace-pre-wrap",children:s}),e[12]=s,e[13]=h);let w;e[14]===Symbol.for("react.memo_cache_sentinel")?(w=(0,r.jsx)(D,{children:(0,r.jsx)(A,{autoFocus:!0,onClick:()=>c(!1),children:"Ok"})}),e[14]=w):w=e[14];let x;e[15]===h?x=e[16]:(x=(0,r.jsxs)(F,{className:"max-w-[80%] max-h-[80%] overflow-hidden flex flex-col",children:[k,h,w]}),e[15]=h,e[16]=x);let b;e[17]!==n||e[18]!==x?(b=(0,r.jsx)(T,{open:n,onOpenChange:c,children:x}),e[17]=n,e[18]=x,e[19]=b):b=e[19];let u;return e[20]!==b||e[21]!==m?(u=(0,r.jsxs)(r.Fragment,{children:[m,b]}),e[20]=b,e[21]=m,e[22]=u):u=e[22],u};var G=C("text-sm p-2 border whitespace-pre-wrap overflow-hidden",{variants:{kind:{danger:"text-error border-(--red-6) shadow-md-solid shadow-error bg-(--red-1)",info:"text-primary border-(--blue-6) shadow-md-solid shadow-accent bg-(--blue-1)",warn:"border-(--yellow-6) bg-(--yellow-2) dark:bg-(--yellow-4) text-(--yellow-11) dark:text-(--yellow-12)"},clickable:{true:"cursor-pointer"}},compoundVariants:[{clickable:!0,kind:"danger",className:"hover:bg-(--red-3)"},{clickable:!0,kind:"info",className:"hover:bg-(--blue-3)"},{clickable:!0,kind:"warn",className:"hover:bg-(--yellow-3)"}],defaultVariants:{kind:"info"}});const v=p=>{let e=(0,j.c)(14),l,t,a,n,c;e[0]===p?(l=e[1],t=e[2],a=e[3],n=e[4],c=e[5]):({kind:n,clickable:a,className:t,children:l,...c}=p,e[0]=p,e[1]=l,e[2]=t,e[3]=a,e[4]=n,e[5]=c);let o;e[6]!==t||e[7]!==a||e[8]!==n?(o=O(G({kind:n,clickable:a}),t),e[6]=t,e[7]=a,e[8]=n,e[9]=o):o=e[9];let s;return e[10]!==l||e[11]!==c||e[12]!==o?(s=(0,r.jsx)("div",{className:o,...c,children:l}),e[10]=l,e[11]=c,e[12]=o,e[13]=s):s=e[13],s};export{B as n,v as t};
