import{a as Ct,n as Wn,r as Hn,s as Jn,t as qn}from"./precisionRound-BIK1W-Pu.js";import{i as Wt,n as _n,r as Gn,t as Zn}from"./defaultLocale-DEOAvdte.js";import{C as Vn,N as Ht,S as Qn,T as Jt,_ as qt,a as Kn,b as it,c as _t,i as Xn,l as Gt,n as tr,o as nr,p as Zt,r as rr,s as er,t as ar,v as st,w as ur,x as or}from"./defaultLocale-Ca1Ci3kv.js";function A(t,n,r){return t.fields=n||[],t.fname=r,t}function ir(t){return t==null?null:t.fname}function Vt(t){return t==null?null:t.fields}function Qt(t){return t.length===1?sr(t[0]):lr(t)}var sr=t=>function(n){return n[t]},lr=t=>{let n=t.length;return function(r){for(let e=0;e<n;++e)r=r[t[e]];return r}};function v(t){throw Error(t)}function wt(t){let n=[],r=t.length,e=null,a=0,u="",o,i,c;t+="";function l(){n.push(u+t.substring(o,i)),u="",o=i+1}for(o=i=0;i<r;++i)if(c=t[i],c==="\\")u+=t.substring(o,i++),o=i;else if(c===e)l(),e=null,a=-1;else{if(e)continue;o===a&&c==='"'||o===a&&c==="'"?(o=i+1,e=c):c==="."&&!a?i>o?l():o=i+1:c==="["?(i>o&&l(),a=o=i+1):c==="]"&&(a||v("Access path missing open bracket: "+t),a>0&&l(),a=0,o=i+1)}return a&&v("Access path missing closing bracket: "+t),e&&v("Access path missing closing quote: "+t),i>o&&(i++,l()),n}function lt(t,n,r){let e=wt(t);return t=e.length===1?e[0]:t,A((r&&r.get||Qt)(e),[t],n||t)}var cr=lt("id"),H=A(t=>t,[],"identity"),I=A(()=>0,[],"zero"),Kt=A(()=>1,[],"one"),fr=A(()=>!0,[],"true"),hr=A(()=>!1,[],"false");function gr(t,n,r){let e=[n].concat([].slice.call(r));console[t].apply(console,e)}var pr=0,mr=1,dr=2,yr=3,vr=4;function br(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gr,e=t||0;return{level(a){return arguments.length?(e=+a,this):e},error(){return e>=1&&r(n||"error","ERROR",arguments),this},warn(){return e>=2&&r(n||"warn","WARN",arguments),this},info(){return e>=3&&r(n||"log","INFO",arguments),this},debug(){return e>=4&&r(n||"log","DEBUG",arguments),this}}}var J=Array.isArray;function R(t){return t===Object(t)}var Xt=t=>t!=="__proto__";function Mr(){return[...arguments].reduce((t,n)=>{for(let r in n)if(r==="signals")t.signals=Tr(t.signals,n.signals);else{let e=r==="legend"?{layout:1}:r==="style"?!0:null;jt(t,r,n[r],e)}return t},{})}function jt(t,n,r,e){if(!Xt(n))return;let a,u;if(R(r)&&!J(r))for(a in u=R(t[n])?t[n]:t[n]={},r)e&&(e===!0||e[a])?jt(u,a,r[a]):Xt(a)&&(u[a]=r[a]);else t[n]=r}function Tr(t,n){if(t==null)return n;let r={},e=[];function a(u){r[u.name]||(r[u.name]=1,e.push(u))}return n.forEach(a),t.forEach(a),e}function P(t){return t[t.length-1]}function q(t){return t==null||t===""?null:+t}var tn=t=>n=>t*Math.exp(n),nn=t=>n=>Math.log(t*n),rn=t=>n=>Math.sign(n)*Math.log1p(Math.abs(n/t)),en=t=>n=>Math.sign(n)*Math.expm1(Math.abs(n))*t,ct=t=>n=>n<0?-((-n)**+t):n**+t;function ft(t,n,r,e){let a=r(t[0]),u=r(P(t)),o=(u-a)*n;return[e(a-o),e(u-o)]}function Cr(t,n){return ft(t,n,q,H)}function wr(t,n){var r=Math.sign(t[0]);return ft(t,n,nn(r),tn(r))}function jr(t,n,r){return ft(t,n,ct(r),ct(1/r))}function Dr(t,n,r){return ft(t,n,rn(r),en(r))}function ht(t,n,r,e,a){let u=e(t[0]),o=e(P(t)),i=n==null?(u+o)/2:e(n);return[a(i+(u-i)*r),a(i+(o-i)*r)]}function kr(t,n,r){return ht(t,n,r,q,H)}function Ur(t,n,r){let e=Math.sign(t[0]);return ht(t,n,r,nn(e),tn(e))}function xr(t,n,r,e){return ht(t,n,r,ct(e),ct(1/e))}function Nr(t,n,r,e){return ht(t,n,r,rn(e),en(e))}function Or(t){return 1+~~(new Date(t).getMonth()/3)}function Er(t){return 1+~~(new Date(t).getUTCMonth()/3)}function $(t){return t==null?[]:J(t)?t:[t]}function Ar(t,n,r){let e=t[0],a=t[1],u;return a<e&&(u=a,a=e,e=u),u=a-e,u>=r-n?[n,r]:[e=Math.min(Math.max(e,n),r-u),e+u]}function B(t){return typeof t=="function"}var Fr="descending";function Sr(t,n,r){r||(r={}),n=$(n)||[];let e=[],a=[],u={},o=r.comparator||Pr;return $(t).forEach((i,c)=>{i!=null&&(e.push(n[c]===Fr?-1:1),a.push(i=B(i)?i:lt(i,null,r)),(Vt(i)||[]).forEach(l=>u[l]=1))}),a.length===0?null:A(o(a,e),Object.keys(u))}var Dt=(t,n)=>(t<n||t==null)&&n!=null?-1:(t>n||n==null)&&t!=null?1:(n=n instanceof Date?+n:n,(t=t instanceof Date?+t:t)!==t&&n===n?-1:n!==n&&t===t?1:0),Pr=(t,n)=>t.length===1?zr(t[0],n[0]):Yr(t,n,t.length),zr=(t,n)=>function(r,e){return Dt(t(r),t(e))*n},Yr=(t,n,r)=>(n.push(0),function(e,a){let u,o=0,i=-1;for(;o===0&&++i<r;)u=t[i],o=Dt(u(e),u(a));return o*n[i]});function an(t){return B(t)?t:()=>t}function Ir(t,n){let r;return e=>{r&&clearTimeout(r),r=setTimeout(()=>(n(e),r=null),t)}}function z(t){for(let n,r,e=1,a=arguments.length;e<a;++e)for(r in n=arguments[e],n)t[r]=n[r];return t}function Rr(t,n){let r=0,e,a,u,o;if(t&&(e=t.length))if(n==null){for(a=t[r];r<e&&(a==null||a!==a);a=t[++r]);for(u=o=a;r<e;++r)a=t[r],a!=null&&(a<u&&(u=a),a>o&&(o=a))}else{for(a=n(t[r]);r<e&&(a==null||a!==a);a=n(t[++r]));for(u=o=a;r<e;++r)a=n(t[r]),a!=null&&(a<u&&(u=a),a>o&&(o=a))}return[u,o]}function $r(t,n){let r=t.length,e=-1,a,u,o,i,c;if(n==null){for(;++e<r;)if(u=t[e],u!=null&&u>=u){a=o=u;break}if(e===r)return[-1,-1];for(i=c=e;++e<r;)u=t[e],u!=null&&(a>u&&(a=u,i=e),o<u&&(o=u,c=e))}else{for(;++e<r;)if(u=n(t[e],e,t),u!=null&&u>=u){a=o=u;break}if(e===r)return[-1,-1];for(i=c=e;++e<r;)u=n(t[e],e,t),u!=null&&(a>u&&(a=u,i=e),o<u&&(o=u,c=e))}return[i,c]}function O(t,n){return Object.hasOwn(t,n)}var gt={};function Br(t){let n={},r;function e(u){return O(n,u)&&n[u]!==gt}let a={size:0,empty:0,object:n,has:e,get(u){return e(u)?n[u]:void 0},set(u,o){return e(u)||(++a.size,n[u]===gt&&--a.empty),n[u]=o,this},delete(u){return e(u)&&(--a.size,++a.empty,n[u]=gt),this},clear(){a.size=a.empty=0,a.object=n={}},test(u){return arguments.length?(r=u,a):r},clean(){let u={},o=0;for(let i in n){let c=n[i];c!==gt&&(!r||!r(c))&&(u[i]=c,++o)}a.size=o,a.empty=0,a.object=n=u}};return t&&Object.keys(t).forEach(u=>{a.set(u,t[u])}),a}function Lr(t,n,r,e,a,u){if(!r&&r!==0)return u;let o=+r,i=t[0],c=P(t),l;c<i&&(l=i,i=c,c=l),l=Math.abs(n-i);let h=Math.abs(c-n);return l<h&&l<=o?e:h<=o?a:u}function Wr(t,n,r){let e=t.prototype=Object.create(n.prototype);return Object.defineProperty(e,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),z(e,r)}function Hr(t,n,r,e){let a=n[0],u=n[n.length-1],o;return a>u&&(o=a,a=u,u=o),r=r===void 0||r,e=e===void 0||e,(r?a<=t:a<t)&&(e?t<=u:t<u)}function Jr(t){return typeof t=="boolean"}function un(t){return Object.prototype.toString.call(t)==="[object Date]"}function on(t){return t&&B(t[Symbol.iterator])}function sn(t){return typeof t=="number"}function qr(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function pt(t){return typeof t=="string"}function _r(t,n,r){t&&(t=n?$(t).map(i=>i.replace(/\\(.)/g,"$1")):$(t));let e=t&&t.length,a=r&&r.get||Qt,u=i=>a(n?[i]:wt(i)),o;if(!e)o=function(){return""};else if(e===1){let i=u(t[0]);o=function(c){return""+i(c)}}else{let i=t.map(u);o=function(c){let l=""+i[0](c),h=0;for(;++h<e;)l+="|"+i[h](c);return l}}return A(o,t,"key")}function Gr(t,n){let r=t[0],e=P(t),a=+n;return a?a===1?e:r+a*(e-r):r}var Zr=1e4;function Vr(t){t=+t||Zr;let n,r,e,a=()=>{n={},r={},e=0},u=(o,i)=>(++e>t&&(r=n,n={},e=1),n[o]=i);return a(),{clear:a,has:o=>O(n,o)||O(r,o),get:o=>O(n,o)?n[o]:O(r,o)?u(o,r[o]):void 0,set:(o,i)=>O(n,o)?n[o]=i:u(o,i)}}function Qr(t,n,r,e){let a=n.length,u=r.length;if(!u)return n;if(!a)return r;let o=e||new n.constructor(a+u),i=0,c=0,l=0;for(;i<a&&c<u;++l)o[l]=t(n[i],r[c])>0?r[c++]:n[i++];for(;i<a;++i,++l)o[l]=n[i];for(;c<u;++c,++l)o[l]=r[c];return o}function _(t,n){let r="";for(;--n>=0;)r+=t;return r}function Kr(t,n,r,e){let a=r||" ",u=t+"",o=n-u.length;return o<=0?u:e==="left"?_(a,o)+u:e==="center"?_(a,~~(o/2))+u+_(a,Math.ceil(o/2)):u+_(a,o)}function ln(t){return t&&P(t)-t[0]||0}function mt(t){return J(t)?"["+t.map(mt)+"]":R(t)||pt(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function cn(t){return t==null||t===""?null:!t||t==="false"||t==="0"?!1:!!t}var Xr=t=>sn(t)||un(t)?t:Date.parse(t);function fn(t,n){return n||(n=Xr),t==null||t===""?null:n(t)}function hn(t){return t==null||t===""?null:t+""}function gn(t){let n={},r=t.length;for(let e=0;e<r;++e)n[t[e]]=!0;return n}function te(t,n,r,e){let a=e??"\u2026",u=t+"",o=u.length,i=Math.max(0,n-a.length);return o<=n?u:r==="left"?a+u.slice(o-i):r==="center"?u.slice(0,Math.ceil(i/2))+a+u.slice(o-~~(i/2)):u.slice(0,i)+a}function ne(t,n,r){if(t)if(n){let e=t.length;for(let a=0;a<e;++a){let u=n(t[a]);u&&r(u,a,t)}}else t.forEach(r)}var pn={},kt={},Ut=34,G=10,xt=13;function mn(t){return Function("d","return {"+t.map(function(n,r){return JSON.stringify(n)+": d["+r+'] || ""'}).join(",")+"}")}function re(t,n){var r=mn(t);return function(e,a){return n(r(e),a,t)}}function dn(t){var n=Object.create(null),r=[];return t.forEach(function(e){for(var a in e)a in n||r.push(n[a]=a)}),r}function C(t,n){var r=t+"",e=r.length;return e<n?Array(n-e+1).join(0)+r:r}function ee(t){return t<0?"-"+C(-t,6):t>9999?"+"+C(t,6):C(t,4)}function ae(t){var n=t.getUTCHours(),r=t.getUTCMinutes(),e=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ee(t.getUTCFullYear(),4)+"-"+C(t.getUTCMonth()+1,2)+"-"+C(t.getUTCDate(),2)+(a?"T"+C(n,2)+":"+C(r,2)+":"+C(e,2)+"."+C(a,3)+"Z":e?"T"+C(n,2)+":"+C(r,2)+":"+C(e,2)+"Z":r||n?"T"+C(n,2)+":"+C(r,2)+"Z":"")}function ue(t){var n=RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function e(s,f){var g,p,m=a(s,function(d,T){if(g)return g(d,T-1);p=d,g=f?re(d,f):mn(d)});return m.columns=p||[],m}function a(s,f){var g=[],p=s.length,m=0,d=0,T,N=p<=0,j=!1;s.charCodeAt(p-1)===G&&--p,s.charCodeAt(p-1)===xt&&--p;function y(){if(N)return kt;if(j)return j=!1,pn;var ut,ot=m,W;if(s.charCodeAt(ot)===Ut){for(;m++<p&&s.charCodeAt(m)!==Ut||s.charCodeAt(++m)===Ut;);return(ut=m)>=p?N=!0:(W=s.charCodeAt(m++))===G?j=!0:W===xt&&(j=!0,s.charCodeAt(m)===G&&++m),s.slice(ot+1,ut-1).replace(/""/g,'"')}for(;m<p;){if((W=s.charCodeAt(ut=m++))===G)j=!0;else if(W===xt)j=!0,s.charCodeAt(m)===G&&++m;else if(W!==r)continue;return s.slice(ot,ut)}return N=!0,s.slice(ot,p)}for(;(T=y())!==kt;){for(var at=[];T!==pn&&T!==kt;)at.push(T),T=y();f&&(at=f(at,d++))==null||g.push(at)}return g}function u(s,f){return s.map(function(g){return f.map(function(p){return h(g[p])}).join(t)})}function o(s,f){return f??(f=dn(s)),[f.map(h).join(t)].concat(u(s,f)).join(`
`)}function i(s,f){return f??(f=dn(s)),u(s,f).join(`
`)}function c(s){return s.map(l).join(`
`)}function l(s){return s.map(h).join(t)}function h(s){return s==null?"":s instanceof Date?ae(s):n.test(s+="")?'"'+s.replace(/"/g,'""')+'"':s}return{parse:e,parseRows:a,format:o,formatBody:i,formatRows:c,formatRow:l,formatValue:h}}function oe(t){return t}function ie(t){if(t==null)return oe;var n,r,e=t.scale[0],a=t.scale[1],u=t.translate[0],o=t.translate[1];return function(i,c){c||(n=r=0);var l=2,h=i.length,s=Array(h);for(s[0]=(n+=i[0])*e+u,s[1]=(r+=i[1])*a+o;l<h;)s[l]=i[l],++l;return s}}function se(t,n){for(var r,e=t.length,a=e-n;a<--e;)r=t[a],t[a++]=t[e],t[e]=r}function le(t,n){return typeof n=="string"&&(n=t.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(r){return yn(t,r)})}:yn(t,n)}function yn(t,n){var r=n.id,e=n.bbox,a=n.properties==null?{}:n.properties,u=vn(t,n);return r==null&&e==null?{type:"Feature",properties:a,geometry:u}:e==null?{type:"Feature",id:r,properties:a,geometry:u}:{type:"Feature",id:r,bbox:e,properties:a,geometry:u}}function vn(t,n){var r=ie(t.transform),e=t.arcs;function a(h,s){s.length&&s.pop();for(var f=e[h<0?~h:h],g=0,p=f.length;g<p;++g)s.push(r(f[g],g));h<0&&se(s,p)}function u(h){return r(h)}function o(h){for(var s=[],f=0,g=h.length;f<g;++f)a(h[f],s);return s.length<2&&s.push(s[0]),s}function i(h){for(var s=o(h);s.length<4;)s.push(s[0]);return s}function c(h){return h.map(i)}function l(h){var s=h.type,f;switch(s){case"GeometryCollection":return{type:s,geometries:h.geometries.map(l)};case"Point":f=u(h.coordinates);break;case"MultiPoint":f=h.coordinates.map(u);break;case"LineString":f=o(h.arcs);break;case"MultiLineString":f=h.arcs.map(o);break;case"Polygon":f=c(h.arcs);break;case"MultiPolygon":f=h.arcs.map(c);break;default:return null}return{type:s,coordinates:f}}return l(n)}function ce(t,n){var r={},e={},a={},u=[],o=-1;n.forEach(function(l,h){var s=t.arcs[l<0?~l:l],f;s.length<3&&!s[1][0]&&!s[1][1]&&(f=n[++o],n[o]=l,n[h]=f)}),n.forEach(function(l){var h=i(l),s=h[0],f=h[1],g,p;if(g=a[s])if(delete a[g.end],g.push(l),g.end=f,p=e[f]){delete e[p.start];var m=p===g?g:g.concat(p);e[m.start=g.start]=a[m.end=p.end]=m}else e[g.start]=a[g.end]=g;else if(g=e[f])if(delete e[g.start],g.unshift(l),g.start=s,p=a[s]){delete a[p.end];var d=p===g?g:p.concat(g);e[d.start=p.start]=a[d.end=g.end]=d}else e[g.start]=a[g.end]=g;else g=[l],e[g.start=s]=a[g.end=f]=g});function i(l){var h=t.arcs[l<0?~l:l],s=h[0],f;return t.transform?(f=[0,0],h.forEach(function(g){f[0]+=g[0],f[1]+=g[1]})):f=h[h.length-1],l<0?[f,s]:[s,f]}function c(l,h){for(var s in l){var f=l[s];delete h[f.start],delete f.start,delete f.end,f.forEach(function(g){r[g<0?~g:g]=1}),u.push(f)}}return c(a,e),c(e,a),n.forEach(function(l){r[l<0?~l:l]||u.push([l])}),u}function fe(t){return vn(t,he.apply(this,arguments))}function he(t,n,r){var e,a,u;if(arguments.length>1)e=ge(t,n,r);else for(a=0,e=Array(u=t.arcs.length);a<u;++a)e[a]=a;return{type:"MultiLineString",arcs:ce(t,e)}}function ge(t,n,r){var e=[],a=[],u;function o(s){var f=s<0?~s:s;(a[f]||(a[f]=[])).push({i:s,g:u})}function i(s){s.forEach(o)}function c(s){s.forEach(i)}function l(s){s.forEach(c)}function h(s){switch(u=s,s.type){case"GeometryCollection":s.geometries.forEach(h);break;case"LineString":i(s.arcs);break;case"MultiLineString":case"Polygon":c(s.arcs);break;case"MultiPolygon":l(s.arcs);break}}return h(n),a.forEach(r==null?function(s){e.push(s[0].i)}:function(s){r(s[0].g,s[s.length-1].g)&&e.push(s[0].i)}),e}var b="year",D="quarter",w="month",M="week",k="date",pe="day",S="dayofyear",U="hours",x="minutes",E="seconds",F="milliseconds",bn=[b,D,w,M,k,"day",S,U,x,E,F],Nt=bn.reduce((t,n,r)=>(t[n]=1+r,t),{});function Mn(t){let n=$(t).slice(),r={};return n.length||v("Missing time unit."),n.forEach(e=>{O(Nt,e)?r[e]=1:v(`Invalid time unit: ${e}.`)}),(r.week||r.day?1:0)+(r.quarter||r.month||r.date?1:0)+(r.dayofyear?1:0)>1&&v(`Incompatible time units: ${t}`),n.sort((e,a)=>Nt[e]-Nt[a]),n}var me={[b]:"%Y ",[D]:"Q%q ",[w]:"%b ",[k]:"%d ",[M]:"W%U ",day:"%a ",[S]:"%j ",[U]:"%H:00",[x]:"00:%M",[E]:":%S",[F]:".%L",[`${b}-${w}`]:"%Y-%m ",[`${b}-${w}-${k}`]:"%Y-%m-%d ",[`${U}-${x}`]:"%H:%M"};function de(t,n){let r=z({},me,n),e=Mn(t),a=e.length,u="",o=0,i,c;for(o=0;o<a;)for(i=e.length;i>o;--i)if(c=e.slice(o,i).join("-"),r[c]!=null){u+=r[c],o=i;break}return u.trim()}var Y=new Date;function Ot(t){return Y.setFullYear(t),Y.setMonth(0),Y.setDate(1),Y.setHours(0,0,0,0),Y}function ye(t){return Tn(new Date(t))}function ve(t){return Et(new Date(t))}function Tn(t){return st.count(Ot(t.getFullYear())-1,t)}function Et(t){return Zt.count(Ot(t.getFullYear())-1,t)}function At(t){return Ot(t).getDay()}function be(t,n,r,e,a,u,o){if(0<=t&&t<100){let i=new Date(-1,n,r,e,a,u,o);return i.setFullYear(t),i}return new Date(t,n,r,e,a,u,o)}function Me(t){return Cn(new Date(t))}function Te(t){return Ft(new Date(t))}function Cn(t){let n=Date.UTC(t.getUTCFullYear(),0,1);return it.count(n-1,t)}function Ft(t){let n=Date.UTC(t.getUTCFullYear(),0,1);return qt.count(n-1,t)}function St(t){return Y.setTime(Date.UTC(t,0,1)),Y.getUTCDay()}function Ce(t,n,r,e,a,u,o){if(0<=t&&t<100){let i=new Date(Date.UTC(-1,n,r,e,a,u,o));return i.setUTCFullYear(r.y),i}return new Date(Date.UTC(t,n,r,e,a,u,o))}function wn(t,n,r,e,a){let u=n||1,o=P(t),i=(T,N,j)=>(j||(j=T),we(r[j],e[j],T===o&&u,N)),c=new Date,l=gn(t),h=l.year?i(b):an(2012),s=l.month?i(w):l.quarter?i(D):I,f=l.week&&l.day?i("day",1,M+"day"):l.week?i(M,1):l.day?i("day",1):l.date?i(k,1):l.dayofyear?i(S,1):Kt,g=l.hours?i(U):I,p=l.minutes?i(x):I,m=l.seconds?i(E):I,d=l.milliseconds?i(F):I;return function(T){c.setTime(+T);let N=h(c);return a(N,s(c),f(c,N),g(c),p(c),m(c),d(c))}}function we(t,n,r,e){let a=r<=1?t:e?(u,o)=>e+r*Math.floor((t(u,o)-e)/r):(u,o)=>r*Math.floor(t(u,o)/r);return n?(u,o)=>n(a(u,o),o):a}function L(t,n,r){return n+t*7-(r+6)%7}var je={[b]:t=>t.getFullYear(),[D]:t=>Math.floor(t.getMonth()/3),[w]:t=>t.getMonth(),[k]:t=>t.getDate(),[U]:t=>t.getHours(),[x]:t=>t.getMinutes(),[E]:t=>t.getSeconds(),[F]:t=>t.getMilliseconds(),[S]:t=>Tn(t),[M]:t=>Et(t),[M+"day"]:(t,n)=>L(Et(t),t.getDay(),At(n)),day:(t,n)=>L(1,t.getDay(),At(n))},De={[D]:t=>3*t,[M]:(t,n)=>L(t,0,At(n))};function ke(t,n){return wn(t,n||1,je,De,be)}var Ue={[b]:t=>t.getUTCFullYear(),[D]:t=>Math.floor(t.getUTCMonth()/3),[w]:t=>t.getUTCMonth(),[k]:t=>t.getUTCDate(),[U]:t=>t.getUTCHours(),[x]:t=>t.getUTCMinutes(),[E]:t=>t.getUTCSeconds(),[F]:t=>t.getUTCMilliseconds(),[S]:t=>Cn(t),[M]:t=>Ft(t),day:(t,n)=>L(1,t.getUTCDay(),St(n)),[M+"day"]:(t,n)=>L(Ft(t),t.getUTCDay(),St(n))},xe={[D]:t=>3*t,[M]:(t,n)=>L(t,0,St(n))};function Ne(t,n){return wn(t,n||1,Ue,xe,Ce)}var Oe={[b]:nr,[D]:_t.every(3),[w]:_t,[M]:Zt,[k]:st,day:st,[S]:st,[U]:or,[x]:Vn,[E]:Jt,[F]:Ht},Ee={[b]:er,[D]:Gt.every(3),[w]:Gt,[M]:qt,[k]:it,day:it,[S]:it,[U]:Qn,[x]:ur,[E]:Jt,[F]:Ht};function dt(t){return Oe[t]}function yt(t){return Ee[t]}function jn(t,n,r){return t?t.offset(n,r):void 0}function Ae(t,n,r){return jn(dt(t),n,r)}function Fe(t,n,r){return jn(yt(t),n,r)}function Dn(t,n,r,e){return t?t.range(n,r,e):void 0}function Se(t,n,r,e){return Dn(dt(t),n,r,e)}function Pe(t,n,r,e){return Dn(yt(t),n,r,e)}var Z=1e3,V=Z*60,Q=V*60,vt=Q*24,ze=vt*7,kn=vt*30,Pt=vt*365,Un=[b,w,k,U,x,E,F],K=Un.slice(0,-1),X=K.slice(0,-1),tt=X.slice(0,-1),Ye=tt.slice(0,-1),Ie=[b,M],xn=[b,w],Nn=[b],nt=[[K,1,Z],[K,5,5*Z],[K,15,15*Z],[K,30,30*Z],[X,1,V],[X,5,5*V],[X,15,15*V],[X,30,30*V],[tt,1,Q],[tt,3,3*Q],[tt,6,6*Q],[tt,12,12*Q],[Ye,1,vt],[Ie,1,ze],[xn,1,kn],[xn,3,3*kn],[Nn,1,Pt]];function Re(t){let n=t.extent,r=t.maxbins||40,e=Math.abs(ln(n))/r,a=Jn(i=>i[2]).right(nt,e),u,o;return a===nt.length?(u=Nn,o=Ct(n[0]/Pt,n[1]/Pt,r)):a?(a=nt[e/nt[a-1][2]<nt[a][2]/e?a-1:a],u=a[0],o=a[1]):(u=Un,o=Math.max(Ct(n[0],n[1],r),1)),{units:u,step:o}}function rt(t){let n={};return r=>n[r]||(n[r]=t(r))}function $e(t,n){return r=>{let e=t(r),a=e.indexOf(n);if(a<0)return e;let u=Be(e,a),o=u<e.length?e.slice(u):"";for(;--u>a;)if(e[u]!=="0"){++u;break}return e.slice(0,u)+o}}function Be(t,n){let r=t.lastIndexOf("e"),e;if(r>0)return r;for(r=t.length;--r>n;)if(e=t.charCodeAt(r),e>=48&&e<=57)return r+1}function On(t){let n=rt(t.format),r=t.formatPrefix;return{format:n,formatPrefix:r,formatFloat(e){let a=Wt(e||",");if(a.precision==null){switch(a.precision=12,a.type){case"%":a.precision-=2;break;case"e":--a.precision;break}return $e(n(a),n(".1f")(1)[1])}else return n(a)},formatSpan(e,a,u,o){o=Wt(o??",f");let i=Ct(e,a,u),c=Math.max(Math.abs(e),Math.abs(a)),l;if(o.precision==null)switch(o.type){case"s":return isNaN(l=Wn(i,c))||(o.precision=l),r(o,c);case"":case"e":case"g":case"p":case"r":isNaN(l=qn(i,c))||(o.precision=l-(o.type==="e"));break;case"f":case"%":isNaN(l=Hn(i))||(o.precision=l-(o.type==="%")*2);break}return n(o)}}}var zt;En();function En(){return zt=On({format:Zn,formatPrefix:_n})}function An(t){return On(Gn(t))}function bt(t){return arguments.length?zt=An(t):zt}function Fn(t,n,r){r||(r={}),R(r)||v(`Invalid time multi-format specifier: ${r}`);let e=n(E),a=n(x),u=n(U),o=n(k),i=n(M),c=n(w),l=n(D),h=n(b),s=t(r.milliseconds||".%L"),f=t(r.seconds||":%S"),g=t(r.minutes||"%I:%M"),p=t(r.hours||"%I %p"),m=t(r.date||r.day||"%a %d"),d=t(r.week||"%b %d"),T=t(r.month||"%B"),N=t(r.quarter||"%B"),j=t(r.year||"%Y");return y=>(e(y)<y?s:a(y)<y?f:u(y)<y?g:o(y)<y?p:c(y)<y?i(y)<y?m:d:h(y)<y?l(y)<y?T:N:j)(y)}function Sn(t){let n=rt(t.format),r=rt(t.utcFormat);return{timeFormat:e=>pt(e)?n(e):Fn(n,dt,e),utcFormat:e=>pt(e)?r(e):Fn(r,yt,e),timeParse:rt(t.parse),utcParse:rt(t.utcParse)}}var Yt;Pn();function Pn(){return Yt=Sn({format:ar,parse:tr,utcFormat:rr,utcParse:Xn})}function zn(t){return Sn(Kn(t))}function et(t){return arguments.length?Yt=zn(t):Yt}var It=(t,n)=>z({},t,n);function Le(t,n){return It(t?An(t):bt(),n?zn(n):et())}function Yn(t,n){let r=arguments.length;return r&&r!==2&&v("defaultLocale expects either zero or two arguments."),r?It(bt(t),et(n)):It(bt(),et())}function We(){return En(),Pn(),Yn()}var He=/^(data:|([A-Za-z]+:)?\/\/)/,Je=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,qe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,_e="file://";function Ge(t,n){return r=>({options:r||{},sanitize:Ve,load:Ze,fileAccess:!1,file:Qe(n),http:Xe(t)})}async function Ze(t,n){let r=await this.sanitize(t,n),e=r.href;return r.localFile?this.file(e):this.http(e,n)}async function Ve(t,n){n=z({},this.options,n);let r=this.fileAccess,e={href:null},a,u,o,i=Je.test(t.replace(qe,""));(t==null||typeof t!="string"||!i)&&v("Sanitize failure, invalid URI: "+mt(t));let c=He.test(t);return(o=n.baseURL)&&!c&&(!t.startsWith("/")&&!o.endsWith("/")&&(t="/"+t),t=o+t),u=(a=t.startsWith(_e))||n.mode==="file"||n.mode!=="http"&&!c&&r,a?t=t.slice(7):t.startsWith("//")&&(n.defaultProtocol==="file"?(t=t.slice(2),u=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(e,"localFile",{value:!!u}),e.href=t,n.target&&(e.target=n.target+""),n.rel&&(e.rel=n.rel+""),n.context==="image"&&n.crossOrigin&&(e.crossOrigin=n.crossOrigin+""),e}function Qe(t){return t?n=>new Promise((r,e)=>{t.readFile(n,(a,u)=>{a?e(a):r(u)})}):Ke}async function Ke(){v("No file system access.")}function Xe(t){return t?async function(n,r){let e=z({},this.options.http,r),a=r&&r.response,u=await t(n,e);return u.ok?B(u[a])?u[a]():u.text():v(u.status+""+u.statusText)}:ta}async function ta(){v("No HTTP fetch method available.")}var na=t=>t!=null&&t===t,ra=t=>t==="true"||t==="false"||t===!0||t===!1,ea=t=>!Number.isNaN(Date.parse(t)),In=t=>!Number.isNaN(+t)&&!(t instanceof Date),aa=t=>In(t)&&Number.isInteger(+t),Rt={boolean:cn,integer:q,number:q,date:fn,string:hn,unknown:H},Mt=[ra,aa,In,ea],ua=["boolean","integer","number","date"];function Rn(t,n){if(!t||!t.length)return"unknown";let r=t.length,e=Mt.length,a=Mt.map((u,o)=>o+1);for(let u=0,o=0,i,c;u<r;++u)for(c=n?t[u][n]:t[u],i=0;i<e;++i)if(a[i]&&na(c)&&!Mt[i](c)&&(a[i]=0,++o,o===Mt.length))return"string";return ua[a.reduce((u,o)=>u===0?o:u,0)-1]}function $n(t,n){return n.reduce((r,e)=>(r[e]=Rn(t,e),r),{})}function Bn(t){let n=function(r,e){let a={delimiter:t};return $t(r,e?z(e,a):a)};return n.responseType="text",n}function $t(t,n){return n.header&&(t=n.header.map(mt).join(n.delimiter)+`
`+t),ue(n.delimiter).parse(t+"")}$t.responseType="text";function oa(t){return typeof Buffer=="function"&&B(Buffer.isBuffer)?Buffer.isBuffer(t):!1}function Bt(t,n){let r=n&&n.property?lt(n.property):H;return R(t)&&!oa(t)?ia(r(t),n):r(JSON.parse(t))}Bt.responseType="json";function ia(t,n){return!J(t)&&on(t)&&(t=[...t]),n&&n.copy?JSON.parse(JSON.stringify(t)):t}var sa={interior:(t,n)=>t!==n,exterior:(t,n)=>t===n};function Ln(t,n){let r,e,a,u;return t=Bt(t,n),n&&n.feature?(r=le,a=n.feature):n&&n.mesh?(r=fe,a=n.mesh,u=sa[n.filter]):v("Missing TopoJSON feature or mesh parameter."),e=(e=t.objects[a])?r(t,e,u):v("Invalid TopoJSON object: "+a),e&&e.features||[e]}Ln.responseType="json";var Tt={dsv:$t,csv:Bn(","),tsv:Bn("	"),json:Bt,topojson:Ln};function Lt(t,n){return arguments.length>1?(Tt[t]=n,this):O(Tt,t)?Tt[t]:null}function la(t){let n=Lt(t);return n&&n.responseType||"text"}function ca(t,n,r,e){n||(n={});let a=Lt(n.type||"json");return a||v("Unknown data format type: "+n.type),t=a(t,n),n.parse&&fa(t,n.parse,r,e),O(t,"columns")&&delete t.columns,t}function fa(t,n,r,e){if(!t.length)return;let a=et();r||(r=a.timeParse),e||(e=a.utcParse);let u=t.columns||Object.keys(t[0]),o,i,c,l,h,s;n==="auto"&&(n=$n(t,u)),u=Object.keys(n);let f=u.map(g=>{let p=n[g],m,d;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),d=m[1],(d[0]==="'"&&d[d.length-1]==="'"||d[0]==='"'&&d[d.length-1]==='"')&&(d=d.slice(1,-1)),(m[0]==="utc"?e:r)(d);if(!Rt[p])throw Error("Illegal format pattern: "+g+":"+p);return Rt[p]});for(c=0,h=t.length,s=u.length;c<h;++c)for(o=t[c],l=0;l<s;++l)i=u[l],o[i]=f[l](o[i])}var ha=Ge(typeof fetch<"u"&&fetch,null);export{Sr as $,Ur as $t,Ae as A,Kt as At,ve as B,wt as Bt,bn as C,pt as Ct,ye as D,Vr as Dt,Re as E,br as Et,yt as F,Dr as Ft,pr as G,hn as Gt,vr as H,fn as Ht,Fe as I,P as It,Vt as J,Er as Jt,dr as K,te as Kt,Pe as L,Or as Lt,de as M,Cr as Mt,Mn as N,wr as Nt,ke as O,Qr as Ot,Ne as P,jr as Pt,Ar as Q,kr as Qt,Me as R,_ as Rt,E as S,qr as St,b as T,Gr as Tt,mr as U,q as Ut,mt as V,cn as Vt,yr as W,gn as Wt,$ as X,jt as Xt,ir as Y,ne as Yt,Dt as Z,I as Zt,U as _,un as _t,ha as a,$r as at,w as b,sn as bt,Rt as c,lt as ct,bt as d,cr as dt,xr as en,an as et,We as f,H as ft,S as g,Jr as gt,pe as h,J as ht,$n as i,Rr as it,Se as j,Kr as jt,dt as k,Mr as kt,Yn as l,Lr as lt,k as m,Hr as mt,Lt as n,v as nt,ca as o,hr as ot,et as p,Wr as pt,A as q,fr as qt,Rn as r,z as rt,la as s,Br as st,Tt as t,Nr as tn,Ir as tt,Le as u,O as ut,F as v,B as vt,M as w,_r as wt,D as x,R as xt,x as y,on as yt,Te as z,ln as zt};
