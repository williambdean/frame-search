const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./esm-C2Rj-Fx5.js","./chunk-DZLz74EQ.js","./dist-BRrW0SGe.js","./dist-C13bkrcz.js","./dist-BPcMnGQn.js","./dist-Q3T6mWQ0.js","./dist-Co504fmf.js","./dist-DOg_DNWV.js","./dist-BSmecKjR.js","./dist-Ba10OKR3.js","./dist-CceV9LPb.js","./dist-Bztoy_V_.js","./dist-DgX3BDVg.js","./dist-DBeOBCHw.js","./dist-D-CsU-_R.js","./dist-Bdc9VPG4.js","./dist-DI9MeT7Y.js","./dist-LdSx20m8.js","./dist-gBwUhMPH.js","./dist-CDb8BikS.js","./dist-uIlVbhkb.js","./dist-HbBFu0Hw.js","./dist-BSAvKBoB.js","./dist-C5ypE-xK.js","./dist-TYtvpSCM.js","./dist-DZNGKufD.js","./dist-DJIhm_LE.js","./dist-DgRIgdnS.js","./dist-CMrJe5Gj.js","./dist-ClBFnEcy.js","./dist-Dw2dx8LM.js","./dist-BF_WTga9.js","./dist-Dg8xVIvq.js","./dist-DoLsMp73.js","./dist-BrGWvyIR.js","./dist-DleXuWcB.js","./dist-DT9cGV6-.js","./dist-nfVGAiua.js","./dist-Cr1PgnSt.js","./dist-DXQZ2qpx.js","./apl-DTj88TqA.js","./apl-DA5FS-jg.js","./asciiarmor-T_gIwVlY.js","./asciiarmor-BqYC8972.js","./asn1-DF3TNf1X.js","./asn1-CV308CV7.js","./brainfuck-C7rjOLuu.js","./brainfuck-JVVuXNr9.js","./cobol-B5oyobl1.js","./cobol-BkP6Ajjp.js","./clike-BtFDvOWk.js","./clike-BRQvCw2t.js","./clojure-QZ5wL-nl.js","./clojure-CxEG72Vt.js","./css-DvQCC9AA.js","./css-CAhmSbgi.js","./cmake-QNBzgXlP.js","./cmake-Db6MlmXu.js","./coffeescript-D4DQ-Vnp.js","./coffeescript-JRe5aZz8.js","./commonlisp-QaQhMIOr.js","./commonlisp-D9wKGkUX.js","./cypher-KxKIGgId.js","./cypher-CgHLgHbV.js","./python-BTjZ6EYj.js","./python-C6KZGpy1.js","./crystal-BqASwV5d.js","./crystal-CDUaptrE.js","./d-W0AlkFGb.js","./d-BUlepkAd.js","./diff-BMRaNaeu.js","./diff-C3_Npxuv.js","./dockerfile-Dw8NUrfz.js","./simple-mode-DrtN-JC1.js","./dtd-D9nXsbOM.js","./dtd-_OGR-47e.js","./dylan-ZIPoJWbs.js","./dylan-B7e-HXd4.js","./ecl-BMixGnl9.js","./ecl-Bmb3ojXd.js","./eiffel-DxAOWKt9.js","./eiffel-D9YEZupi.js","./elm-CBHgN_CF.js","./elm-DjAG68Xr.js","./erlang-C_oHuVW4.js","./erlang-CEhNn9ee.js","./factor-CfbZoI7D.js","./factor-DjTCV0tC.js","./forth-CcK61a0D.js","./forth-DDK1MZGo.js","./fortran-3WkkymLB.js","./fortran-DFBw9BHL.js","./mllike-D_MI-7Pl.js","./mllike-Bk0kvFR5.js","./gas-BrXtZDBX.js","./gas-CeJahU84.js","./gherkin-DrYIXbW3.js","./gherkin-BjPrVVCm.js","./groovy-iNiJ0g_b.js","./groovy-BhSsiYa2.js","./haskell-D0JdaR6a.js","./haskell-CnqE89TS.js","./haxe-BeoM2hcB.js","./haxe-tz3dS1Ms.js","./idl-9mEkV8-c.js","./idl-CkWqZUmz.js","./javascript-aId7rwTw.js","./javascript--WFQrQGu.js","./jinja2-CZnfCQKw.js","./jinja2-DdXbUzg-.js","./julia-C6vvhNwH.js","./julia-sSC0A2QC.js","./livescript-Dg5afykg.js","./livescript-BrGDWGj5.js","./lua-C5BDvICv.js","./lua-BgywVrLy.js","./mirc-QWUmCSos.js","./mirc-CndxT3S-.js","./mathematica-n_-5RvaT.js","./mathematica-CXqFqAlK.js","./modelica-Dl62cYK5.js","./modelica-BESTN_Yb.js","./mumps-3qoCnhwO.js","./mumps-C1cvIlnt.js","./mbox-DgKzwAT4.js","./mbox-B1eeU--v.js","./nsis-CoKhpciQ.js","./nsis-BLZx23sj.js","./ntriples-ClSZizn9.js","./ntriples-Bnb5pPta.js","./octave-DxUsnA7F.js","./octave-FcRMzfM9.js","./oz-CzCtTyyV.js","./oz-DL18r1EA.js","./pascal-tgO3Zlcz.js","./pascal-CySNBvQR.js","./perl-Bf62IaJU.js","./perl-lfRKrssY.js","./pig-Cej8Ilh9.js","./pig-lSzmTbd2.js","./powershell-DieA5mCG.js","./powershell-L_F0rY6B.js","./properties-CppMkIwd.js","./properties-BVcJ2l9p.js","./protobuf-Jrz5hIWD.js","./protobuf-eME7rUY3.js","./pug-C5_8wrYh.js","./pug-CC2LN4Ib.js","./puppet-MTQlwqwQ.js","./puppet-0JRLgwf6.js","./q-CmxPydPR.js","./q-BJQq3HSY.js","./r-DOepV3gi.js","./r-B11tLzMa.js","./rpm-6WiaYU6Y.js","./rpm-zwHK3PeN.js","./ruby-B2UGlwq_.js","./ruby-BjRVRq_k.js","./sas-BoZexB_x.js","./sas-g1MjHO-z.js","./scheme-CN47FzRT.js","./scheme-CGMbgbRs.js","./shell-mSxytB6G.js","./shell-C7_H8y4W.js","./sieve-lb_BpsP7.js","./sieve-CEOxhP-I.js","./smalltalk-CElREWxR.js","./smalltalk-C-2o9ebc.js","./sparql-GVyy1sq5.js","./sparql-87z_UEc4.js","./stylus-DN1n_Lmw.js","./stylus-Bvvi8MmW.js","./swift-rbpzCp88.js","./swift-DeJEO5nK.js","./stex-DBaiELOw.js","./stex-LEaAsvUb.js","./verilog-DeiEFAn-.js","./verilog-DKBTg4jR.js","./tcl-BmWySpfS.js","./tcl-CTRWqPLR.js","./textile-BZN-WB6o.js","./textile-C5KboBqI.js","./toml-k066KBWj.js","./toml-BiRQJsN4.js","./troff-olNgoRb9.js","./troff-CIdymZ6G.js","./ttcn-CZBQ6Lxk.js","./ttcn-NLOJFaBh.js","./ttcn-cfg-D2O2YNV0.js","./ttcn-cfg-BxG4drVc.js","./turtle-BxoKIi9X.js","./turtle-c5oFjZu2.js","./webidl-BP8p2pGZ.js","./webidl-vigh4ITk.js","./vb-DL3tvKAm.js","./vb-DLYFo3qd.js","./vbscript-jG9sQiaL.js","./vbscript-B-Swk_a6.js","./velocity-BbyKuuvi.js","./velocity-CL_O0nuc.js","./vhdl-ngKwKaju.js","./vhdl-B_K9_xTH.js","./xquery-BqygC_ze.js","./xquery-Df6PFV-u.js","./yacas-CoCRQpM8.js","./yacas-B7BpVY8m.js","./z80-DE7ESyLO.js","./z80-B9-UrYYz.js","./mscgen-7vOsTXAD.js","./mscgen-CCAKOoJb.js","./dist-BqpTcT2-.js","./dist-CFxk591T.js","./dist-DL_kpb11.js","./node-sql-parser-DQGqziB9.js"])))=>i.map(i=>d[i]);
var NT=Object.defineProperty;var AT=(Ni,Vr,wa)=>Vr in Ni?NT(Ni,Vr,{enumerable:!0,configurable:!0,writable:!0,value:wa}):Ni[Vr]=wa;var Ce=(Ni,Vr,wa)=>AT(Ni,typeof Vr!="symbol"?Vr+"":Vr,wa);import{a as fu,n as i2,o as IT,r as jT,s as Kt,t as ke}from"./chunk-DZLz74EQ.js";import{a as qT,c as Kn,d as Fe,n as st,o as a2,s as o2,t as zT}from"./jotai-DDOP7CKM.js";import{t as pu}from"./react-BcIddLXZ.js";import{t as FT}from"./react-dom-D6bRRS5R.js";import{A as BT,E as s2,F as l2,P as VT,V as HT,w as $T,z as WT}from"./zod-U2NFpcFA.js";import{n as Br,t as UT}from"./jsx-runtime-DvsdsEjx.js";import{f as KT}from"./_Uint8Array-D5Z9rM2X.js";import{t as QT}from"./_arrayMap-DQI2GUNb.js";import{t as GT}from"./toInteger-Bor4StOs.js";import{d as JT,t as XT}from"./isArrayLikeObject-DKyJYtr8.js";import{u as YT}from"./_baseIsEqual-BF8660ot.js";import{t as ZT}from"./_baseProperty-CIKnF2iY.js";import{t as c2}from"./debounce-70y9MzDK.js";import{a as ni,o as e4,u as Pe}from"./hotkeys-Lbk6RHir.js";import{t as kn}from"./invariant-DPGusy7Z.js";import{d as tm,t as t4}from"./utils-DnJCRgaX.js";import{g as n4,r as r4}from"./config-BjdJmdrN.js";import{o as u2}from"./useEventListener-C5BS4xuN.js";import{t as mu}from"./cn-C5VTNYKf.js";import{t as d2}from"./button-nRVaalxL.js";import{Bt as f2,C as i4,D as a4,Dt as nm,Et as us,F as p2,Gt as ma,H as o4,Ht as s4,It as hu,Jt as ds,K as gu,Kt as El,Lt as fn,R as m2,Rt as yu,S as l4,T as h2,Ut as g2,V as y2,Vt as vu,b as v2,bt as ao,ct as c4,et as b2,f as w2,ft as u4,ht as d4,it as f4,k as p4,l as ce,nt as m4,ot as oo,p as h4,qt as so,rt as en,tt as Di,u as _2,wt as x2,yt as rm,zt as Tl}from"./dist-BPcMnGQn.js";import{E as g4,S as y4,T as v4,_ as b4,a as k2,b as w4,d as im,f as _4,h as x4,i as k4,k as C4,m as S4,o as E4,p as T4,s as R4,t as O4,v as D4,w as P4,x as L4}from"./dist-pZAIwcZo.js";import{a as C2,f as am,i as M4,n as ri,o as S2,s as Rl}from"./once-Co7xi2Ip.js";import{t as N4}from"./capabilities-DdXtcIOa.js";import{t as Ol}from"./createReducer-80xvKyHq.js";import{t as Pi}from"./requests-D3Z6okhb.js";import{t as ue}from"./preload-helper-BpItL31i.js";import{d as E2,l as T2,n as A4,o as R2,p as I4,r as bu}from"./dist-C13bkrcz.js";import{i as O2,o as j4}from"./dist-DZNGKufD.js";import{a as q4,i as om,n as z4,r as D2,t as F4}from"./dist-ClBFnEcy.js";import{n as B4}from"./stex-LEaAsvUb.js";import{n as wu,t as V4}from"./key-DWQdrH_J.js";import{t as _u}from"./use-toast-BiL_AQz9.js";import{i as sm,r as lm}from"./main-CD7jouuS.js";import{t as P2}from"./marked.esm-DCf1d_lA.js";import{a as H4,s as ii,t as Dl}from"./connection-DnLUBy9M.js";import{a as $4,c as W4,d as U4,f as L2,i as K4,l as Q4,n as G4,o as M2,r as J4,s as cm,t as X4,u as Y4}from"./dist-Q3T6mWQ0.js";import{n as Z4}from"./useTheme-BMknLtnH.js";import{t as zn}from"./createLucideIcon-DA8ZBm4D.js";import{i as eR,n as tR,r as um,t as nR}from"./type-Cpth3na1.js";import{t as rR}from"./check-BUgsJwxM.js";import{a as iR,c as aR,i as dm,m as oR,n as sR,o as N2,r as lR,s as cR,t as uR}from"./select-DJ0A_oCR.js";import{t as dR,u as fR}from"./toDate-sQp07c5U.js";import{r as A2,t as pR}from"./useNonce-DECX9FAH.js";import{t as cr}from"./badge-CFi0nvIx.js";import{S as mR,_ as hR,b as I2,h as fm,v as gR}from"./Combination-DR4iFoRS.js";import{l as yR}from"./dist-Cei_8ikW.js";import{i as vR,t as pm}from"./tooltip-BQKXsEoT.js";import{t as bR}from"./useLifecycle-CuZnZLRp.js";let j2,xu,Pl,q2,z2,Fn,ku,mm,Cu,ur,F2,B2,Ll,V2,H2,$2,hm,fs,lo,W2,gm,Su,Ml,U2,K2,Q2,ym,vm,bm,wm,G2,J2,X2,Y2,Z2,ew,_m,tw,xm,km,nw,Eu,rw,Tu,Cm,iw,Cr,Sm,Em,Tm,aw,Li,Ru,ps,ow,Nl,Al,Rm,sw,lw,cw,Om,uw,dw,Ou,Dm,Du,fw,pw,Sr,Pu,ha,mw,hw,Pm,Il,ga,gw,yw,vw,bw,Lm,Lu,Mm,Mu,ww,_w,Nu,Nm,Am,Au,xw,co,kw,Cw,Sw,Ew,Tw,Rw,Iu,ya,Ow,Dw,ai,Im,dr,Pw,Lw,uo,Mw,Nw,jm,va,ju,Aw,qm,Iw,qu,zm,Fm,Bm,jw,qw,Vm,Hm,zw,jl,zu,Fw,Bw,Fu,Vw,ql,Bu,ba,Vu,$m,Hu,Wm,Ot,Hw,$w,Ww,Uw,$u,Kw,Qw,ms,fo,Gw,Jw,Um,Km,Xw,zl,po,Qm,Er,Mi,Yw,oi,Wu,Zw,Gm,Tr,e_,Uu,t_,n_,Jm,r_,Ku,i_,a_,mo,Qu,hs,Gu,Ju,Xm,o_,gs,s_,Fl,Ym,l_,c_,u_,Zm,d_,Xu,eh,Yu,f_,Zu,th,ed,ft,nh,rh,p_,m_,td,ih,h_,g_,y_,v_,b_,wR=(async()=>{var Vi,cf;let Ni,Vr,wa,oh;Ni=ke((e=>{function n(X,G){var K=X.length;X.push(G);e:for(;0<K;){var Le=K-1>>>1,Qe=X[Le];if(0<s(Qe,G))X[Le]=G,X[K]=Qe,K=Le;else break e}}function i(X){return X.length===0?null:X[0]}function o(X){if(X.length===0)return null;var G=X[0],K=X.pop();if(K!==G){X[0]=K;e:for(var Le=0,Qe=X.length,ut=Qe>>>1;Le<ut;){var Be=2*(Le+1)-1,We=X[Be],Oe=Be+1,Me=X[Oe];if(0>s(We,K))Oe<Qe&&0>s(Me,We)?(X[Le]=Me,X[Oe]=K,Le=Oe):(X[Le]=We,X[Be]=K,Le=Be);else if(Oe<Qe&&0>s(Me,K))X[Le]=Me,X[Oe]=K,Le=Oe;else break e}}return G}function s(X,G){var K=X.sortIndex-G.sortIndex;return K===0?X.id-G.id:K}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],g=[],w=1,_=null,C=3,E=!1,T=!1,A=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function Q(X){for(var G=i(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=X)o(g),G.sortIndex=G.expirationTime,n(m,G);else break;G=i(g)}}function pe(X){if(A=!1,Q(X),!T)if(i(m)!==null)T=!0,P||(P=!0,Y());else{var G=i(g);G!==null&&ie(pe,G.startTime-X)}}var P=!1,I=-1,$=5,de=-1;function fe(){return V?!0:!(e.unstable_now()-de<$)}function be(){if(V=!1,P){var X=e.unstable_now();de=X;var G=!0;try{e:{T=!1,A&&(A=!1,W(I),I=-1),E=!0;var K=C;try{t:{for(Q(X),_=i(m);_!==null&&!(_.expirationTime>X&&fe());){var Le=_.callback;if(typeof Le=="function"){_.callback=null,C=_.priorityLevel;var Qe=Le(_.expirationTime<=X);if(X=e.unstable_now(),typeof Qe=="function"){_.callback=Qe,Q(X),G=!0;break t}_===i(m)&&o(m),Q(X)}else o(m);_=i(m)}if(_!==null)G=!0;else{var ut=i(g);ut!==null&&ie(pe,ut.startTime-X),G=!1}}break e}finally{_=null,C=K,E=!1}G=void 0}}finally{G?Y():P=!1}}}var Y;if(typeof N=="function")Y=function(){N(be)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ee=we.port2;we.port1.onmessage=be,Y=function(){Ee.postMessage(null)}}else Y=function(){H(be,0)};function ie(X,G){I=H(function(){X(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_next=function(X){switch(C){case 1:case 2:case 3:var G=3;break;default:G=C}var K=C;C=G;try{return X()}finally{C=K}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(X,G){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var K=C;C=X;try{return G()}finally{C=K}},e.unstable_scheduleCallback=function(X,G,K){var Le=e.unstable_now();switch(typeof K=="object"&&K?(K=K.delay,K=typeof K=="number"&&0<K?Le+K:Le):K=Le,X){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=K+Qe,X={id:w++,callback:G,priorityLevel:X,startTime:K,expirationTime:Qe,sortIndex:-1},K>Le?(X.sortIndex=K,n(g,X),i(m)===null&&X===i(g)&&(A?(W(I),I=-1):A=!0,ie(pe,K-Le))):(X.sortIndex=Qe,n(m,X),T||E||(T=!0,P||(P=!0,Y()))),X},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(X){var G=C;return function(){var K=C;C=G;try{return X.apply(this,arguments)}finally{C=K}}}})),Vr=ke(((e,n)=>{n.exports=Ni()})),wa=ke((e=>{var n=Vr(),i=pu(),o=FT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(d(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=d(t),r===null)throw Error(s(188));return r===t?t:null}for(var a=t,l=r;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(l=p.return,l!==null){a=l;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return m(p),t;if(y===l)return m(p),r;y=y.sibling}throw Error(s(188))}if(a.return!==l.return)a=p,l=y;else{for(var S=!1,O=p.child;O;){if(O===a){S=!0,a=p,l=y;break}if(O===l){S=!0,l=p,a=y;break}O=O.sibling}if(!S){for(O=y.child;O;){if(O===a){S=!0,a=y,l=p;break}if(O===l){S=!0,l=y,a=p;break}O=O.sibling}if(!S)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function w(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=w(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,C=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function we(t){return typeof t!="object"||!t?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ee?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case H:return"Profiler";case V:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList";case fe:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case N:return(t._context.displayName||"Context")+".Consumer";case pe:var r=t.render;return t=t.displayName,t||(t=(t=r.displayName||r.name||"",t===""?"ForwardRef":"ForwardRef("+t+")")),t;case $:return r=t.displayName||null,r===null?ie(t.type)||"Memo":r;case de:r=t._payload,t=t._init;try{return ie(t(r))}catch{}}return null}var X=Array.isArray,G=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le={pending:!1,data:null,method:null,action:null},Qe=[],ut=-1;function Be(t){return{current:t}}function We(t){0>ut||(t.current=Qe[ut],Qe[ut]=null,ut--)}function Oe(t,r){ut++,Qe[ut]=t.current,t.current=r}var Me=Be(null),hn=Be(null),It=Be(null),On=Be(null);function ln(t,r){switch(Oe(It,r),Oe(hn,t),Oe(Me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Nb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Nb(r),t=Ab(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}We(Me),Oe(Me,t)}function Ue(){We(Me),We(hn),We(It)}function nn(t){t.memoizedState!==null&&Oe(On,t);var r=Me.current,a=Ab(r,t.type);r!==a&&(Oe(hn,t),Oe(Me,a))}function gt(t){hn.current===t&&(We(Me),We(hn)),On.current===t&&(We(On),_l._currentValue=Le)}var gn=Object.prototype.hasOwnProperty,Yn=n.unstable_scheduleCallback,kt=n.unstable_cancelCallback,ci=n.unstable_shouldYield,yn=n.unstable_requestPaint,vn=n.unstable_now,An=n.unstable_getCurrentPriorityLevel,Mr=n.unstable_ImmediatePriority,In=n.unstable_UserBlockingPriority,rn=n.unstable_NormalPriority,Hi=n.unstable_LowPriority,Ur=n.unstable_IdlePriority,Nr=n.log,ui=n.unstable_setDisableYieldValue,Vt=null,Qt=null;function yt(t){if(typeof Nr=="function"&&ui(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Vt,t)}catch{}}var Ft=Math.clz32?Math.clz32:$i,Ct=Math.log,di=Math.LN2;function $i(t){return t>>>=0,t===0?32:31-(Ct(t)/di|0)|0}var Ar=256,fr=4194304;function Ge(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ht(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var p=0,y=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var O=l&134217727;return O===0?(O=l&~y,O===0?S===0?a||(a=l&~t,a!==0&&(p=Ge(a))):p=Ge(S):p=Ge(O)):(l=O&~y,l===0?(S&=O,S===0?a||(a=O&~t,a!==0&&(p=Ge(a))):p=Ge(S)):p=Ge(l)),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,a=r&-r,y>=a||y===32&&a&4194048)?r:p}function lt(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function vt(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dn(){var t=Ar;return Ar<<=1,!(Ar&4194048)&&(Ar=256),t}function Kr(){var t=fr;return fr<<=1,!(fr&62914560)&&(fr=4194304),t}function St(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Zn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qr(t,r,a,l,p,y){var S=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var O=t.entanglements,F=t.expirationTimes,re=t.hiddenUpdates;for(a=S&~a;0<a;){var me=31-Ft(a),ve=1<<me;O[me]=0,F[me]=-1;var oe=re[me];if(oe!==null)for(re[me]=null,me=0;me<oe.length;me++){var le=oe[me];le!==null&&(le.lane&=-536870913)}a&=~ve}l!==0&&fi(t,l,0),y!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=y&~(S&~r))}function fi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Ft(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function jn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Ft(a),p=1<<l;p&r|t[l]&r&&(t[l]|=r),a&=~p}}function Vn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gr(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function pi(){var t=K.p;return t===0?(t=window.event,t===void 0?32:Yb(t.type)):t}function er(t,r){var a=K.p;try{return K.p=t,r()}finally{K.p=a}}var Pn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Pn,jt="__reactProps$"+Pn,L="__reactContainer$"+Pn,Je="__reactEvents$"+Pn,q="__reactListeners$"+Pn,ne="__reactHandles$"+Pn,ye="__reactResources$"+Pn,Se="__reactMarker$"+Pn;function pt(t){delete t[bt],delete t[jt],delete t[Je],delete t[q],delete t[ne]}function tt(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[L]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=zb(t);t!==null;){if(a=t[bt])return a;t=zb(t)}return r}t=a,a=t.parentNode}return null}function it(t){if(t=t[bt]||t[L]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function wt(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function $e(t){var r=t[ye];return r||(r=t[ye]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ve(t){t[Se]=!0}var at=new Set,ht={};function $t(t,r){tr(t,r),tr(t+"Capture",r)}function tr(t,r){for(ht[t]=r,t=0;t<r.length;t++)at.add(r[t])}var ks=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pr={},rc={};function ic(t){return gn.call(rc,t)?!0:gn.call(pr,t)?!1:ks.test(t)?rc[t]=!0:(pr[t]=!0,!1)}function Oa(t,r,a){if(ic(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Mo(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function mr(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Cs,ac;function bn(t){if(Cs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Cs=r&&r[1]||"",ac=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+t+ac}var Ss=!1;function Es(t,r){if(!t||Ss)return"";Ss=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(le){var oe=le}Reflect.construct(t,[],ve)}else{try{ve.call()}catch(le){oe=le}t.call(ve.prototype)}}else{try{throw Error()}catch(le){oe=le}(ve=t())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),S=y[0],O=y[1];if(S&&O){var F=S.split(`
`),re=O.split(`
`);for(p=l=0;l<F.length&&!F[l].includes("DetermineComponentFrameRoot");)l++;for(;p<re.length&&!re[p].includes("DetermineComponentFrameRoot");)p++;if(l===F.length||p===re.length)for(l=F.length-1,p=re.length-1;1<=l&&0<=p&&F[l]!==re[p];)p--;for(;1<=l&&0<=p;l--,p--)if(F[l]!==re[p]){if(l!==1||p!==1)do if(l--,p--,0>p||F[l]!==re[p]){var me=`
`+F[l].replace(" at new "," at ");return t.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",t.displayName)),me}while(1<=l&&0<=p);break}}}finally{Ss=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bn(a):""}function oc(t){switch(t.tag){case 26:case 27:case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return bn("Activity");default:return""}}function Ts(t){try{var r="";do r+=oc(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rs(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function uf(t){var r=Rs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&a!==void 0&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return p.call(this)},set:function(S){l=""+S,y.call(this,S)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Da(t){t._valueTracker||(t._valueTracker=uf(t))}function sc(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Rs(t)?t.checked?"true":"false":t.value),t=l,t===a?!1:(r.setValue(t),!0)}function Pa(t){if(t||(t=typeof document<"u"?document:void 0),t===void 0)return null;try{return t.activeElement||t.body}catch{return t.body}}var nr=/[\n"\\]/g;function He(t){return t.replace(nr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Os(t,r,a,l,p,y,S,O){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),r==null?S!=="submit"&&S!=="reset"||t.removeAttribute("value"):S==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Hn(r)):t.value!==""+Hn(r)&&(t.value=""+Hn(r)),r==null?a==null?l!=null&&t.removeAttribute("value"):Ds(t,S,Hn(a)):Ds(t,S,Hn(r)),p==null&&y!=null&&(t.defaultChecked=!!y),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?t.name=""+Hn(O):t.removeAttribute("name")}function La(t,r,a,l,p,y,S,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),r!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;a=a==null?"":""+Hn(a),r=r==null?a:""+Hn(r),O||r===t.value||(t.value=r),t.defaultValue=r}l??(l=p),l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=O?t.checked:!!l,t.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S)}function Ds(t,r,a){r==="number"&&Pa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hr(t,r,a,l){if(t=t.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<t.length;a++)p=r.hasOwnProperty("$"+t[a].value),t[a].selected!==p&&(t[a].selected=p),p&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Hn(a),r=null,p=0;p<t.length;p++){if(t[p].value===a){t[p].selected=!0,l&&(t[p].defaultSelected=!0);return}r!==null||t[p].disabled||(r=t[p])}r!==null&&(r.selected=!0)}}function lc(t,r,a){if(r!=null&&(r=""+Hn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a==null?"":""+Hn(a)}function Wi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(X(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a??(a=""),r=a}a=Hn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Jr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||cc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function mi(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var p in r)l=r[p],r.hasOwnProperty(p)&&a[p]!==l&&uc(t,p,l)}else for(var y in r)r.hasOwnProperty(y)&&uc(t,y,r[y])}function Ps(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ls=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),No=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(t){return No.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ms=null;function Ao(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gt=null,Ui=null;function Ir(t){var r=it(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Os(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+He(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var p=l[jt]||null;if(!p)throw Error(s(90));Os(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&sc(l)}break e;case"textarea":lc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&hr(t,!!a.multiple,r,!1)}}}var Na=!1;function dc(t,r,a){if(Na)return t(r,a);Na=!0;try{return t(r)}finally{if(Na=!1,(Gt!==null||Ui!==null)&&(Uc(),Gt&&(r=Gt,t=Ui,Ui=Gt=null,Ir(r),t)))for(r=0;r<t.length;r++)Ir(t[r])}}function Aa(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jr=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),Ns=!1;if(jr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{Ns=!1}var Xr=null,As=null,ja=null;function Is(){if(ja)return ja;var t,r=As,a=r.length,l,p="value"in Xr?Xr.value:Xr.textContent,y=p.length;for(t=0;t<a&&r[t]===p[t];t++);var S=a-t;for(l=1;l<=S&&r[a-l]===p[y-l];l++);return ja=p.slice(t,1<l?1-l:void 0)}function qa(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function za(){return!0}function js(){return!1}function Cn(t){function r(a,l,p,y,S){for(var O in this._reactName=a,this._targetInst=p,this.type=l,this.nativeEvent=y,this.target=S,this.currentTarget=null,t)t.hasOwnProperty(O)&&(a=t[O],this[O]=a?a(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented==null?y.returnValue===!1:y.defaultPrevented)?za:js,this.isPropagationStopped=js,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),r}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=Cn(Yr),Fa=_({},Yr,{view:0,detail:0}),u=Cn(Fa),h,v,b,x=_({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_e,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==b&&(b&&t.type==="mousemove"?(h=t.screenX-b.screenX,v=t.screenY-b.screenY):v=h=0,b=t),h)},movementY:function(t){return"movementY"in t?t.movementY:v}}),k=Cn(x),R=Cn(_({},x,{dataTransfer:0})),D=Cn(_({},Fa,{relatedTarget:0})),M=Cn(_({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0})),z=Cn(_({},Yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),j=Cn(_({},Yr,{data:0})),se={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ee(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Z[t])?!!r[t]:!1}function _e(){return ee}var xe=Cn(_({},Fa,{key:function(t){if(t.key){var r=se[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ae[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_e,charCode:function(t){return t.type==="keypress"?qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}})),je=Cn(_({},x,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Te=Cn(_({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_e})),Ie=Cn(_({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0})),ct=Cn(_({},x,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Xe=Cn(_({},Yr,{newState:0,oldState:0})),Dt=[9,13,27,32],Pt=jr&&"CompositionEvent"in window,ze=null;jr&&"documentMode"in document&&(ze=document.documentMode);var Ke=jr&&"TextEvent"in window&&!ze,Jt=jr&&(!Pt||ze&&8<ze&&11>=ze),Xt=" ",cn=!1;function Ba(t,r){switch(t){case"keyup":return Dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function qs(t,r){switch(t){case"compositionend":return fc(r);case"keypress":return r.which===32?(cn=!0,Xt):null;case"textInput":return t=r.data,t===Xt&&cn?null:t;default:return null}}function i3(t,r){if(Qi)return t==="compositionend"||!Pt&&Ba(t,r)?(t=Is(),ja=As=Xr=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Jt&&r.locale!=="ko"?null:r.data;default:return null}}var a3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!a3[t.type]:r==="textarea"}function Xy(t,r,a,l){Gt?Ui?Ui.push(l):Ui=[l]:Gt=l,r=Yc(r,"onChange"),0<r.length&&(a=new Ki("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zs=null,Fs=null;function o3(t){Rb(t,0)}function pc(t){if(sc(wt(t)))return t}function Yy(t,r){if(t==="change")return r}var Zy=!1;if(jr){var df;if(jr){var ff="oninput"in document;if(!ff){var ev=document.createElement("div");ev.setAttribute("oninput","return;"),ff=typeof ev.oninput=="function"}df=ff}else df=!1;Zy=df&&(!document.documentMode||9<document.documentMode)}function tv(){zs&&(zs.detachEvent("onpropertychange",nv),Fs=zs=null)}function nv(t){if(t.propertyName==="value"&&pc(Fs)){var r=[];Xy(r,Fs,t,Ao(t)),dc(o3,r)}}function s3(t,r,a){t==="focusin"?(tv(),zs=r,Fs=a,zs.attachEvent("onpropertychange",nv)):t==="focusout"&&tv()}function l3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pc(Fs)}function c3(t,r){if(t==="click")return pc(r)}function u3(t,r){if(t==="input"||t==="change")return pc(r)}function d3(t,r){return t===r&&(t!==0||1/t==1/r)||t!==t&&r!==r}var rr=typeof Object.is=="function"?Object.is:d3;function Bs(t,r){if(rr(t,r))return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var p=a[l];if(!gn.call(r,p)||!rr(t[p],r[p]))return!1}return!0}function rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iv(t,r){var a=rv(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rv(a)}}function av(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?av(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ov(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Pa(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Pa(t.document)}return r}function pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var f3=jr&&"documentMode"in document&&11>=document.documentMode,Io=null,mf=null,Vs=null,hf=!1;function sv(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||Io==null||Io!==Pa(l)||(l=Io,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vs&&Bs(Vs,l)||(Vs=l,l=Yc(mf,"onSelect"),0<l.length&&(r=new Ki("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Io)))}function Va(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var jo={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},gf={},lv={};jr&&(lv=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Ha(t){if(gf[t])return gf[t];if(!jo[t])return t;var r=jo[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in lv)return gf[t]=r[a];return t}var cv=Ha("animationend"),uv=Ha("animationiteration"),dv=Ha("animationstart"),p3=Ha("transitionrun"),m3=Ha("transitionstart"),h3=Ha("transitioncancel"),fv=Ha("transitionend"),pv=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function qr(t,r){pv.set(t,r),$t(r,[t])}var mv=new WeakMap;function gr(t,r){if(typeof t=="object"&&t){var a=mv.get(t);return a===void 0?(r={value:t,source:r,stack:Ts(r)},mv.set(t,r),r):a}return{value:t,source:r,stack:Ts(r)}}var yr=[],qo=0,vf=0;function mc(){for(var t=qo,r=vf=qo=0;r<t;){var a=yr[r];yr[r++]=null;var l=yr[r];yr[r++]=null;var p=yr[r];yr[r++]=null;var y=yr[r];if(yr[r++]=null,l!==null&&p!==null){var S=l.pending;S===null?p.next=p:(p.next=S.next,S.next=p),l.pending=p}y!==0&&hv(a,p,y)}}function hc(t,r,a,l){yr[qo++]=t,yr[qo++]=r,yr[qo++]=a,yr[qo++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bf(t,r,a,l){return hc(t,r,a,l),gc(t)}function zo(t,r){return hc(t,null,null,r),gc(t)}function hv(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var p=!1,y=t.return;y!==null;)y.childLanes|=a,l=y.alternate,l!==null&&(l.childLanes|=a),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(p=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,p&&r!==null&&(p=31-Ft(a),t=y.hiddenUpdates,l=t[p],l===null?t[p]=[r]:l.push(r),r.lane=a|536870912),y):null}function gc(t){if(50<pl)throw pl=0,Sp=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Fo={};function g3(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,r,a,l){return new g3(t,r,a,l)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hi(t,r){var a=t.alternate;return a===null?(a=ir(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gv(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function yc(t,r,a,l,p,y){var S=0;if(l=t,typeof t=="function")wf(t)&&(S=1);else if(typeof t=="string")S=bT(t,a,Me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case fe:return t=ir(31,a,r,p),t.elementType=fe,t.lanes=y,t;case A:return $a(a.children,p,y,r);case V:S=8,p|=24;break;case H:return t=ir(12,a,r,p|2),t.elementType=H,t.lanes=y,t;case P:return t=ir(13,a,r,p),t.elementType=P,t.lanes=y,t;case I:return t=ir(19,a,r,p),t.elementType=I,t.lanes=y,t;default:if(typeof t=="object"&&t)switch(t.$$typeof){case W:case Q:S=10;break e;case N:S=9;break e;case pe:S=11;break e;case $:S=14;break e;case de:S=16,l=null;break e}S=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=ir(S,a,r,p),r.elementType=t,r.type=l,r.lanes=y,r}function $a(t,r,a,l){return t=ir(7,t,l,r),t.lanes=a,t}function _f(t,r,a){return t=ir(6,t,null,r),t.lanes=a,t}function xf(t,r,a){return r=ir(4,t.children===null?[]:t.children,t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Bo=[],Vo=0,vc=null,bc=0,vr=[],br=0,Wa=null,gi=1,yi="";function Ua(t,r){Bo[Vo++]=bc,Bo[Vo++]=vc,vc=t,bc=r}function yv(t,r,a){vr[br++]=gi,vr[br++]=yi,vr[br++]=Wa,Wa=t;var l=gi;t=yi;var p=32-Ft(l)-1;l&=~(1<<p),a+=1;var y=32-Ft(r)+p;if(30<y){var S=p-p%5;y=(l&(1<<S)-1).toString(32),l>>=S,p-=S,gi=1<<32-Ft(r)+p|a<<p|l,yi=y+t}else gi=1<<y|a<<p|l,yi=t}function kf(t){t.return!==null&&(Ua(t,1),yv(t,1,0))}function Cf(t){for(;t===vc;)vc=Bo[--Vo],Bo[Vo]=null,bc=Bo[--Vo],Bo[Vo]=null;for(;t===Wa;)Wa=vr[--br],vr[br]=null,yi=vr[--br],vr[br]=null,gi=vr[--br],vr[br]=null}var qn=null,Wt=null,mt=!1,Ka=null,Zr=!1,Sf=Error(s(519));function Qa(t){throw Ws(gr(Error(s(418,"")),t)),Sf}function vv(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[jt]=l,a){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(a=0;a<hl.length;a++)rt(hl[a],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":rt("invalid",r),La(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Da(r);break;case"select":rt("invalid",r);break;case"textarea":rt("invalid",r),Wi(r,l.value,l.defaultValue,l.children),Da(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Mb(r.textContent,a)?(l.popover!=null&&(rt("beforetoggle",r),rt("toggle",r)),l.onScroll!=null&&rt("scroll",r),l.onScrollEnd!=null&&rt("scrollend",r),l.onClick!=null&&(r.onclick=Zc),r=!0):r=!1,r||Qa(t)}function bv(t){for(qn=t.return;qn;)switch(qn.tag){case 5:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:qn=qn.return}}function Hs(t){if(t!==qn)return!1;if(!mt)return bv(t),mt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fp(t.type,t.memoizedProps)),a=!a),a&&Wt&&Qa(t),bv(t),r===13){if(t=t.memoizedState,t=t===null?null:t.dehydrated,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Wt=Fr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Wt=null}}else r===27?(r=Wt,la(t.type)?(t=$p,$p=null,Wt=t):Wt=r):Wt=qn?Fr(t.stateNode.nextSibling):null;return!0}function $s(){Wt=qn=null,mt=!1}function wv(){var t=Ka;return t!==null&&(Un===null?Un=t:Un.push.apply(Un,t),Ka=null),t}function Ws(t){Ka===null?Ka=[t]:Ka.push(t)}var Ef=Be(null),Ga=null,vi=null;function Gi(t,r,a){Oe(Ef,r._currentValue),r._currentValue=a}function bi(t){t._currentValue=Ef.current,We(Ef)}function Tf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)===r?l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r):(t.childLanes|=r,l!==null&&(l.childLanes|=r)),t===a)break;t=t.return}}function Rf(t,r,a,l){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=p;for(var F=0;F<r.length;F++)if(O.context===r[F]){y.lanes|=a,O=y.alternate,O!==null&&(O.lanes|=a),Tf(y.return,a,t),l||(S=null);break e}y=O.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(s(341));S.lanes|=a,y=S.alternate,y!==null&&(y.lanes|=a),Tf(S,a,t),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===t){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Us(t,r,a,l){t=null;for(var p=r,y=!1;p!==null;){if(!y){if(p.flags&524288)y=!0;else if(p.flags&262144)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var O=p.type;rr(p.pendingProps.value,S.value)||(t===null?t=[O]:t.push(O))}}else if(p===On.current){if(S=p.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t===null?t=[_l]:t.push(_l))}p=p.return}t!==null&&Rf(r,t,a,l),r.flags|=262144}function wc(t){for(t=t.firstContext;t!==null;){if(!rr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ja(t){Ga=t,vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ln(t){return _v(Ga,t)}function _c(t,r){return Ga===null&&Ja(t),_v(t,r)}function _v(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},vi===null){if(t===null)throw Error(s(308));vi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else vi=vi.next=r;return a}var y3=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},v3=n.unstable_scheduleCallback,b3=n.unstable_NormalPriority,un={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new y3,data:new Map,refCount:0}}function Ks(t){t.refCount--,t.refCount===0&&v3(b3,function(){t.controller.abort()})}var Qs=null,Df=0,Ho=0,$o=null;function w3(t,r){if(Qs===null){var a=Qs=[];Df=0,Ho=Lp(),$o={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,r.then(xv,xv),r}function xv(){if(--Df===0&&Qs!==null){$o!==null&&($o.status="fulfilled");var t=Qs;Qs=null,Ho=0,$o=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function _3(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var p=0;p<a.length;p++)(0,a[p])(r)},function(p){for(l.status="rejected",l.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),l}var kv=G.S;G.S=function(t,r){typeof r=="object"&&r&&typeof r.then=="function"&&w3(t,r),kv!==null&&kv(t,r)};var Xa=Be(null);function Pf(){var t=Xa.current;return t===null?Nt.pooledCache:t}function xc(t,r){r===null?Oe(Xa,Xa.current):Oe(Xa,r.pool)}function Cv(){var t=Pf();return t===null?null:{parent:un._currentValue,pool:t}}var Gs=Error(s(460)),Sv=Error(s(474)),kc=Error(s(542)),Lf={then:function(){}};function Ev(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cc(){}function Tv(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Cc,Cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ov(t),t;default:if(typeof r.status=="string")r.then(Cc,Cc);else{if(t=Nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=l}},function(l){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ov(t),t}throw Js=r,Gs}}var Js=null;function Rv(){if(Js===null)throw Error(s(459));var t=Js;return Js=null,t}function Ov(t){if(t===Gs||t===kc)throw Error(s(483))}var Ji=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ya(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Za(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,_t&2){var p=l.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),l.pending=r,r=gc(t),hv(t,null,a),r}return hc(t,l,r,a),gc(t)}function Xs(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,a&4194048)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jn(t,a)}}function Af(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,a=a.next}while(a!==null);y===null?p=y=r:y=y.next=r}else p=y=r;a={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var If=!1;function Ys(){if(If){var t=$o;if(t!==null)throw t}}function Zs(t,r,a,l){If=!1;var p=t.updateQueue;Ji=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var F=O,re=F.next;F.next=null,S===null?y=re:S.next=re,S=F;var me=t.alternate;me!==null&&(me=me.updateQueue,O=me.lastBaseUpdate,O!==S&&(O===null?me.firstBaseUpdate=re:O.next=re,me.lastBaseUpdate=F))}if(y!==null){var ve=p.baseState;S=0,me=re=F=null,O=y;do{var oe=O.lane&-536870913,le=oe!==O.lane;if(le?(ot&oe)===oe:(l&oe)===oe){oe!==0&&oe===Ho&&(If=!0),me!==null&&(me=me.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var qe=t,Ne=O;oe=r;var Rt=a;switch(Ne.tag){case 1:if(qe=Ne.payload,typeof qe=="function"){ve=qe.call(Rt,ve,oe);break e}ve=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Ne.payload,oe=typeof qe=="function"?qe.call(Rt,ve,oe):qe,oe==null)break e;ve=_({},ve,oe);break e;case 2:Ji=!0}}oe=O.callback,oe!==null&&(t.flags|=64,le&&(t.flags|=8192),le=p.callbacks,le===null?p.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},me===null?(re=me=le,F=ve):me=me.next=le,S|=oe;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;le=O,O=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);me===null&&(F=ve),p.baseState=F,p.firstBaseUpdate=re,p.lastBaseUpdate=me,y===null&&(p.shared.lanes=0),ia|=S,t.lanes=S,t.memoizedState=ve}}function Dv(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Pv(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dv(a[t],r)}var Wo=Be(null),Sc=Be(0);function Lv(t,r){t=Ti,Oe(Sc,t),Oe(Wo,r),Ti=t|r.baseLanes}function jf(){Oe(Sc,Ti),Oe(Wo,Wo.current)}function qf(){Ti=Sc.current,We(Wo),We(Sc)}var Xi=0,Ye=null,Et=null,an=null,Ec=!1,Uo=!1,eo=!1,Tc=0,el=0,Ko=null,x3=0;function Yt(){throw Error(s(321))}function zf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!rr(t[a],r[a]))return!1;return!0}function Ff(t,r,a,l,p,y){return Xi=y,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=t===null||t.memoizedState===null?h1:g1,eo=!1,y=a(l,p),eo=!1,Uo&&(y=Nv(r,a,l,p)),Mv(t),y}function Mv(t){G.H=Mc;var r=Et!==null&&Et.next!==null;if(Xi=0,an=Et=Ye=null,Ec=!1,el=0,Ko=null,r)throw Error(s(300));t===null||wn||(t=t.dependencies,t!==null&&wc(t)&&(wn=!0))}function Nv(t,r,a,l){Ye=t;var p=0;do{if(Uo&&(Ko=null),el=0,Uo=!1,25<=p)throw Error(s(301));if(p+=1,an=Et=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=O3,y=r(a,l)}while(Uo);return y}function k3(){var t=G.H,r=t.useState()[0];return r=typeof r.then=="function"?tl(r):r,t=t.useState()[0],(Et===null?null:Et.memoizedState)!==t&&(Ye.flags|=1024),r}function Bf(){var t=Tc!==0;return Tc=0,t}function Vf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Hf(t){if(Ec){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ec=!1}Xi=0,an=Et=Ye=null,Uo=!1,el=Tc=0,Ko=null}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ye.memoizedState=an=t:an=an.next=t,an}function on(){if(Et===null){var t=Ye.alternate;t=t===null?null:t.memoizedState}else t=Et.next;var r=an===null?Ye.memoizedState:an.next;if(r!==null)an=r,Et=t;else{if(t===null)throw Ye.alternate===null?Error(s(467)):Error(s(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},an===null?Ye.memoizedState=an=t:an=an.next=t}return an}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var r=el;return el+=1,Ko===null&&(Ko=[]),t=Tv(Ko,t,r),r=Ye,(an===null?r.memoizedState:an.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?h1:g1),t}function Rc(t){if(typeof t=="object"&&t){if(typeof t.then=="function")return tl(t);if(t.$$typeof===Q)return Ln(t)}throw Error(s(438,String(t)))}function Wf(t){var r=null,a=Ye.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(p){return p.slice()}),index:0})))}if(r??(r={data:[],index:0}),a===null&&(a=$f(),Ye.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=be;return r.index++,a}function wi(t,r){return typeof r=="function"?r(t):r}function Oc(t){return Uf(on(),Et,t)}function Uf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var p=t.baseQueue,y=l.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}r.baseQueue=p=y,l.pending=null}if(y=t.baseState,p===null)t.memoizedState=y;else{r=p.next;var O=S=null,F=null,re=r,me=!1;do{var ve=re.lane&-536870913;if(ve===re.lane?(Xi&ve)===ve:(ot&ve)===ve){var oe=re.revertLane;if(oe===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ve===Ho&&(me=!0);else if((Xi&oe)===oe){re=re.next,oe===Ho&&(me=!0);continue}else ve={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},F===null?(O=F=ve,S=y):F=F.next=ve,Ye.lanes|=oe,ia|=oe;ve=re.action,eo&&a(y,ve),y=re.hasEagerState?re.eagerState:a(y,ve)}else oe={lane:ve,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},F===null?(O=F=oe,S=y):F=F.next=oe,Ye.lanes|=ve,ia|=ve;re=re.next}while(re!==null&&re!==r);if(F===null?S=y:F.next=O,!rr(y,t.memoizedState)&&(wn=!0,me&&(a=$o,a!==null)))throw a;t.memoizedState=y,t.baseState=S,t.baseQueue=F,l.lastRenderedState=y}return p===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var r=on(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,p=a.pending,y=r.memoizedState;if(p!==null){a.pending=null;var S=p=p.next;do y=t(y,S.action),S=S.next;while(S!==p);rr(y,r.memoizedState)||(wn=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),a.lastRenderedState=y}return[y,l]}function Av(t,r,a){var l=Ye,p=on(),y=mt;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=r();var S=!rr((Et||p).memoizedState,a);if(S&&(p.memoizedState=a,wn=!0),p=p.queue,nl(2048,8,qv.bind(null,l,p,t),[t]),p.getSnapshot!==r||S||an!==null&&an.memoizedState.tag&1){if(l.flags|=2048,Qo(9,Dc(),jv.bind(null,l,p,a,r),null),Nt===null)throw Error(s(349));y||Xi&124||Iv(l,r,a)}return a}function Iv(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ye.updateQueue,r===null?(r=$f(),Ye.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function jv(t,r,a,l){r.value=a,r.getSnapshot=l,zv(r)&&Fv(t)}function qv(t,r,a){return a(function(){zv(r)&&Fv(t)})}function zv(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!rr(t,a)}catch{return!0}}function Fv(t){var r=zo(t,2);r!==null&&lr(r,t,2)}function Qf(t){var r=$n();if(typeof t=="function"){var a=t;if(t=a(),eo){yt(!0);try{a()}finally{yt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},r}function Bv(t,r,a,l){return t.baseState=a,Uf(t,Et,typeof l=="function"?l:wi)}function C3(t,r,a,l,p){if(Lc(t))throw Error(s(485));if(t=r.action,t!==null){var y={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};G.T===null?y.isTransition=!1:a(!0),l(y),a=r.pending,a===null?(y.next=r.pending=y,Vv(r,y)):(y.next=a.next,r.pending=a.next=y)}}function Vv(t,r){var a=r.action,l=r.payload,p=t.state;if(r.isTransition){var y=G.T,S={};G.T=S;try{var O=a(p,l),F=G.S;F!==null&&F(S,O),Hv(t,r,O)}catch(re){Gf(t,r,re)}finally{G.T=y}}else try{y=a(p,l),Hv(t,r,y)}catch(re){Gf(t,r,re)}}function Hv(t,r,a){typeof a=="object"&&a&&typeof a.then=="function"?a.then(function(l){$v(t,r,l)},function(l){return Gf(t,r,l)}):$v(t,r,a)}function $v(t,r,a){r.status="fulfilled",r.value=a,Wv(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Vv(t,a)))}function Gf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Wv(r),r=r.next;while(r!==l)}t.action=null}function Wv(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Uv(t,r){return r}function Kv(t,r){if(mt){var a=Nt.formState;if(a!==null){e:{var l=Ye;if(mt){if(Wt){t:{for(var p=Wt,y=Zr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Fr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Wt=Fr(p.nextSibling),l=p.data==="F!";break e}}Qa(l)}l=!1}l&&(r=a[0])}}return a=$n(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uv,lastRenderedState:r},a.queue=l,a=f1.bind(null,Ye,l),l.dispatch=a,l=Qf(!1),y=ep.bind(null,Ye,!1,l.queue),l=$n(),p={state:r,dispatch:null,action:t,pending:null},l.queue=p,a=C3.bind(null,Ye,p,y,a),p.dispatch=a,l.memoizedState=t,[r,a,!1]}function Qv(t){return Gv(on(),Et,t)}function Gv(t,r,a){if(r=Uf(t,r,Uv)[0],t=Oc(wi)[0],typeof r=="object"&&r&&typeof r.then=="function")try{var l=tl(r)}catch(S){throw S===Gs?kc:S}else l=r;r=on();var p=r.queue,y=p.dispatch;return a!==r.memoizedState&&(Ye.flags|=2048,Qo(9,Dc(),S3.bind(null,p,a),null)),[l,y,t]}function S3(t,r){t.action=r}function Jv(t){var r=on(),a=Et;if(a!==null)return Gv(r,a,t);on(),r=r.memoizedState,a=on();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Qo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ye.updateQueue,r===null&&(r=$f(),Ye.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Dc(){return{destroy:void 0,resource:void 0}}function Xv(){return on().memoizedState}function Pc(t,r,a,l){var p=$n();l=l===void 0?null:l,Ye.flags|=t,p.memoizedState=Qo(1|r,Dc(),a,l)}function nl(t,r,a,l){var p=on();l=l===void 0?null:l;var y=p.memoizedState.inst;Et!==null&&l!==null&&zf(l,Et.memoizedState.deps)?p.memoizedState=Qo(r,y,a,l):(Ye.flags|=t,p.memoizedState=Qo(1|r,y,a,l))}function Yv(t,r){Pc(8390656,8,t,r)}function Zv(t,r){nl(2048,8,t,r)}function e1(t,r){return nl(4,2,t,r)}function t1(t,r){return nl(4,4,t,r)}function n1(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function r1(t,r,a){a=a==null?null:a.concat([t]),nl(4,4,n1.bind(null,r,t),a)}function Jf(){}function i1(t,r){var a=on();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&zf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function a1(t,r){var a=on();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&zf(r,l[1]))return l[0];if(l=t(),eo){yt(!0);try{t()}finally{yt(!1)}}return a.memoizedState=[l,r],l}function Xf(t,r,a){return a===void 0||Xi&1073741824?t.memoizedState=r:(t.memoizedState=a,t=ab(),Ye.lanes|=t,ia|=t,a)}function o1(t,r,a,l){return rr(a,r)?a:Wo.current===null?Xi&42?(t=ab(),Ye.lanes|=t,ia|=t,r):(wn=!0,t.memoizedState=a):(t=Xf(t,a,l),rr(t,r)||(wn=!0),t)}function s1(t,r,a,l,p){var y=K.p;K.p=y!==0&&8>y?y:8;var S=G.T,O={};G.T=O,ep(t,!1,r,a);try{var F=p(),re=G.S;re!==null&&re(O,F),typeof F=="object"&&F&&typeof F.then=="function"?rl(t,r,_3(F,l),xr(t)):rl(t,r,l,xr(t))}catch(me){rl(t,r,{then:function(){},status:"rejected",reason:me},xr())}finally{K.p=y,G.T=S}}function E3(){}function Yf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var p=l1(t).queue;s1(t,p,r,Le,a===null?E3:function(){return c1(t),a(l)})}function l1(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Le,baseState:Le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:Le},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function c1(t){var r=l1(t).next.queue;rl(t,r,{},xr())}function Zf(){return Ln(_l)}function u1(){return on().memoizedState}function d1(){return on().memoizedState}function T3(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=xr();t=Ya(a);var l=Za(r,t,a);l!==null&&(lr(l,r,a),Xs(l,r,a)),r={cache:Of()},t.payload=r;return}r=r.return}}function R3(t,r,a){var l=xr();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lc(t)?p1(r,a):(a=bf(t,r,a,l),a!==null&&(lr(a,t,l),m1(a,r,l)))}function f1(t,r,a){rl(t,r,a,xr())}function rl(t,r,a,l){var p={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lc(t))p1(r,p);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var S=r.lastRenderedState,O=y(S,a);if(p.hasEagerState=!0,p.eagerState=O,rr(O,S))return hc(t,r,p,0),Nt===null&&mc(),!1}catch{}if(a=bf(t,r,p,l),a!==null)return lr(a,t,l),m1(a,r,l),!0}return!1}function ep(t,r,a,l){if(l={lane:2,revertLane:Lp(),action:l,hasEagerState:!1,eagerState:null,next:null},Lc(t)){if(r)throw Error(s(479))}else r=bf(t,a,l,2),r!==null&&lr(r,t,2)}function Lc(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function p1(t,r){Uo=Ec=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function m1(t,r,a){if(a&4194048){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jn(t,a)}}var Mc={readContext:Ln,use:Rc,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},h1={readContext:Ln,use:Rc,useCallback:function(t,r){return $n().memoizedState=[t,r===void 0?null:r],t},useContext:Ln,useEffect:Yv,useImperativeHandle:function(t,r,a){a=a==null?null:a.concat([t]),Pc(4194308,4,n1.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Pc(4194308,4,t,r)},useInsertionEffect:function(t,r){Pc(4,2,t,r)},useMemo:function(t,r){var a=$n();r=r===void 0?null:r;var l=t();if(eo){yt(!0);try{t()}finally{yt(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=$n();if(a!==void 0){var p=a(r);if(eo){yt(!0);try{a(r)}finally{yt(!1)}}}else p=r;return l.memoizedState=l.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},l.queue=t,t=t.dispatch=R3.bind(null,Ye,t),[l.memoizedState,t]},useRef:function(t){var r=$n();return t={current:t},r.memoizedState=t},useState:function(t){t=Qf(t);var r=t.queue,a=f1.bind(null,Ye,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,r){return Xf($n(),t,r)},useTransition:function(){var t=Qf(!1);return t=s1.bind(null,Ye,t.queue,!0,!1),$n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ye,p=$n();if(mt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Nt===null)throw Error(s(349));ot&124||Iv(l,r,a)}p.memoizedState=a;var y={value:a,getSnapshot:r};return p.queue=y,Yv(qv.bind(null,l,y,t),[t]),l.flags|=2048,Qo(9,Dc(),jv.bind(null,l,y,a,r),null),a},useId:function(){var t=$n(),r=Nt.identifierPrefix;if(mt){var a=yi,l=gi;a=(l&~(1<<32-Ft(l)-1)).toString(32)+a,r="\xAB"+r+"R"+a,a=Tc++,0<a&&(r+="H"+a.toString(32)),r+="\xBB"}else a=x3++,r="\xAB"+r+"r"+a.toString(32)+"\xBB";return t.memoizedState=r},useHostTransitionStatus:Zf,useFormState:Kv,useActionState:Kv,useOptimistic:function(t){var r=$n();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ep.bind(null,Ye,!0,a),a.dispatch=r,[t,r]},useMemoCache:Wf,useCacheRefresh:function(){return $n().memoizedState=T3.bind(null,Ye)}},g1={readContext:Ln,use:Rc,useCallback:i1,useContext:Ln,useEffect:Zv,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:a1,useReducer:Oc,useRef:Xv,useState:function(){return Oc(wi)},useDebugValue:Jf,useDeferredValue:function(t,r){return o1(on(),Et.memoizedState,t,r)},useTransition:function(){var t=Oc(wi)[0],r=on().memoizedState;return[typeof t=="boolean"?t:tl(t),r]},useSyncExternalStore:Av,useId:u1,useHostTransitionStatus:Zf,useFormState:Qv,useActionState:Qv,useOptimistic:function(t,r){return Bv(on(),Et,t,r)},useMemoCache:Wf,useCacheRefresh:d1},O3={readContext:Ln,use:Rc,useCallback:i1,useContext:Ln,useEffect:Zv,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:a1,useReducer:Kf,useRef:Xv,useState:function(){return Kf(wi)},useDebugValue:Jf,useDeferredValue:function(t,r){var a=on();return Et===null?Xf(a,t,r):o1(a,Et.memoizedState,t,r)},useTransition:function(){var t=Kf(wi)[0],r=on().memoizedState;return[typeof t=="boolean"?t:tl(t),r]},useSyncExternalStore:Av,useId:u1,useHostTransitionStatus:Zf,useFormState:Jv,useActionState:Jv,useOptimistic:function(t,r){var a=on();return Et===null?(a.baseState=t,[t,a.queue.dispatch]):Bv(a,Et,t,r)},useMemoCache:Wf,useCacheRefresh:d1},Go=null,il=0;function Nc(t){var r=il;return il+=1,Go===null&&(Go=[]),Tv(Go,t,r)}function al(t,r){r=r.props.ref,t.ref=r===void 0?null:r}function Ac(t,r){throw r.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function y1(t){var r=t._init;return r(t._payload)}function v1(t){function r(J,U){if(t){var te=J.deletions;te===null?(J.deletions=[U],J.flags|=16):te.push(U)}}function a(J,U){if(!t)return null;for(;U!==null;)r(J,U),U=U.sibling;return null}function l(J){for(var U=new Map;J!==null;)J.key===null?U.set(J.index,J):U.set(J.key,J),J=J.sibling;return U}function p(J,U){return J=hi(J,U),J.index=0,J.sibling=null,J}function y(J,U,te){return J.index=te,t?(te=J.alternate,te===null?(J.flags|=67108866,U):(te=te.index,te<U?(J.flags|=67108866,U):te)):(J.flags|=1048576,U)}function S(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function O(J,U,te,he){return U===null||U.tag!==6?(U=_f(te,J.mode,he),U.return=J,U):(U=p(U,te),U.return=J,U)}function F(J,U,te,he){var Re=te.type;return Re===A?me(J,U,te.props.children,he,te.key):U!==null&&(U.elementType===Re||typeof Re=="object"&&Re&&Re.$$typeof===de&&y1(Re)===U.type)?(U=p(U,te.props),al(U,te),U.return=J,U):(U=yc(te.type,te.key,te.props,null,J.mode,he),al(U,te),U.return=J,U)}function re(J,U,te,he){return U===null||U.tag!==4||U.stateNode.containerInfo!==te.containerInfo||U.stateNode.implementation!==te.implementation?(U=xf(te,J.mode,he),U.return=J,U):(U=p(U,te.children||[]),U.return=J,U)}function me(J,U,te,he,Re){return U===null||U.tag!==7?(U=$a(te,J.mode,he,Re),U.return=J,U):(U=p(U,te),U.return=J,U)}function ve(J,U,te){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=_f(""+U,J.mode,te),U.return=J,U;if(typeof U=="object"&&U){switch(U.$$typeof){case E:return te=yc(U.type,U.key,U.props,null,J.mode,te),al(te,U),te.return=J,te;case T:return U=xf(U,J.mode,te),U.return=J,U;case de:var he=U._init;return U=he(U._payload),ve(J,U,te)}if(X(U)||we(U))return U=$a(U,J.mode,te,null),U.return=J,U;if(typeof U.then=="function")return ve(J,Nc(U),te);if(U.$$typeof===Q)return ve(J,_c(J,U),te);Ac(J,U)}return null}function oe(J,U,te,he){var Re=U===null?null:U.key;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Re===null?O(J,U,""+te,he):null;if(typeof te=="object"&&te){switch(te.$$typeof){case E:return te.key===Re?F(J,U,te,he):null;case T:return te.key===Re?re(J,U,te,he):null;case de:return Re=te._init,te=Re(te._payload),oe(J,U,te,he)}if(X(te)||we(te))return Re===null?me(J,U,te,he,null):null;if(typeof te.then=="function")return oe(J,U,Nc(te),he);if(te.$$typeof===Q)return oe(J,U,_c(J,te),he);Ac(J,te)}return null}function le(J,U,te,he,Re){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return J=J.get(te)||null,O(U,J,""+he,Re);if(typeof he=="object"&&he){switch(he.$$typeof){case E:return J=J.get(he.key===null?te:he.key)||null,F(U,J,he,Re);case T:return J=J.get(he.key===null?te:he.key)||null,re(U,J,he,Re);case de:var et=he._init;return he=et(he._payload),le(J,U,te,he,Re)}if(X(he)||we(he))return J=J.get(te)||null,me(U,J,he,Re,null);if(typeof he.then=="function")return le(J,U,te,Nc(he),Re);if(he.$$typeof===Q)return le(J,U,te,_c(U,he),Re);Ac(U,he)}return null}function qe(J,U,te,he){for(var Re=null,et=null,De=U,Ae=U=0,xn=null;De!==null&&Ae<te.length;Ae++){De.index>Ae?(xn=De,De=null):xn=De.sibling;var dt=oe(J,De,te[Ae],he);if(dt===null){De===null&&(De=xn);break}t&&De&&dt.alternate===null&&r(J,De),U=y(dt,U,Ae),et===null?Re=dt:et.sibling=dt,et=dt,De=xn}if(Ae===te.length)return a(J,De),mt&&Ua(J,Ae),Re;if(De===null){for(;Ae<te.length;Ae++)De=ve(J,te[Ae],he),De!==null&&(U=y(De,U,Ae),et===null?Re=De:et.sibling=De,et=De);return mt&&Ua(J,Ae),Re}for(De=l(De);Ae<te.length;Ae++)xn=le(De,J,Ae,te[Ae],he),xn!==null&&(t&&xn.alternate!==null&&De.delete(xn.key===null?Ae:xn.key),U=y(xn,U,Ae),et===null?Re=xn:et.sibling=xn,et=xn);return t&&De.forEach(function(pa){return r(J,pa)}),mt&&Ua(J,Ae),Re}function Ne(J,U,te,he){if(te==null)throw Error(s(151));for(var Re=null,et=null,De=U,Ae=U=0,xn=null,dt=te.next();De!==null&&!dt.done;Ae++,dt=te.next()){De.index>Ae?(xn=De,De=null):xn=De.sibling;var pa=oe(J,De,dt.value,he);if(pa===null){De===null&&(De=xn);break}t&&De&&pa.alternate===null&&r(J,De),U=y(pa,U,Ae),et===null?Re=pa:et.sibling=pa,et=pa,De=xn}if(dt.done)return a(J,De),mt&&Ua(J,Ae),Re;if(De===null){for(;!dt.done;Ae++,dt=te.next())dt=ve(J,dt.value,he),dt!==null&&(U=y(dt,U,Ae),et===null?Re=dt:et.sibling=dt,et=dt);return mt&&Ua(J,Ae),Re}for(De=l(De);!dt.done;Ae++,dt=te.next())dt=le(De,J,Ae,dt.value,he),dt!==null&&(t&&dt.alternate!==null&&De.delete(dt.key===null?Ae:dt.key),U=y(dt,U,Ae),et===null?Re=dt:et.sibling=dt,et=dt);return t&&De.forEach(function(MT){return r(J,MT)}),mt&&Ua(J,Ae),Re}function Rt(J,U,te,he){if(typeof te=="object"&&te&&te.type===A&&te.key===null&&(te=te.props.children),typeof te=="object"&&te){switch(te.$$typeof){case E:e:{for(var Re=te.key;U!==null;){if(U.key===Re){if(Re=te.type,Re===A){if(U.tag===7){a(J,U.sibling),he=p(U,te.props.children),he.return=J,J=he;break e}}else if(U.elementType===Re||typeof Re=="object"&&Re&&Re.$$typeof===de&&y1(Re)===U.type){a(J,U.sibling),he=p(U,te.props),al(he,te),he.return=J,J=he;break e}a(J,U);break}else r(J,U);U=U.sibling}te.type===A?(he=$a(te.props.children,J.mode,he,te.key),he.return=J,J=he):(he=yc(te.type,te.key,te.props,null,J.mode,he),al(he,te),he.return=J,J=he)}return S(J);case T:e:{for(Re=te.key;U!==null;){if(U.key===Re)if(U.tag===4&&U.stateNode.containerInfo===te.containerInfo&&U.stateNode.implementation===te.implementation){a(J,U.sibling),he=p(U,te.children||[]),he.return=J,J=he;break e}else{a(J,U);break}else r(J,U);U=U.sibling}he=xf(te,J.mode,he),he.return=J,J=he}return S(J);case de:return Re=te._init,te=Re(te._payload),Rt(J,U,te,he)}if(X(te))return qe(J,U,te,he);if(we(te)){if(Re=we(te),typeof Re!="function")throw Error(s(150));return te=Re.call(te),Ne(J,U,te,he)}if(typeof te.then=="function")return Rt(J,U,Nc(te),he);if(te.$$typeof===Q)return Rt(J,U,_c(J,te),he);Ac(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,U!==null&&U.tag===6?(a(J,U.sibling),he=p(U,te),he.return=J,J=he):(a(J,U),he=_f(te,J.mode,he),he.return=J,J=he),S(J)):a(J,U)}return function(J,U,te,he){try{il=0;var Re=Rt(J,U,te,he);return Go=null,Re}catch(De){if(De===Gs||De===kc)throw De;var et=ir(29,De,null,J.mode);return et.lanes=he,et.return=J,et}}}var Jo=v1(!0),b1=v1(!1),wr=Be(null),_i=null;function Yi(t){var r=t.alternate;Oe(dn,dn.current&1),Oe(wr,t),_i===null&&(r===null||Wo.current!==null||r.memoizedState!==null)&&(_i=t)}function w1(t){if(t.tag===22){if(Oe(dn,dn.current),Oe(wr,t),_i===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(_i=t)}}else Zi(t)}function Zi(){Oe(dn,dn.current),Oe(wr,wr.current)}function xi(t){We(wr),_i===t&&(_i=null),We(dn)}var dn=Be(0);function Ic(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function tp(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var np={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=xr(),p=Ya(l);p.payload=r,a!=null&&(p.callback=a),r=Za(t,p,l),r!==null&&(lr(r,t,l),Xs(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=xr(),p=Ya(l);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Za(t,p,l),r!==null&&(lr(r,t,l),Xs(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=xr(),l=Ya(a);l.tag=2,r!=null&&(l.callback=r),r=Za(t,l,a),r!==null&&(lr(r,t,a),Xs(r,t,a))}};function _1(t,r,a,l,p,y,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,y,S):r.prototype&&r.prototype.isPureReactComponent?!Bs(a,l)||!Bs(p,y):!0}function x1(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&np.enqueueReplaceState(r,r.state,null)}function to(t,r){var a=r;if("ref"in r)for(var l in a={},r)l!=="ref"&&(a[l]=r[l]);if(t=t.defaultProps)for(var p in a===r&&(a=_({},a)),t)a[p]===void 0&&(a[p]=t[p]);return a}var jc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function D3(t){jc(t)}function P3(t){console.error(t)}function L3(t){jc(t)}function qc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function k1(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function rp(t,r,a){return a=Ya(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(t,r)},a}function C1(t){return t=Ya(t),t.tag=3,t}function S1(t,r,a,l){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;t.payload=function(){return p(y)},t.callback=function(){k1(r,a,l)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){k1(r,a,l),typeof p!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O===null?"":O})})}function M3(t,r,a,l,p){if(a.flags|=32768,typeof l=="object"&&l&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Us(r,a,p,!0),a=wr.current,a!==null){switch(a.tag){case 13:return _i===null?Tp():a.alternate===null&&Ut===0&&(Ut=3),a.flags&=-257,a.flags|=65536,a.lanes=p,l===Lf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Op(t,l,p)),!1;case 22:return a.flags|=65536,l===Lf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Op(t,l,p)),!1}throw Error(s(435,a.tag))}return Op(t,l,p),Tp(),!1}if(mt)return r=wr.current,r===null?(l!==Sf&&(r=Error(s(423),{cause:l}),Ws(gr(r,a))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,l=gr(l,a),p=rp(t.stateNode,l,p),Af(t,p),Ut!==4&&(Ut=2)):(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=p,l!==Sf&&(t=Error(s(422),{cause:l}),Ws(gr(t,a)))),!1;var y=Error(s(520),{cause:l});if(y=gr(y,a),fl===null?fl=[y]:fl.push(y),Ut!==4&&(Ut=2),r===null)return!0;l=gr(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=p&-p,a.lanes|=t,t=rp(a.stateNode,l,t),Af(a,t),!1;case 1:if(r=a.type,y=a.stateNode,!(a.flags&128)&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(aa===null||!aa.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=C1(p),S1(p,t,a,l),Af(a,p),!1}a=a.return}while(a!==null);return!1}var E1=Error(s(461)),wn=!1;function Sn(t,r,a,l){r.child=t===null?b1(r,null,a,l):Jo(r,t.child,a,l)}function T1(t,r,a,l,p){a=a.render;var y=r.ref;if("ref"in l){var S={};for(var O in l)O!=="ref"&&(S[O]=l[O])}else S=l;return Ja(r),l=Ff(t,r,a,S,y,p),O=Bf(),t!==null&&!wn?(Vf(t,r,p),ki(t,r,p)):(mt&&O&&kf(r),r.flags|=1,Sn(t,r,l,p),r.child)}function R1(t,r,a,l,p){if(t===null){var y=a.type;return typeof y=="function"&&!wf(y)&&y.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=y,O1(t,r,y,l,p)):(t=yc(a.type,null,l,r,r.mode,p),t.ref=r.ref,t.return=r,r.child=t)}if(y=t.child,!dp(t,p)){var S=y.memoizedProps;if(a=a.compare,a=a===null?Bs:a,a(S,l)&&t.ref===r.ref)return ki(t,r,p)}return r.flags|=1,t=hi(y,l),t.ref=r.ref,t.return=r,r.child=t}function O1(t,r,a,l,p){if(t!==null){var y=t.memoizedProps;if(Bs(y,l)&&t.ref===r.ref)if(wn=!1,r.pendingProps=l=y,dp(t,p))t.flags&131072&&(wn=!0);else return r.lanes=t.lanes,ki(t,r,p)}return ip(t,r,a,l,p)}function D1(t,r,a){var l=r.pendingProps,p=l.children,y=t===null?null:t.memoizedState;if(l.mode==="hidden"){if(r.flags&128){if(l=y===null?a:y.baseLanes|a,t!==null){for(p=r.child=t.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;r.childLanes=y&~l}else r.childLanes=0,r.child=null;return P1(t,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(r,y===null?null:y.cachePool),y===null?jf():Lv(r,y),w1(r);else return r.lanes=r.childLanes=536870912,P1(t,r,y===null?a:y.baseLanes|a,a)}else y===null?(t!==null&&xc(r,null),jf(),Zi(r)):(xc(r,y.cachePool),Lv(r,y),Zi(r),r.memoizedState=null);return Sn(t,r,p,a),r.child}function P1(t,r,a,l){var p=Pf();return p=p===null?null:{parent:un._currentValue,pool:p},r.memoizedState={baseLanes:a,cachePool:p},t!==null&&xc(r,null),jf(),w1(r),t!==null&&Us(t,r,l,!0),null}function zc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ip(t,r,a,l,p){return Ja(r),a=Ff(t,r,a,l,void 0,p),l=Bf(),t!==null&&!wn?(Vf(t,r,p),ki(t,r,p)):(mt&&l&&kf(r),r.flags|=1,Sn(t,r,a,p),r.child)}function L1(t,r,a,l,p,y){return Ja(r),r.updateQueue=null,a=Nv(r,l,a,p),Mv(t),l=Bf(),t!==null&&!wn?(Vf(t,r,y),ki(t,r,y)):(mt&&l&&kf(r),r.flags|=1,Sn(t,r,a,y),r.child)}function M1(t,r,a,l,p){if(Ja(r),r.stateNode===null){var y=Fo,S=a.contextType;typeof S=="object"&&S&&(y=Ln(S)),y=new a(l,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=np,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=l,y.state=r.memoizedState,y.refs={},Mf(r),S=a.contextType,y.context=typeof S=="object"&&S?Ln(S):Fo,y.state=r.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(tp(r,a,S,l),y.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&np.enqueueReplaceState(y,y.state,null),Zs(r,l,y,p),Ys(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){y=r.stateNode;var O=r.memoizedProps,F=to(a,O);y.props=F;var re=y.context,me=a.contextType;S=Fo,typeof me=="object"&&me&&(S=Ln(me));var ve=a.getDerivedStateFromProps;me=typeof ve=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=r.pendingProps!==O,me||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||re!==S)&&x1(r,y,l,S),Ji=!1;var oe=r.memoizedState;y.state=oe,Zs(r,l,y,p),Ys(),re=r.memoizedState,O||oe!==re||Ji?(typeof ve=="function"&&(tp(r,a,ve,l),re=r.memoizedState),(F=Ji||_1(r,a,F,l,oe,re,S))?(me||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=re),y.props=l,y.state=re,y.context=S,l=F):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{y=r.stateNode,Nf(t,r),S=r.memoizedProps,me=to(a,S),y.props=me,ve=r.pendingProps,oe=y.context,re=a.contextType,F=Fo,typeof re=="object"&&re&&(F=Ln(re)),O=a.getDerivedStateFromProps,(re=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ve||oe!==F)&&x1(r,y,l,F),Ji=!1,oe=r.memoizedState,y.state=oe,Zs(r,l,y,p),Ys();var le=r.memoizedState;S!==ve||oe!==le||Ji||t!==null&&t.dependencies!==null&&wc(t.dependencies)?(typeof O=="function"&&(tp(r,a,O,l),le=r.memoizedState),(me=Ji||_1(r,a,me,l,oe,le,F)||t!==null&&t.dependencies!==null&&wc(t.dependencies))?(re||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,le,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,le,F)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===t.memoizedProps&&oe===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&oe===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=le),y.props=l,y.state=le,y.context=F,l=me):(typeof y.componentDidUpdate!="function"||S===t.memoizedProps&&oe===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&oe===t.memoizedState||(r.flags|=1024),l=!1)}return y=l,zc(t,r),l=(r.flags&128)!=0,y||l?(y=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,t!==null&&l?(r.child=Jo(r,t.child,null,p),r.child=Jo(r,null,a,p)):Sn(t,r,a,p),r.memoizedState=y.state,t=r.child):t=ki(t,r,p),t}function N1(t,r,a,l){return $s(),r.flags|=256,Sn(t,r,a,l),r.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function op(t){return{baseLanes:t,cachePool:Cv()}}function sp(t,r,a){return t=t===null?0:t.childLanes&~a,r&&(t|=_r),t}function A1(t,r,a){var l=r.pendingProps,p=!1,y=(r.flags&128)!=0,S;if((S=y)||(S=t!==null&&t.memoizedState===null?!1:(dn.current&2)!=0),S&&(p=!0,r.flags&=-129),S=(r.flags&32)!=0,r.flags&=-33,t===null){if(mt){if(p?Yi(r):Zi(r),mt){var O=Wt,F;if(F=O){e:{for(F=O,O=Zr;F.nodeType!==8;){if(!O){O=null;break e}if(F=Fr(F.nextSibling),F===null){O=null;break e}}O=F}O===null?F=!1:(r.memoizedState={dehydrated:O,treeContext:Wa===null?null:{id:gi,overflow:yi},retryLane:536870912,hydrationErrors:null},F=ir(18,null,null,0),F.stateNode=O,F.return=r,r.child=F,qn=r,Wt=null,F=!0)}F||Qa(r)}if(O=r.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Hp(O)?r.lanes=32:r.lanes=536870912,null;xi(r)}return O=l.children,l=l.fallback,p?(Zi(r),p=r.mode,O=Fc({mode:"hidden",children:O},p),l=$a(l,p,a,null),O.return=r,l.return=r,O.sibling=l,r.child=O,p=r.child,p.memoizedState=op(a),p.childLanes=sp(t,S,a),r.memoizedState=ap,l):(Yi(r),lp(r,O))}if(F=t.memoizedState,F!==null&&(O=F.dehydrated,O!==null)){if(y)r.flags&256?(Yi(r),r.flags&=-257,r=cp(t,r,a)):r.memoizedState===null?(Zi(r),p=l.fallback,O=r.mode,l=Fc({mode:"visible",children:l.children},O),p=$a(p,O,a,null),p.flags|=2,l.return=r,p.return=r,l.sibling=p,r.child=l,Jo(r,t.child,null,a),l=r.child,l.memoizedState=op(a),l.childLanes=sp(t,S,a),r.memoizedState=ap,r=p):(Zi(r),r.child=t.child,r.flags|=128,r=null);else if(Yi(r),Hp(O)){if(S=O.nextSibling&&O.nextSibling.dataset,S)var re=S.dgst;S=re,l=Error(s(419)),l.stack="",l.digest=S,Ws({value:l,source:null,stack:null}),r=cp(t,r,a)}else if(wn||Us(t,r,a,!1),S=(a&t.childLanes)!==0,wn||S){if(S=Nt,S!==null&&(l=a&-a,l=l&42?1:Vn(l),l=(l&(S.suspendedLanes|a))===0?l:0,l!==0&&l!==F.retryLane))throw F.retryLane=l,zo(t,l),lr(S,t,l),E1;O.data==="$?"||Tp(),r=cp(t,r,a)}else O.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=F.treeContext,Wt=Fr(O.nextSibling),qn=r,mt=!0,Ka=null,Zr=!1,t!==null&&(vr[br++]=gi,vr[br++]=yi,vr[br++]=Wa,gi=t.id,yi=t.overflow,Wa=r),r=lp(r,l.children),r.flags|=4096);return r}return p?(Zi(r),p=l.fallback,O=r.mode,F=t.child,re=F.sibling,l=hi(F,{mode:"hidden",children:l.children}),l.subtreeFlags=F.subtreeFlags&65011712,re===null?(p=$a(p,O,a,null),p.flags|=2):p=hi(re,p),p.return=r,l.return=r,l.sibling=p,r.child=l,l=p,p=r.child,O=t.child.memoizedState,O===null?O=op(a):(F=O.cachePool,F===null?F=Cv():(re=un._currentValue,F=F.parent===re?F:{parent:re,pool:re}),O={baseLanes:O.baseLanes|a,cachePool:F}),p.memoizedState=O,p.childLanes=sp(t,S,a),r.memoizedState=ap,l):(Yi(r),a=t.child,t=a.sibling,a=hi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(S=r.deletions,S===null?(r.deletions=[t],r.flags|=16):S.push(t)),r.child=a,r.memoizedState=null,a)}function lp(t,r){return r=Fc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Fc(t,r){return t=ir(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cp(t,r,a){return Jo(r,t.child,null,a),t=lp(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function I1(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Tf(t.return,r,a)}function up(t,r,a,l,p){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:p}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=p)}function j1(t,r,a){var l=r.pendingProps,p=l.revealOrder,y=l.tail;if(Sn(t,r,l.children,a),l=dn.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I1(t,a,r);else if(t.tag===19)I1(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Oe(dn,l),p){case"forwards":for(a=r.child,p=null;a!==null;)t=a.alternate,t!==null&&Ic(t)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),up(r,!1,p,a,y);break;case"backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(t=p.alternate,t!==null&&Ic(t)===null){r.child=p;break}t=p.sibling,p.sibling=a,a=p,p=t}up(r,!0,a,null,y);break;case"together":up(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ki(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ia|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Us(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=hi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=hi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function dp(t,r){return(t.lanes&r)===0?(t=t.dependencies,!!(t!==null&&wc(t))):!0}function N3(t,r,a){switch(r.tag){case 3:ln(r,r.stateNode.containerInfo),Gi(r,un,t.memoizedState.cache),$s();break;case 27:case 5:nn(r);break;case 4:ln(r,r.stateNode.containerInfo);break;case 10:Gi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated===null?(a&r.child.childLanes)===0?(Yi(r),t=ki(t,r,a),t===null?null:t.sibling):A1(t,r,a):(Yi(r),r.flags|=128,null);Yi(r);break;case 19:var p=(t.flags&128)!=0;if(l=(a&r.childLanes)!==0,l||(l=(Us(t,r,a,!1),(a&r.childLanes)!==0)),p){if(l)return j1(t,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Oe(dn,dn.current),l)break;return null;case 22:case 23:return r.lanes=0,D1(t,r,a);case 24:Gi(r,un,t.memoizedState.cache)}return ki(t,r,a)}function q1(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)wn=!0;else{if(!dp(t,a)&&!(r.flags&128))return wn=!1,N3(t,r,a);wn=!!(t.flags&131072)}else wn=!1,mt&&r.flags&1048576&&yv(r,bc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,p=l._init;if(l=p(l._payload),r.type=l,typeof l=="function")wf(l)?(t=to(l,t),r.tag=1,r=M1(null,r,l,t,a)):(r.tag=0,r=ip(null,r,l,t,a));else{if(l!=null){if(p=l.$$typeof,p===pe){r.tag=11,r=T1(null,r,l,t,a);break e}else if(p===$){r.tag=14,r=R1(null,r,l,t,a);break e}}throw r=ie(l)||l,Error(s(306,r,""))}}return r;case 0:return ip(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,p=to(l,r.pendingProps),M1(t,r,l,p,a);case 3:e:{if(ln(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var y=r.memoizedState;p=y.element,Nf(t,r),Zs(r,l,null,a);var S=r.memoizedState;if(l=S.cache,Gi(r,un,l),l!==y.cache&&Rf(r,[un],a,!0),Ys(),l=S.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=N1(t,r,l,a);break e}else if(l!==p){p=gr(Error(s(424)),r),Ws(p),r=N1(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=Fr(t.firstChild),qn=r,mt=!0,Ka=null,Zr=!0,a=b1(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($s(),l===p){r=ki(t,r,a);break e}Sn(t,r,l,a)}r=r.child}return r;case 26:return zc(t,r),t===null?(a=Hb(r.type,null,r.pendingProps,null))?r.memoizedState=a:mt||(a=r.type,t=r.pendingProps,l=eu(It.current).createElement(a),l[bt]=r,l[jt]=t,Tn(l,a,t),Ve(l),r.stateNode=l):r.memoizedState=Hb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return nn(r),t===null&&mt&&(l=r.stateNode=Fb(r.type,r.pendingProps,It.current),qn=r,Zr=!0,p=Wt,la(r.type)?($p=p,Wt=Fr(l.firstChild)):Wt=p),Sn(t,r,r.pendingProps.children,a),zc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&mt&&((p=l=Wt)&&(l=oT(l,r.type,r.pendingProps,Zr),l===null?p=!1:(r.stateNode=l,qn=r,Wt=Fr(l.firstChild),Zr=!1,p=!0)),p||Qa(r)),nn(r),p=r.type,y=r.pendingProps,S=t===null?null:t.memoizedProps,l=y.children,Fp(p,y)?l=null:S!==null&&Fp(p,S)&&(r.flags|=32),r.memoizedState!==null&&(p=Ff(t,r,k3,null,null,a),_l._currentValue=p),zc(t,r),Sn(t,r,l,a),r.child;case 6:return t===null&&mt&&((t=a=Wt)&&(a=sT(a,r.pendingProps,Zr),a===null?t=!1:(r.stateNode=a,qn=r,Wt=null,t=!0)),t||Qa(r)),null;case 13:return A1(t,r,a);case 4:return ln(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Jo(r,null,l,a):Sn(t,r,l,a),r.child;case 11:return T1(t,r,r.type,r.pendingProps,a);case 7:return Sn(t,r,r.pendingProps,a),r.child;case 8:return Sn(t,r,r.pendingProps.children,a),r.child;case 12:return Sn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Gi(r,r.type,l.value),Sn(t,r,l.children,a),r.child;case 9:return p=r.type._context,l=r.pendingProps.children,Ja(r),p=Ln(p),l=l(p),r.flags|=1,Sn(t,r,l,a),r.child;case 14:return R1(t,r,r.type,r.pendingProps,a);case 15:return O1(t,r,r.type,r.pendingProps,a);case 19:return j1(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Fc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=hi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return D1(t,r,a);case 24:return Ja(r),l=Ln(un),t===null?(p=Pf(),p===null&&(p=Nt,y=Of(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),r.memoizedState={parent:l,cache:p},Mf(r),Gi(r,un,p)):((t.lanes&a)!==0&&(Nf(t,r),Zs(r,null,null,a),Ys()),p=t.memoizedState,y=r.memoizedState,p.parent===l?(l=y.cache,Gi(r,un,l),l!==p.cache&&Rf(r,[un],a,!0)):(p={parent:l,cache:l},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Gi(r,un,l))),Sn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ci(t){t.flags|=4}function z1(t,r){if(r.type!=="stylesheet"||r.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Qb(r)){if(r=wr.current,r!==null&&((ot&4194048)===ot?_i!==null:(ot&62914560)!==ot&&!(ot&536870912)||r!==_i))throw Js=Lf,Sv;t.flags|=8192}}function Bc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag===22?536870912:Kr(),t.lanes|=r,es|=r)}function ol(t,r){if(!mt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Bt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var p=t.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function A3(t,r,a){var l=r.pendingProps;switch(Cf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(r),null;case 1:return Bt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),bi(un),Ue(),a.pendingContext&&(a.pendingContext=(a.context=a.pendingContext,null)),(t===null||t.child===null)&&(Hs(r)?Ci(r):t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,wv())),Bt(r),null;case 26:return a=r.memoizedState,t===null?(Ci(r),a===null?(Bt(r),r.flags&=-16777217):(Bt(r),z1(r,a))):a?a===t.memoizedState?(Bt(r),r.flags&=-16777217):(Ci(r),Bt(r),z1(r,a)):(t.memoizedProps!==l&&Ci(r),Bt(r),r.flags&=-16777217),null;case 27:gt(r),a=It.current;var p=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ci(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}t=Me.current,Hs(r)?vv(r,t):(t=Fb(p,l,a),r.stateNode=t,Ci(r))}return Bt(r),null;case 5:if(gt(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ci(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}if(t=Me.current,Hs(r))vv(r,t);else{switch(p=eu(It.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?p.createElement(a,{is:l.is}):p.createElement(a)}}t[bt]=r,t[jt]=l;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=t;e:switch(Tn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ci(r)}}return Bt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ci(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=It.current,Hs(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,p=qn,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mb(t.nodeValue,a)),t||Qa(r)}else t=eu(t).createTextNode(l),t[bt]=r,r.stateNode=t}return Bt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Hs(r),l!==null&&l.dehydrated!==null){if(t===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p===null?null:p.dehydrated,!p)throw Error(s(317));p[bt]=r}else $s(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Bt(r),p=!1}else p=wv(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(xi(r),r):(xi(r),null)}if(xi(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool);var y=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==p&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Bc(r,r.updateQueue),Bt(r),null;case 4:return Ue(),t===null&&Ob(r.stateNode.containerInfo),Bt(r),null;case 10:return bi(r.type),Bt(r),null;case 19:if(We(dn),p=r.memoizedState,p===null)return Bt(r),null;if(l=(r.flags&128)!=0,y=p.rendering,y===null)if(l)ol(p,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(y=Ic(t),y!==null){for(r.flags|=128,ol(p,!1),t=y.updateQueue,r.updateQueue=t,Bc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)gv(a,t),a=a.sibling;return Oe(dn,dn.current&1|2),r.child}t=t.sibling}p.tail!==null&&vn()>$c&&(r.flags|=128,l=!0,ol(p,!1),r.lanes=4194304)}else{if(!l)if(t=Ic(y),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Bc(r,t),ol(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!mt)return Bt(r),null}else 2*vn()-p.renderingStartTime>$c&&a!==536870912&&(r.flags|=128,l=!0,ol(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(t=p.last,t===null?r.child=y:t.sibling=y,p.last=y)}return p.tail===null?(Bt(r),null):(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=vn(),r.sibling=null,t=dn.current,Oe(dn,l?t&1|2:t&1),r);case 22:case 23:return xi(r),qf(),l=r.memoizedState!==null,t===null?l&&(r.flags|=8192):t.memoizedState!==null!==l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(Bt(r),r.subtreeFlags&6&&(r.flags|=8192)):Bt(r),a=r.updateQueue,a!==null&&Bc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&We(Xa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),bi(un),Bt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function I3(t,r){switch(Cf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return bi(un),Ue(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return gt(r),null;case 13:if(xi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));$s()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(dn),null;case 4:return Ue(),null;case 10:return bi(r.type),null;case 22:case 23:return xi(r),qf(),t!==null&&We(Xa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return bi(un),null;case 25:return null;default:return null}}function F1(t,r){switch(Cf(r),r.tag){case 3:bi(un),Ue();break;case 26:case 27:case 5:gt(r);break;case 4:Ue();break;case 13:xi(r);break;case 19:We(dn);break;case 10:bi(r.type);break;case 22:case 23:xi(r),qf(),t!==null&&We(Xa);break;case 24:bi(un)}}function sl(t,r){try{var a=r.updateQueue,l=a===null?null:a.lastEffect;if(l!==null){var p=l.next;a=p;do{if((a.tag&t)===t){l=void 0;var y=a.create,S=a.inst;l=y(),S.destroy=l}a=a.next}while(a!==p)}}catch(O){Lt(r,r.return,O)}}function ea(t,r,a){try{var l=r.updateQueue,p=l===null?null:l.lastEffect;if(p!==null){var y=p.next;l=y;do{if((l.tag&t)===t){var S=l.inst,O=S.destroy;if(O!==void 0){S.destroy=void 0,p=r;var F=a,re=O;try{re()}catch(me){Lt(p,F,me)}}}l=l.next}while(l!==y)}}catch(me){Lt(r,r.return,me)}}function B1(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Pv(r,a)}catch(l){Lt(t,t.return,l)}}}function V1(t,r,a){a.props=to(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Lt(t,r,l)}}function ll(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(p){Lt(t,r,p)}}function ei(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(p){Lt(t,r,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Lt(t,r,p)}else a.current=null}function H1(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(p){Lt(t,t.return,p)}}function fp(t,r,a){try{var l=t.stateNode;tT(l,t.type,a,r),l[jt]=r}catch(p){Lt(t,t.return,p)}}function $1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&la(t.type)||t.tag===4}function pp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&la(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Zc));else if(l!==4&&(l===27&&la(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(mp(t,r,a),t=t.sibling;t!==null;)mp(t,r,a),t=t.sibling}function Vc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&la(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Vc(t,r,a),t=t.sibling;t!==null;)Vc(t,r,a),t=t.sibling}function W1(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Tn(r,l,a),r[bt]=t,r[jt]=a}catch(y){Lt(t,t.return,y)}}var Si=!1,Zt=!1,hp=!1,U1=typeof WeakSet=="function"?WeakSet:Set,_n=null;function j3(t,r){if(t=t.containerInfo,qp=ou,t=ov(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var p=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var S=0,O=-1,F=-1,re=0,me=0,ve=t,oe=null;t:for(;;){for(var le;ve!==a||p!==0&&ve.nodeType!==3||(O=S+p),ve!==y||l!==0&&ve.nodeType!==3||(F=S+l),ve.nodeType===3&&(S+=ve.nodeValue.length),(le=ve.firstChild)!==null;)oe=ve,ve=le;for(;;){if(ve===t)break t;if(oe===a&&++re===p&&(O=S),oe===y&&++me===l&&(F=S),(le=ve.nextSibling)!==null)break;ve=oe,oe=ve.parentNode}ve=le}a=O===-1||F===-1?null:{start:O,end:F}}else a=null}a||(a={start:0,end:0})}else a=null;for(zp={focusedElem:t,selectionRange:a},ou=!1,_n=r;_n!==null;)if(r=_n,t=r.child,r.subtreeFlags&1024&&t!==null)t.return=r,_n=t;else for(;_n!==null;){switch(r=_n,y=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&y!==null){t=void 0,a=r,p=y.memoizedProps,y=y.memoizedState,l=a.stateNode;try{var qe=to(a.type,p,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(qe,y),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){Lt(a,a.return,Ne)}}break;case 3:if(t&1024){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Vp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,_n=t;break}_n=r.return}}function K1(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ta(t,a),l&4&&sl(5,a);break;case 1:if(ta(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(S){Lt(a,a.return,S)}else{var p=to(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(p,r,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Lt(a,a.return,S)}}l&64&&B1(a),l&512&&ll(a,a.return);break;case 3:if(ta(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Pv(t,r)}catch(S){Lt(a,a.return,S)}}break;case 27:r===null&&l&4&&W1(a);case 26:case 5:ta(t,a),r===null&&l&4&&H1(a),l&512&&ll(a,a.return);break;case 12:ta(t,a);break;case 13:ta(t,a),l&4&&J1(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=U3.bind(null,a),lT(t,a))));break;case 22:if(l=a.memoizedState!==null||Si,!l){r=r!==null&&r.memoizedState!==null||Zt,p=Si;var y=Zt;Si=l,(Zt=r)&&!y?na(t,a,(a.subtreeFlags&8772)!=0):ta(t,a),Si=p,Zt=y}break;case 30:break;default:ta(t,a)}}function Q1(t){var r=t.alternate;r!==null&&(t.alternate=null,Q1(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&pt(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var zt=null,Wn=!1;function Ei(t,r,a){for(a=a.child;a!==null;)G1(t,r,a),a=a.sibling}function G1(t,r,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Vt,a)}catch{}switch(a.tag){case 26:Zt||ei(a,r),Ei(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||ei(a,r);var l=zt,p=Wn;la(a.type)&&(zt=a.stateNode,Wn=!1),Ei(t,r,a),yl(a.stateNode),zt=l,Wn=p;break;case 5:Zt||ei(a,r);case 6:if(l=zt,p=Wn,zt=null,Ei(t,r,a),zt=l,Wn=p,zt!==null)if(Wn)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(a.stateNode)}catch(y){Lt(a,r,y)}else try{zt.removeChild(a.stateNode)}catch(y){Lt(a,r,y)}break;case 18:zt!==null&&(Wn?(t=zt,qb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Sl(t)):qb(zt,a.stateNode));break;case 4:l=zt,p=Wn,zt=a.stateNode.containerInfo,Wn=!0,Ei(t,r,a),zt=l,Wn=p;break;case 0:case 11:case 14:case 15:Zt||ea(2,a,r),Zt||ea(4,a,r),Ei(t,r,a);break;case 1:Zt||(ei(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&V1(a,r,l)),Ei(t,r,a);break;case 21:Ei(t,r,a);break;case 22:Zt=(l=Zt)||a.memoizedState!==null,Ei(t,r,a),Zt=l;break;default:Ei(t,r,a)}}function J1(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sl(t)}catch(a){Lt(r,r.return,a)}}function q3(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new U1),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new U1),r;default:throw Error(s(435,t.tag))}}function gp(t,r){var a=q3(t);r.forEach(function(l){var p=K3.bind(null,t,l);a.has(l)||(a.add(l),l.then(p,p))})}function ar(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var p=a[l],y=t,S=r,O=S;e:for(;O!==null;){switch(O.tag){case 27:if(la(O.type)){zt=O.stateNode,Wn=!1;break e}break;case 5:zt=O.stateNode,Wn=!1;break e;case 3:case 4:zt=O.stateNode.containerInfo,Wn=!0;break e}O=O.return}if(zt===null)throw Error(s(160));G1(y,S,p),zt=null,Wn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)X1(r,t),r=r.sibling}var zr=null;function X1(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ar(r,t),or(t),l&4&&(ea(3,t,t.return),sl(3,t),ea(5,t,t.return));break;case 1:ar(r,t),or(t),l&512&&(Zt||a===null||ei(a,a.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var p=zr;if(ar(r,t),or(t),l&512&&(Zt||a===null||ei(a,a.return)),l&4){var y=a===null?null:a.memoizedState;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Se]||y[bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(l),p.head.insertBefore(y,p.querySelector("head > title"))),Tn(y,l,a),y[bt]=t,Ve(y),l=y;break e;case"link":var S=Ub("link","href",p).get(l+(a.href||""));if(S){for(var O=0;O<S.length;O++)if(y=S[O],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(O,1);break t}}y=p.createElement(l),Tn(y,l,a),p.head.appendChild(y);break;case"meta":if(S=Ub("meta","content",p).get(l+(a.content||""))){for(O=0;O<S.length;O++)if(y=S[O],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(O,1);break t}}y=p.createElement(l),Tn(y,l,a),p.head.appendChild(y);break;default:throw Error(s(468,l))}y[bt]=t,Ve(y),l=y}t.stateNode=l}else Kb(p,t.type,t.stateNode);else t.stateNode=Wb(p,l,t.memoizedProps);else y===l?l===null&&t.stateNode!==null&&fp(t,t.memoizedProps,a.memoizedProps):(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,l===null?Kb(p,t.type,t.stateNode):Wb(p,l,t.memoizedProps))}break;case 27:ar(r,t),or(t),l&512&&(Zt||a===null||ei(a,a.return)),a!==null&&l&4&&fp(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ar(r,t),or(t),l&512&&(Zt||a===null||ei(a,a.return)),t.flags&32){p=t.stateNode;try{Jr(p,"")}catch(le){Lt(t,t.return,le)}}l&4&&t.stateNode!=null&&(p=t.memoizedProps,fp(t,p,a===null?p:a.memoizedProps)),l&1024&&(hp=!0);break;case 6:if(ar(r,t),or(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(le){Lt(t,t.return,le)}}break;case 3:if(ru=null,p=zr,zr=tu(r.containerInfo),ar(r,t),zr=p,or(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(r.containerInfo)}catch(le){Lt(t,t.return,le)}hp&&(hp=!1,Y1(t));break;case 4:l=zr,zr=tu(t.stateNode.containerInfo),ar(r,t),or(t),zr=l;break;case 12:ar(r,t),or(t);break;case 13:ar(r,t),or(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xp=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gp(t,l)));break;case 22:p=t.memoizedState!==null;var F=a!==null&&a.memoizedState!==null,re=Si,me=Zt;if(Si=re||p,Zt=me||F,ar(r,t),Zt=me,Si=re,or(t),l&8192)e:for(r=t.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(a===null||F||Si||Zt||no(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){F=a=r;try{if(y=F.stateNode,p)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{O=F.stateNode;var ve=F.memoizedProps.style,oe=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;O.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(le){Lt(F,F.return,le)}}}else if(r.tag===6){if(a===null){F=r;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(le){Lt(F,F.return,le)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gp(t,a))));break;case 19:ar(r,t),or(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gp(t,l)));break;case 30:break;case 21:break;default:ar(r,t),or(t)}}function or(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if($1(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var p=a.stateNode;Vc(t,pp(t),p);break;case 5:var y=a.stateNode;a.flags&32&&(Jr(y,""),a.flags&=-33),Vc(t,pp(t),y);break;case 3:case 4:var S=a.stateNode.containerInfo;mp(t,pp(t),S);break;default:throw Error(s(161))}}catch(O){Lt(t,t.return,O)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Y1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Y1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ta(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)K1(t,r.alternate,r),r=r.sibling}function no(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ea(4,r,r.return),no(r);break;case 1:ei(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&V1(r,r.return,a),no(r);break;case 27:yl(r.stateNode);case 26:case 5:ei(r,r.return),no(r);break;case 22:r.memoizedState===null&&no(r);break;case 30:no(r);break;default:no(r)}t=t.sibling}}function na(t,r,a){for(a&&(a=(r.subtreeFlags&8772)!=0),r=r.child;r!==null;){var l=r.alternate,p=t,y=r,S=y.flags;switch(y.tag){case 0:case 11:case 15:na(p,y,a),sl(4,y);break;case 1:if(na(p,y,a),l=y,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(re){Lt(l,l.return,re)}if(l=y,p=l.updateQueue,p!==null){var O=l.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Dv(F[p],O)}catch(re){Lt(l,l.return,re)}}a&&S&64&&B1(y),ll(y,y.return);break;case 27:W1(y);case 26:case 5:na(p,y,a),a&&l===null&&S&4&&H1(y),ll(y,y.return);break;case 12:na(p,y,a);break;case 13:na(p,y,a),a&&S&4&&J1(p,y);break;case 22:y.memoizedState===null&&na(p,y,a),ll(y,y.return);break;case 30:break;default:na(p,y,a)}r=r.sibling}}function yp(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ks(a))}function vp(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ks(t))}function ti(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z1(t,r,a,l),r=r.sibling}function Z1(t,r,a,l){var p=r.flags;switch(r.tag){case 0:case 11:case 15:ti(t,r,a,l),p&2048&&sl(9,r);break;case 1:ti(t,r,a,l);break;case 3:ti(t,r,a,l),p&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ks(t)));break;case 12:if(p&2048){ti(t,r,a,l),t=r.stateNode;try{var y=r.memoizedProps,S=y.id,O=y.onPostCommit;typeof O=="function"&&O(S,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){Lt(r,r.return,F)}}else ti(t,r,a,l);break;case 13:ti(t,r,a,l);break;case 23:break;case 22:y=r.stateNode,S=r.alternate,r.memoizedState===null?y._visibility&2?ti(t,r,a,l):(y._visibility|=2,Xo(t,r,a,l,(r.subtreeFlags&10256)!=0)):y._visibility&2?ti(t,r,a,l):cl(t,r),p&2048&&yp(S,r);break;case 24:ti(t,r,a,l),p&2048&&vp(r.alternate,r);break;default:ti(t,r,a,l)}}function Xo(t,r,a,l,p){for(p&&(p=(r.subtreeFlags&10256)!=0),r=r.child;r!==null;){var y=t,S=r,O=a,F=l,re=S.flags;switch(S.tag){case 0:case 11:case 15:Xo(y,S,O,F,p),sl(8,S);break;case 23:break;case 22:var me=S.stateNode;S.memoizedState===null?(me._visibility|=2,Xo(y,S,O,F,p)):me._visibility&2?Xo(y,S,O,F,p):cl(y,S),p&&re&2048&&yp(S.alternate,S);break;case 24:Xo(y,S,O,F,p),p&&re&2048&&vp(S.alternate,S);break;default:Xo(y,S,O,F,p)}r=r.sibling}}function cl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,p=l.flags;switch(l.tag){case 22:cl(a,l),p&2048&&yp(l.alternate,l);break;case 24:cl(a,l),p&2048&&vp(l.alternate,l);break;default:cl(a,l)}r=r.sibling}}var ul=8192;function Yo(t){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)eb(t),t=t.sibling}function eb(t){switch(t.tag){case 26:Yo(t),t.flags&ul&&t.memoizedState!==null&&_T(zr,t.memoizedState,t.memoizedProps);break;case 5:Yo(t);break;case 3:case 4:var r=zr;zr=tu(t.stateNode.containerInfo),Yo(t),zr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ul,ul=16777216,Yo(t),ul=r):Yo(t));break;default:Yo(t)}}function tb(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function dl(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];_n=l,rb(l,t)}tb(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nb(t),t=t.sibling}function nb(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&ea(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Hc(t)):dl(t);break;default:dl(t)}}function Hc(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];_n=l,rb(l,t)}tb(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ea(8,r,r.return),Hc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(r));break;default:Hc(r)}t=t.sibling}}function rb(t,r){for(;_n!==null;){var a=_n;switch(a.tag){case 0:case 11:case 15:ea(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ks(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,_n=l;else e:for(a=t;_n!==null;){l=_n;var p=l.sibling,y=l.return;if(Q1(l),l===a){_n=null;break e}if(p!==null){p.return=y,_n=p;break e}_n=y}}}var z3={getCacheForType:function(t){var r=Ln(un),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},F3=typeof WeakMap=="function"?WeakMap:Map,_t=0,Nt=null,nt=null,ot=0,xt=0,sr=null,ra=!1,Zo=!1,bp=!1,Ti=0,Ut=0,ia=0,ro=0,wp=0,_r=0,es=0,fl=null,Un=null,_p=!1,xp=0,$c=1/0,Wc=null,aa=null,En=0,oa=null,ts=null,ns=0,kp=0,Cp=null,ib=null,pl=0,Sp=null;function xr(){if(_t&2&&ot!==0)return ot&-ot;if(G.T!==null){var t=Ho;return t===0?Lp():t}return pi()}function ab(){_r===0&&(_r=!(ot&536870912)||mt?Dn():536870912);var t=wr.current;return t!==null&&(t.flags|=32),_r}function lr(t,r,a){(t===Nt&&(xt===2||xt===9)||t.cancelPendingCommit!==null)&&(rs(t,0),sa(t,ot,_r,!1)),Zn(t,a),(!(_t&2)||t!==Nt)&&(t===Nt&&(!(_t&2)&&(ro|=a),Ut===4&&sa(t,ot,_r,!1)),Ri(t))}function ob(t,r,a){if(_t&6)throw Error(s(327));var l=!a&&(r&124)==0&&(r&t.expiredLanes)===0||lt(t,r),p=l?H3(t,r):Rp(t,r,!0),y=l;do{if(p===0){Zo&&!l&&sa(t,r,0,!1);break}else{if(a=t.current.alternate,y&&!B3(a)){p=Rp(t,r,!1),y=!1;continue}if(p===2){if(y=r,t.errorRecoveryDisabledLanes&y)var S=0;else S=t.pendingLanes&-536870913,S=S===0?S&536870912?536870912:0:S;if(S!==0){r=S;e:{var O=t;p=fl;var F=O.current.memoizedState.isDehydrated;if(F&&(rs(O,S).flags|=256),S=Rp(O,S,!1),S!==2){if(bp&&!F){O.errorRecoveryDisabledLanes|=y,ro|=y,p=4;break e}y=Un,Un=p,y!==null&&(Un===null?Un=y:Un.push.apply(Un,y))}p=S}if(y=!1,p!==2)continue}}if(p===1){rs(t,0),sa(t,r,0,!0);break}e:{switch(l=t,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:sa(l,r,_r,!ra);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=xp+300-vn(),10<p)){if(sa(l,r,_r,!ra),Ht(l,0,!0)!==0)break e;l.timeoutHandle=Ib(sb.bind(null,l,a,Un,Wc,_p,r,_r,ro,es,ra,y,2,-0,0),p);break e}sb(l,a,Un,Wc,_p,r,_r,ro,es,ra,y,0,-0,0)}}break}while(!0);Ri(t)}function sb(t,r,a,l,p,y,S,O,F,re,me,ve,oe,le){if(t.timeoutHandle=-1,ve=r.subtreeFlags,(ve&8192||(ve&16785408)==16785408)&&(wl={stylesheets:null,count:0,unsuspend:wT},eb(r),ve=xT(),ve!==null)){t.cancelPendingCommit=ve(mb.bind(null,t,r,y,a,l,p,S,O,F,me,1,oe,le)),sa(t,y,S,!re);return}mb(t,r,y,a,l,p,S,O,F)}function B3(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var p=a[l],y=p.getSnapshot;p=p.value;try{if(!rr(y(),p))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function sa(t,r,a,l){r&=~wp,r&=~ro,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var p=r;0<p;){var y=31-Ft(p),S=1<<y;l[y]=-1,p&=~S}a!==0&&fi(t,a,r)}function Uc(){return _t&6?!0:(ml(0,!1),!1)}function Ep(){if(nt!==null){if(xt===0)var t=nt.return;else t=nt,vi=Ga=null,Hf(t),Go=null,il=0,t=nt;for(;t!==null;)F1(t.alternate,t),t=t.return;nt=null}}function rs(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ep(),Nt=t,nt=a=hi(t.current,null),ot=r,xt=0,sr=null,ra=!1,Zo=lt(t,r),bp=!1,es=_r=wp=ro=ia=Ut=0,Un=fl=null,_p=!1,r&8&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var p=31-Ft(l),y=1<<p;r|=t[p],l&=~y}return Ti=r,mc(),a}function lb(t,r){Ye=null,G.H=Mc,r===Gs||r===kc?(r=Rv(),xt=3):r===Sv?(r=Rv(),xt=4):xt=r===E1?8:typeof r=="object"&&r&&typeof r.then=="function"?6:1,sr=r,nt===null&&(Ut=1,qc(t,gr(r,t.current)))}function cb(){var t=G.H;return G.H=Mc,t===null?Mc:t}function ub(){var t=G.A;return G.A=z3,t}function Tp(){Ut=4,ra||(ot&4194048)!==ot&&wr.current!==null||(Zo=!0),!(ia&134217727)&&!(ro&134217727)||Nt===null||sa(Nt,ot,_r,!1)}function Rp(t,r,a){var l=_t;_t|=2;var p=cb(),y=ub();(Nt!==t||ot!==r)&&(Wc=null,rs(t,r)),r=!1;var S=Ut;e:do try{if(xt!==0&&nt!==null){var O=nt,F=sr;switch(xt){case 8:Ep(),S=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(r=!0);var re=xt;if(xt=0,sr=null,is(t,O,F,re),a&&Zo){S=0;break e}break;default:re=xt,xt=0,sr=null,is(t,O,F,re)}}V3(),S=Ut;break}catch(me){lb(t,me)}while(!0);return r&&t.shellSuspendCounter++,vi=Ga=null,_t=l,G.H=p,G.A=y,nt===null&&(Nt=null,ot=0,mc()),S}function V3(){for(;nt!==null;)db(nt)}function H3(t,r){var a=_t;_t|=2;var l=cb(),p=ub();Nt!==t||ot!==r?(Wc=null,$c=vn()+500,rs(t,r)):Zo=lt(t,r);e:do try{if(xt!==0&&nt!==null){r=nt;var y=sr;t:switch(xt){case 1:xt=0,sr=null,is(t,r,y,1);break;case 2:case 9:if(Ev(y)){xt=0,sr=null,fb(r);break}r=function(){xt!==2&&xt!==9||Nt!==t||(xt=7),Ri(t)},y.then(r,r);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Ev(y)?(xt=0,sr=null,fb(r)):(xt=0,sr=null,is(t,r,y,7));break;case 5:var S=null;switch(nt.tag){case 26:S=nt.memoizedState;case 5:case 27:var O=nt;if(!S||Qb(S)){xt=0,sr=null;var F=O.sibling;if(F!==null)nt=F;else{var re=O.return;re===null?nt=null:(nt=re,Kc(re))}break t}}xt=0,sr=null,is(t,r,y,5);break;case 6:xt=0,sr=null,is(t,r,y,6);break;case 8:Ep(),Ut=6;break e;default:throw Error(s(462))}}$3();break}catch(me){lb(t,me)}while(!0);return vi=Ga=null,G.H=l,G.A=p,_t=a,nt===null?(Nt=null,ot=0,mc(),Ut):0}function $3(){for(;nt!==null&&!ci();)db(nt)}function db(t){var r=q1(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,r===null?Kc(t):nt=r}function fb(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=L1(a,r,r.pendingProps,r.type,void 0,ot);break;case 11:r=L1(a,r,r.pendingProps,r.type.render,r.ref,ot);break;case 5:Hf(r);default:F1(a,r),r=nt=gv(r,Ti),r=q1(a,r,Ti)}t.memoizedProps=t.pendingProps,r===null?Kc(t):nt=r}function is(t,r,a,l){vi=Ga=null,Hf(r),Go=null,il=0;var p=r.return;try{if(M3(t,p,r,a,ot)){Ut=1,qc(t,gr(a,t.current)),nt=null;return}}catch(y){if(p!==null)throw nt=p,y;Ut=1,qc(t,gr(a,t.current)),nt=null;return}r.flags&32768?(mt||l===1?t=!0:Zo||ot&536870912?t=!1:(ra=t=!0,(l===2||l===9||l===3||l===6)&&(l=wr.current,l!==null&&l.tag===13&&(l.flags|=16384))),pb(r,t)):Kc(r)}function Kc(t){var r=t;do{if(r.flags&32768){pb(r,ra);return}t=r.return;var a=A3(r.alternate,r,Ti);if(a!==null){nt=a;return}if(r=r.sibling,r!==null){nt=r;return}nt=r=t}while(r!==null);Ut===0&&(Ut=5)}function pb(t,r){do{var a=I3(t.alternate,t);if(a!==null){a.flags&=32767,nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){nt=t;return}nt=t=a}while(t!==null);Ut=6,nt=null}function mb(t,r,a,l,p,y,S,O,F){t.cancelPendingCommit=null;do Qc();while(En!==0);if(_t&6)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=vf,Qr(t,a,y,S,O,F),t===Nt&&(nt=Nt=null,ot=0),ts=r,oa=t,ns=a,kp=y,Cp=p,ib=l,r.subtreeFlags&10256||r.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Q3(rn,function(){return bb(!0),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!=0,r.subtreeFlags&13878||l){l=G.T,G.T=null,p=K.p,K.p=2,S=_t,_t|=4;try{j3(t,r,a)}finally{_t=S,K.p=p,G.T=l}}En=1,hb(),gb(),yb()}}function hb(){if(En===1){En=0;var t=oa,r=ts,a=(r.flags&13878)!=0;if(r.subtreeFlags&13878||a){a=G.T,G.T=null;var l=K.p;K.p=2;var p=_t;_t|=4;try{X1(r,t);var y=zp,S=ov(t.containerInfo),O=y.focusedElem,F=y.selectionRange;if(S!==O&&O&&O.ownerDocument&&av(O.ownerDocument.documentElement,O)){if(F!==null&&pf(O)){var re=F.start,me=F.end;if(me===void 0&&(me=re),"selectionStart"in O)O.selectionStart=re,O.selectionEnd=Math.min(me,O.value.length);else{var ve=O.ownerDocument||document,oe=ve&&ve.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),qe=O.textContent.length,Ne=Math.min(F.start,qe),Rt=F.end===void 0?Ne:Math.min(F.end,qe);!le.extend&&Ne>Rt&&(S=Rt,Rt=Ne,Ne=S);var J=iv(O,Ne),U=iv(O,Rt);if(J&&U&&(le.rangeCount!==1||le.anchorNode!==J.node||le.anchorOffset!==J.offset||le.focusNode!==U.node||le.focusOffset!==U.offset)){var te=ve.createRange();te.setStart(J.node,J.offset),le.removeAllRanges(),Ne>Rt?(le.addRange(te),le.extend(U.node,U.offset)):(te.setEnd(U.node,U.offset),le.addRange(te))}}}}for(ve=[],le=O;le=le.parentNode;)le.nodeType===1&&ve.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ve.length;O++){var he=ve[O];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}ou=!!qp,zp=qp=null}finally{_t=p,K.p=l,G.T=a}}t.current=r,En=2}}function gb(){if(En===2){En=0;var t=oa,r=ts,a=(r.flags&8772)!=0;if(r.subtreeFlags&8772||a){a=G.T,G.T=null;var l=K.p;K.p=2;var p=_t;_t|=4;try{K1(t,r.alternate,r)}finally{_t=p,K.p=l,G.T=a}}En=3}}function yb(){if(En===4||En===3){En=0,yn();var t=oa,r=ts,a=ns,l=ib;r.subtreeFlags&10256||r.flags&10256?En=5:(En=0,ts=oa=null,vb(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(aa=null),Gr(a),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Vt,r,void 0,(r.current.flags&128)==128)}catch{}if(l!==null){r=G.T,p=K.p,K.p=2,G.T=null;try{for(var y=t.onRecoverableError,S=0;S<l.length;S++){var O=l[S];y(O.value,{componentStack:O.stack})}}finally{G.T=r,K.p=p}}ns&3&&Qc(),Ri(t),p=t.pendingLanes,a&4194090&&p&42?t===Sp?pl++:(pl=0,Sp=t):pl=0,ml(0,!1)}}function vb(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Ks(r)))}function Qc(t){return hb(),gb(),yb(),bb(t)}function bb(){if(En!==5)return!1;var t=oa,r=kp;kp=0;var a=Gr(ns),l=G.T,p=K.p;try{K.p=32>a?32:a,G.T=null,a=Cp,Cp=null;var y=oa,S=ns;if(En=0,ts=oa=null,ns=0,_t&6)throw Error(s(331));var O=_t;if(_t|=4,nb(y.current),Z1(y,y.current,S,a),_t=O,ml(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Vt,y)}catch{}return!0}finally{K.p=p,G.T=l,vb(t,r)}}function wb(t,r,a){r=gr(a,r),r=rp(t.stateNode,r,2),t=Za(t,r,2),t!==null&&(Zn(t,2),Ri(t))}function Lt(t,r,a){if(t.tag===3)wb(t,t,a);else for(;r!==null;){if(r.tag===3){wb(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(aa===null||!aa.has(l))){t=gr(a,t),a=C1(2),l=Za(r,a,2),l!==null&&(S1(a,l,r,t),Zn(l,2),Ri(l));break}}r=r.return}}function Op(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new F3;var p=new Set;l.set(r,p)}else p=l.get(r),p===void 0&&(p=new Set,l.set(r,p));p.has(a)||(bp=!0,p.add(a),t=W3.bind(null,t,r,a),r.then(t,t))}function W3(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Nt===t&&(ot&a)===a&&(Ut===4||Ut===3&&(ot&62914560)===ot&&300>vn()-xp?!(_t&2)&&rs(t,0):wp|=a,es===ot&&(es=0)),Ri(t)}function _b(t,r){r===0&&(r=Kr()),t=zo(t,r),t!==null&&(Zn(t,r),Ri(t))}function U3(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),_b(t,a)}function K3(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,p=t.memoizedState;p!==null&&(a=p.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),_b(t,a)}function Q3(t,r){return Yn(t,r)}var Gc=null,as=null,Dp=!1,Jc=!1,Pp=!1,io=0;function Ri(t){t!==as&&t.next===null&&(as===null?Gc=as=t:as=as.next=t),Jc=!0,Dp||(Dp=!0,J3())}function ml(t,r){if(!Pp&&Jc){Pp=!0;do for(var a=!1,l=Gc;l!==null;){if(!r)if(t!==0){var p=l.pendingLanes;if(p===0)var y=0;else{var S=l.suspendedLanes,O=l.pingedLanes;y=(1<<31-Ft(42|t)+1)-1,y&=p&~(S&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Sb(l,y))}else y=ot,y=Ht(l,l===Nt?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(y&3)||lt(l,y)||(a=!0,Sb(l,y));l=l.next}while(a);Pp=!1}}function G3(){xb()}function xb(){Jc=Dp=!1;var t=0;io!==0&&(nT()&&(t=io),io=0);for(var r=vn(),a=null,l=Gc;l!==null;){var p=l.next,y=kb(l,r);y===0?(l.next=null,a===null?Gc=p:a.next=p,p===null&&(as=a)):(a=l,(t!==0||y&3)&&(Jc=!0)),l=p}ml(t,!1)}function kb(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,p=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var S=31-Ft(y),O=1<<S,F=p[S];F===-1?((O&a)===0||(O&l)!==0)&&(p[S]=vt(O,r)):F<=r&&(t.expiredLanes|=O),y&=~O}if(r=Nt,a=ot,a=Ht(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(xt===2||xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&kt(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||lt(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&kt(l),Gr(a)){case 2:case 8:a=In;break;case 32:a=rn;break;case 268435456:a=Ur;break;default:a=rn}return l=Cb.bind(null,t),a=Yn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&kt(l),t.callbackPriority=2,t.callbackNode=null,2}function Cb(t,r){if(En!==0&&En!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qc(!0)&&t.callbackNode!==a)return null;var l=ot;return l=Ht(t,t===Nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ob(t,l,r),kb(t,vn()),t.callbackNode!=null&&t.callbackNode===a?Cb.bind(null,t):null)}function Sb(t,r){if(Qc())return null;ob(t,r,!0)}function J3(){iT(function(){_t&6?Yn(Mr,G3):xb()})}function Lp(){return io===0&&(io=Dn()),io}function Eb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ma(""+t)}function Tb(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function X3(t,r,a,l,p){if(r==="submit"&&a&&a.stateNode===p){var y=Eb((p[jt]||null).action),S=l.submitter;S&&(r=(r=S[jt]||null)?Eb(r.formAction):S.getAttribute("formAction"),r!==null&&(y=r,S=null));var O=new Ki("action","action",null,l,p);t.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(io!==0){var F=S?Tb(p,S):new FormData(p);Yf(a,{pending:!0,data:F,method:p.method,action:y},null,F)}}else typeof y=="function"&&(O.preventDefault(),F=S?Tb(p,S):new FormData(p),Yf(a,{pending:!0,data:F,method:p.method,action:y},y,F))},currentTarget:p}]})}}for(var Mp=0;Mp<yf.length;Mp++){var Np=yf[Mp];qr(Np.toLowerCase(),"on"+(Np[0].toUpperCase()+Np.slice(1)))}qr(cv,"onAnimationEnd"),qr(uv,"onAnimationIteration"),qr(dv,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(p3,"onTransitionRun"),qr(m3,"onTransitionStart"),qr(h3,"onTransitionCancel"),qr(fv,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Rb(t,r){r=(r&4)!=0;for(var a=0;a<t.length;a++){var l=t[a],p=l.event;l=l.listeners;e:{var y=void 0;if(r)for(var S=l.length-1;0<=S;S--){var O=l[S],F=O.instance,re=O.currentTarget;if(O=O.listener,F!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=re;try{y(p)}catch(me){jc(me)}p.currentTarget=null,y=F}else for(S=0;S<l.length;S++){if(O=l[S],F=O.instance,re=O.currentTarget,O=O.listener,F!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=re;try{y(p)}catch(me){jc(me)}p.currentTarget=null,y=F}}}}function rt(t,r){var a=r[Je];a===void 0&&(a=r[Je]=new Set);var l=t+"__bubble";a.has(l)||(Db(r,t,2,!1),a.add(l))}function Ap(t,r,a){var l=0;r&&(l|=4),Db(a,t,l,r)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Ob(t){if(!t[Xc]){t[Xc]=!0,at.forEach(function(a){a!=="selectionchange"&&(Y3.has(a)||Ap(a,!1,t),Ap(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Xc]||(r[Xc]=!0,Ap("selectionchange",!1,r))}}function Db(t,r,a,l){switch(Yb(r)){case 2:var p=TT;break;case 8:p=RT;break;default:p=Gp}a=p.bind(null,r,a,t),p=void 0,!Ns||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),l?p===void 0?t.addEventListener(r,a,!0):t.addEventListener(r,a,{capture:!0,passive:p}):p===void 0?t.addEventListener(r,a,!1):t.addEventListener(r,a,{passive:p})}function Ip(t,r,a,l,p){var y=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var O=l.stateNode.containerInfo;if(O===p)break;if(S===4)for(S=l.return;S!==null;){var F=S.tag;if((F===3||F===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;O!==null;){if(S=tt(O),S===null)return;if(F=S.tag,F===5||F===6||F===26||F===27){l=y=S;continue e}O=O.parentNode}}l=l.return}dc(function(){var re=y,me=Ao(a),ve=[];e:{var oe=pv.get(t);if(oe!==void 0){var le=Ki,qe=t;switch(t){case"keypress":if(qa(a)===0)break e;case"keydown":case"keyup":le=xe;break;case"focusin":qe="focus",le=D;break;case"focusout":qe="blur",le=D;break;case"beforeblur":case"afterblur":le=D;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=k;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=R;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Te;break;case cv:case uv:case dv:le=M;break;case fv:le=Ie;break;case"scroll":case"scrollend":le=u;break;case"wheel":le=ct;break;case"copy":case"cut":case"paste":le=z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=je;break;case"toggle":case"beforetoggle":le=Xe}var Ne=(r&4)!=0,Rt=!Ne&&(t==="scroll"||t==="scrollend"),J=Ne?oe===null?null:oe+"Capture":oe;Ne=[];for(var U=re,te;U!==null;){var he=U;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||J===null||(he=Aa(U,J),he!=null&&Ne.push(gl(U,he,te))),Rt)break;U=U.return}0<Ne.length&&(oe=new le(oe,qe,null,a,me),ve.push({event:oe,listeners:Ne}))}}if(!(r&7)){e:{if(oe=t==="mouseover"||t==="pointerover",le=t==="mouseout"||t==="pointerout",oe&&a!==Ms&&(qe=a.relatedTarget||a.fromElement)&&(tt(qe)||qe[L]))break e;if((le||oe)&&(oe=me.window===me?me:(oe=me.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(qe=a.relatedTarget||a.toElement,le=re,qe=qe?tt(qe):null,qe!==null&&(Rt=d(qe),Ne=qe.tag,qe!==Rt||Ne!==5&&Ne!==27&&Ne!==6)&&(qe=null)):(le=null,qe=re),le!==qe)){if(Ne=k,he="onMouseLeave",J="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=je,he="onPointerLeave",J="onPointerEnter",U="pointer"),Rt=le==null?oe:wt(le),te=qe==null?oe:wt(qe),oe=new Ne(he,U+"leave",le,a,me),oe.target=Rt,oe.relatedTarget=te,he=null,tt(me)===re&&(Ne=new Ne(J,U+"enter",qe,a,me),Ne.target=te,Ne.relatedTarget=Rt,he=Ne),Rt=he,le&&qe)t:{for(Ne=le,J=qe,U=0,te=Ne;te;te=os(te))U++;for(te=0,he=J;he;he=os(he))te++;for(;0<U-te;)Ne=os(Ne),U--;for(;0<te-U;)J=os(J),te--;for(;U--;){if(Ne===J||J!==null&&Ne===J.alternate)break t;Ne=os(Ne),J=os(J)}Ne=null}else Ne=null;le!==null&&Pb(ve,oe,le,Ne,!1),qe!==null&&Rt!==null&&Pb(ve,Rt,qe,Ne,!0)}}e:{if(oe=re?wt(re):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var Re=Yy;else if(Jy(oe))if(Zy)Re=u3;else{Re=l3;var et=s3}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?re&&Ps(re.elementType)&&(Re=Yy):Re=c3;if(Re&&(Re=Re(t,re))){Xy(ve,Re,a,me);break e}et&&et(t,oe,re),t==="focusout"&&re&&oe.type==="number"&&re.memoizedProps.value!=null&&Ds(oe,"number",oe.value)}switch(et=re?wt(re):window,t){case"focusin":(Jy(et)||et.contentEditable==="true")&&(Io=et,mf=re,Vs=null);break;case"focusout":Vs=mf=Io=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,sv(ve,a,me);break;case"selectionchange":if(f3)break;case"keydown":case"keyup":sv(ve,a,me)}var De;if(Pt)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Qi?Ba(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(Jt&&a.locale!=="ko"&&(Qi||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Qi&&(De=Is()):(Xr=me,As="value"in Xr?Xr.value:Xr.textContent,Qi=!0)),et=Yc(re,Ae),0<et.length&&(Ae=new j(Ae,t,null,a,me),ve.push({event:Ae,listeners:et}),De?Ae.data=De:(De=fc(a),De!==null&&(Ae.data=De)))),(De=Ke?qs(t,a):i3(t,a))&&(Ae=Yc(re,"onBeforeInput"),0<Ae.length&&(et=new j("onBeforeInput","beforeinput",null,a,me),ve.push({event:et,listeners:Ae}),et.data=De)),X3(ve,t,re,a,me)}Rb(ve,r)})}function gl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Yc(t,r){for(var a=r+"Capture",l=[];t!==null;){var p=t,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Aa(t,a),p!=null&&l.unshift(gl(t,p,y)),p=Aa(t,r),p!=null&&l.push(gl(t,p,y))),t.tag===3)return l;t=t.return}return[]}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pb(t,r,a,l,p){for(var y=r._reactName,S=[];a!==null&&a!==l;){var O=a,F=O.alternate,re=O.stateNode;if(O=O.tag,F!==null&&F===l)break;O!==5&&O!==26&&O!==27||re===null||(F=re,p?(re=Aa(a,y),re!=null&&S.unshift(gl(a,re,F))):p||(re=Aa(a,y),re!=null&&S.push(gl(a,re,F)))),a=a.return}S.length!==0&&t.push({event:r,listeners:S})}var Z3=/\r\n?/g,eT=/\u0000|\uFFFD/g;function Lb(t){return(typeof t=="string"?t:""+t).replace(Z3,`
`).replace(eT,"")}function Mb(t,r){return r=Lb(r),Lb(t)===r}function Zc(){}function Tt(t,r,a,l,p,y){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Jr(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Jr(t,""+l);break;case"className":Mo(t,"class",l);break;case"tabIndex":Mo(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mo(t,a,l);break;case"style":mi(t,l,y);break;case"data":if(r!=="object"){Mo(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(r!=="input"&&Tt(t,r,"name",p.name,p,null),Tt(t,r,"formEncType",p.formEncType,p,null),Tt(t,r,"formMethod",p.formMethod,p,null),Tt(t,r,"formTarget",p.formTarget,p,null)):(Tt(t,r,"encType",p.encType,p,null),Tt(t,r,"method",p.method,p,null),Tt(t,r,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zc);break;case"onScroll":l!=null&&rt("scroll",t);break;case"onScrollEnd":l!=null&&rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":rt("beforetoggle",t),rt("toggle",t),Oa(t,"popover",l);break;case"xlinkActuate":mr(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mr(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mr(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mr(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mr(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mr(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mr(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ls.get(a)||a,Oa(t,a,l))}}function jp(t,r,a,l,p,y){switch(a){case"style":mi(t,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Jr(t,l):(typeof l=="number"||typeof l=="bigint")&&Jr(t,""+l);break;case"onScroll":l!=null&&rt("scroll",t);break;case"onScrollEnd":l!=null&&rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ht.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),r=a.slice(2,p?a.length-7:void 0),y=t[jt]||null,y=y==null?null:y[a],typeof y=="function"&&t.removeEventListener(r,y,p),typeof l=="function")){typeof y!="function"&&y!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,p);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Oa(t,a,l)}}}function Tn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",t),rt("load",t);var l=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var S=a[y];if(S!=null)switch(y){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tt(t,r,y,S,a,null)}}p&&Tt(t,r,"srcSet",a.srcSet,a,null),l&&Tt(t,r,"src",a.src,a,null);return;case"input":rt("invalid",t);var O=y=S=p=null,F=null,re=null;for(l in a)if(a.hasOwnProperty(l)){var me=a[l];if(me!=null)switch(l){case"name":p=me;break;case"type":S=me;break;case"checked":F=me;break;case"defaultChecked":re=me;break;case"value":y=me;break;case"defaultValue":O=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,r));break;default:Tt(t,r,l,me,a,null)}}La(t,y,O,F,re,S,p,!1),Da(t);return;case"select":for(p in rt("invalid",t),l=S=y=null,a)if(a.hasOwnProperty(p)&&(O=a[p],O!=null))switch(p){case"value":y=O;break;case"defaultValue":S=O;break;case"multiple":l=O;default:Tt(t,r,p,O,a,null)}r=y,a=S,t.multiple=!!l,r==null?a!=null&&hr(t,!!l,a,!0):hr(t,!!l,r,!1);return;case"textarea":for(S in rt("invalid",t),y=p=l=null,a)if(a.hasOwnProperty(S)&&(O=a[S],O!=null))switch(S){case"value":l=O;break;case"defaultValue":p=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:Tt(t,r,S,O,a,null)}Wi(t,l,p,y),Da(t);return;case"option":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Tt(t,r,F,l,a,null)}return;case"dialog":rt("beforetoggle",t),rt("toggle",t),rt("cancel",t),rt("close",t);break;case"iframe":case"object":rt("load",t);break;case"video":case"audio":for(l=0;l<hl.length;l++)rt(hl[l],t);break;case"image":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"embed":case"source":case"link":rt("error",t),rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in a)if(a.hasOwnProperty(re)&&(l=a[re],l!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tt(t,r,re,l,a,null)}return;default:if(Ps(r)){for(me in a)a.hasOwnProperty(me)&&(l=a[me],l!==void 0&&jp(t,r,me,l,a,void 0));return}}for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null&&Tt(t,r,O,l,a,null))}function tT(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,O=null,F=null,re=null,me=null;for(le in a){var ve=a[le];if(a.hasOwnProperty(le)&&ve!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":F=ve;default:l.hasOwnProperty(le)||Tt(t,r,le,null,l,ve)}}for(var oe in l){var le=l[oe];if(ve=a[oe],l.hasOwnProperty(oe)&&(le!=null||ve!=null))switch(oe){case"type":y=le;break;case"name":p=le;break;case"checked":re=le;break;case"defaultChecked":me=le;break;case"value":S=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:le!==ve&&Tt(t,r,oe,le,l,ve)}}Os(t,S,O,F,re,me,y,p);return;case"select":for(y in le=S=O=oe=null,a)if(F=a[y],a.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":le=F;default:l.hasOwnProperty(y)||Tt(t,r,y,null,l,F)}for(p in l)if(y=l[p],F=a[p],l.hasOwnProperty(p)&&(y!=null||F!=null))switch(p){case"value":oe=y;break;case"defaultValue":O=y;break;case"multiple":S=y;default:y!==F&&Tt(t,r,p,y,l,F)}r=O,a=S,l=le,oe==null?!!l!=!!a&&(r==null?hr(t,!!a,a?[]:"",!1):hr(t,!!a,r,!0)):hr(t,!!a,oe,!1);return;case"textarea":for(O in le=oe=null,a)if(p=a[O],a.hasOwnProperty(O)&&p!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Tt(t,r,O,null,l,p)}for(S in l)if(p=l[S],y=a[S],l.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":oe=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&Tt(t,r,S,p,l,y)}lc(t,oe,le);return;case"option":for(var qe in a)if(oe=a[qe],a.hasOwnProperty(qe)&&oe!=null&&!l.hasOwnProperty(qe))switch(qe){case"selected":t.selected=!1;break;default:Tt(t,r,qe,null,l,oe)}for(F in l)if(oe=l[F],le=a[F],l.hasOwnProperty(F)&&oe!==le&&(oe!=null||le!=null))switch(F){case"selected":t.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Tt(t,r,F,oe,l,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)oe=a[Ne],a.hasOwnProperty(Ne)&&oe!=null&&!l.hasOwnProperty(Ne)&&Tt(t,r,Ne,null,l,oe);for(re in l)if(oe=l[re],le=a[re],l.hasOwnProperty(re)&&oe!==le&&(oe!=null||le!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:Tt(t,r,re,oe,l,le)}return;default:if(Ps(r)){for(var Rt in a)oe=a[Rt],a.hasOwnProperty(Rt)&&oe!==void 0&&!l.hasOwnProperty(Rt)&&jp(t,r,Rt,void 0,l,oe);for(me in l)oe=l[me],le=a[me],!l.hasOwnProperty(me)||oe===le||oe===void 0&&le===void 0||jp(t,r,me,oe,l,le);return}}for(var J in a)oe=a[J],a.hasOwnProperty(J)&&oe!=null&&!l.hasOwnProperty(J)&&Tt(t,r,J,null,l,oe);for(ve in l)oe=l[ve],le=a[ve],!l.hasOwnProperty(ve)||oe===le||oe==null&&le==null||Tt(t,r,ve,oe,l,le)}var qp=null,zp=null;function eu(t){return t.nodeType===9?t:t.ownerDocument}function Nb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ab(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Fp(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bp=null;function nT(){var t=window.event;return t&&t.type==="popstate"?t===Bp?!1:(Bp=t,!0):(Bp=null,!1)}var Ib=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,jb=typeof Promise=="function"?Promise:void 0,iT=typeof queueMicrotask=="function"?queueMicrotask:jb===void 0?Ib:function(t){return jb.resolve(null).then(t).catch(aT)};function aT(t){setTimeout(function(){throw t})}function la(t){return t==="head"}function qb(t,r){var a=r,l=0,p=0;do{var y=a.nextSibling;if(t.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<l&&8>l){a=l;var S=t.ownerDocument;if(a&1&&yl(S.documentElement),a&2&&yl(S.body),a&4)for(a=S.head,yl(a),S=a.firstChild;S;){var O=S.nextSibling,F=S.nodeName;S[Se]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=O}}if(p===0){t.removeChild(y),Sl(r);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:l=a.charCodeAt(0)-48;else l=0;a=y}while(a);Sl(r)}function Vp(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vp(a),pt(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function oT(t,r,a,l){for(;t.nodeType===1;){var p=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Se])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence")||y!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=Fr(t.nextSibling),t===null)break}return null}function sT(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fr(t.nextSibling),t===null))return null;return t}function Hp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lT(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var $p=null;function zb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Fb(t,r,a){switch(r=eu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);pt(t)}var kr=new Map,Bb=new Set;function tu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=K.d;K.d={f:cT,r:uT,D:dT,C:fT,L:pT,m:mT,X:gT,S:hT,M:yT};function cT(){var t=Oi.f(),r=Uc();return t||r}function uT(t){var r=it(t);r!==null&&r.tag===5&&r.type==="form"?c1(r):Oi.r(t)}var ss=typeof document>"u"?null:document;function Vb(t,r,a){var l=ss;if(l&&typeof r=="string"&&r){var p=He(r);p='link[rel="'+t+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Bb.has(p)||(Bb.add(p),t={rel:t,crossOrigin:a,href:r},l.querySelector(p)===null&&(r=l.createElement("link"),Tn(r,"link",t),Ve(r),l.head.appendChild(r)))}}function dT(t){Oi.D(t),Vb("dns-prefetch",t,null)}function fT(t,r){Oi.C(t,r),Vb("preconnect",t,r)}function pT(t,r,a){Oi.L(t,r,a);var l=ss;if(l&&t&&r){var p='link[rel="preload"][as="'+He(r)+'"]';r==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+He(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+He(a.imageSizes)+'"]')):p+='[href="'+He(t)+'"]';var y=p;switch(r){case"style":y=ls(t);break;case"script":y=cs(t)}kr.has(y)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),kr.set(y,t),l.querySelector(p)!==null||r==="style"&&l.querySelector(vl(y))||r==="script"&&l.querySelector(bl(y))||(r=l.createElement("link"),Tn(r,"link",t),Ve(r),l.head.appendChild(r)))}}function mT(t,r){Oi.m(t,r);var a=ss;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+He(l)+'"][href="'+He(t)+'"]',y=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cs(t)}if(!kr.has(y)&&(t=_({rel:"modulepreload",href:t},r),kr.set(y,t),a.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(y)))return}l=a.createElement("link"),Tn(l,"link",t),Ve(l),a.head.appendChild(l)}}}function hT(t,r,a){Oi.S(t,r,a);var l=ss;if(l&&t){var p=$e(l).hoistableStyles,y=ls(t);r||(r="default");var S=p.get(y);if(!S){var O={loading:0,preload:null};if(S=l.querySelector(vl(y)))O.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=kr.get(y))&&Wp(t,a);var F=S=l.createElement("link");Ve(F),Tn(F,"link",t),F._p=new Promise(function(re,me){F.onload=re,F.onerror=me}),F.addEventListener("load",function(){O.loading|=1}),F.addEventListener("error",function(){O.loading|=2}),O.loading|=4,nu(S,r,l)}S={type:"stylesheet",instance:S,count:1,state:O},p.set(y,S)}}}function gT(t,r){Oi.X(t,r);var a=ss;if(a&&t){var l=$e(a).hoistableScripts,p=cs(t),y=l.get(p);y||(y=a.querySelector(bl(p)),y||(t=_({src:t,async:!0},r),(r=kr.get(p))&&Up(t,r),y=a.createElement("script"),Ve(y),Tn(y,"link",t),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function yT(t,r){Oi.M(t,r);var a=ss;if(a&&t){var l=$e(a).hoistableScripts,p=cs(t),y=l.get(p);y||(y=a.querySelector(bl(p)),y||(t=_({src:t,async:!0,type:"module"},r),(r=kr.get(p))&&Up(t,r),y=a.createElement("script"),Ve(y),Tn(y,"link",t),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function Hb(t,r,a,l){var p=(p=It.current)?tu(p):null;if(!p)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ls(a.href),a=$e(p).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ls(a.href);var y=$e(p).hoistableStyles,S=y.get(t);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,S),(y=p.querySelector(vl(t)))&&!y._p&&(S.instance=y,S.state.loading=5),kr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kr.set(t,a),y||vT(p,t,a,S.state))),r&&l===null)throw Error(s(528,""));return S}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=cs(a),a=$e(p).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ls(t){return'href="'+He(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function $b(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function vT(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Tn(r,"link",a),Ve(r),t.head.appendChild(r))}function cs(t){return'[src="'+He(t)+'"]'}function bl(t){return"script[async]"+t}function Wb(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+He(a.href)+'"]');if(l)return r.instance=l,Ve(l),l;var p=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ve(l),Tn(l,"style",p),nu(l,a.precedence,t),r.instance=l;case"stylesheet":p=ls(a.href);var y=t.querySelector(vl(p));if(y)return r.state.loading|=4,r.instance=y,Ve(y),y;l=$b(a),(p=kr.get(p))&&Wp(l,p),y=(t.ownerDocument||t).createElement("link"),Ve(y);var S=y;return S._p=new Promise(function(O,F){S.onload=O,S.onerror=F}),Tn(y,"link",l),r.state.loading|=4,nu(y,a.precedence,t),r.instance=y;case"script":return y=cs(a.src),(p=t.querySelector(bl(y)))?(r.instance=p,Ve(p),p):(l=a,(p=kr.get(y))&&(l=_({},a),Up(l,p)),t=t.ownerDocument||t,p=t.createElement("script"),Ve(p),Tn(p,"link",l),t.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,nu(l,a.precedence,t));return r.instance}function nu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,y=p,S=0;S<l.length;S++){var O=l[S];if(O.dataset.precedence===r)y=O;else if(y!==p)break}y?y.parentNode.insertBefore(t,y.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Wp(t,r){t.crossOrigin??(t.crossOrigin=r.crossOrigin),t.referrerPolicy??(t.referrerPolicy=r.referrerPolicy),t.title??(t.title=r.title)}function Up(t,r){t.crossOrigin??(t.crossOrigin=r.crossOrigin),t.referrerPolicy??(t.referrerPolicy=r.referrerPolicy),t.integrity??(t.integrity=r.integrity)}var ru=null;function Ub(t,r,a){if(ru===null){var l=new Map,p=ru=new Map;p.set(a,l)}else p=ru,l=p.get(a),l||(l=new Map,p.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),p=0;p<a.length;p++){var y=a[p];if(!(y[Se]||y[bt]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(r)||"";S=t+S;var O=l.get(S);O?O.push(y):l.set(S,[y])}}return l}function Kb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function bT(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qb(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var wl=null;function wT(){}function _T(t,r,a){if(wl===null)throw Error(s(475));var l=wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var p=ls(a.href),y=t.querySelector(vl(p));if(y){t=y._p,typeof t=="object"&&t&&typeof t.then=="function"&&(l.count++,l=iu.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=y,Ve(y);return}y=t.ownerDocument||t,a=$b(a),(p=kr.get(p))&&Wp(a,p),y=y.createElement("link"),Ve(y);var S=y;S._p=new Promise(function(O,F){S.onload=O,S.onerror=F}),Tn(y,"link",a),r.instance=y}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=iu.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function xT(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&Kp(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Kp(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function iu(){if(this.count--,this.count===0){if(this.stylesheets)Kp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var au=null;function Kp(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,au=new Map,r.forEach(kT,t),au=null,iu.call(t))}function kT(t,r){if(!(r.state.loading&4)){var a=au.get(t);if(a)var l=a.get(null);else{a=new Map,au.set(t,a);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),l=S)}l&&a.set(null,l)}p=r.instance,S=p.getAttribute("data-precedence"),y=a.get(S)||l,y===l&&a.set(null,p),a.set(S,p),this.count++,l=iu.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),y?y.parentNode.insertBefore(p,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),r.state.loading|=4}}var _l={$$typeof:Q,Provider:null,Consumer:null,_currentValue:Le,_currentValue2:Le,_threadCount:0};function CT(t,r,a,l,p,y,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function ST(t,r,a,l,p,y,S,O,F,re,me,ve){return t=new CT(t,r,a,S,O,F,re,ve),r=1,y===!0&&(r|=24),y=ir(3,null,null,r),t.current=y,y.stateNode=t,r=Of(),r.refCount++,t.pooledCache=r,r.refCount++,y.memoizedState={element:l,isDehydrated:a,cache:r},Mf(y),t}function ET(t){return t?(t=Fo,t):Fo}function Gb(t,r,a,l,p,y){p=ET(p),l.context===null?l.context=p:l.pendingContext=p,l=Ya(r),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Za(t,l,r),a!==null&&(lr(a,t,r),Xs(a,t,r))}function Jb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Qp(t,r){Jb(t,r),(t=t.alternate)&&Jb(t,r)}function Xb(t){if(t.tag===13){var r=zo(t,67108864);r!==null&&lr(r,t,67108864),Qp(t,67108864)}}var ou=!0;function TT(t,r,a,l){var p=G.T;G.T=null;var y=K.p;try{K.p=2,Gp(t,r,a,l)}finally{K.p=y,G.T=p}}function RT(t,r,a,l){var p=G.T;G.T=null;var y=K.p;try{K.p=8,Gp(t,r,a,l)}finally{K.p=y,G.T=p}}function Gp(t,r,a,l){if(ou){var p=Jp(l);if(p===null)Ip(t,r,l,su,a),Zb(t,l);else if(DT(p,t,r,a,l))l.stopPropagation();else if(Zb(t,l),r&4&&-1<OT.indexOf(t)){for(;p!==null;){var y=it(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Ge(y.pendingLanes);if(S!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;S;){var F=1<<31-Ft(S);O.entanglements[1]|=F,S&=~F}Ri(y),!(_t&6)&&($c=vn()+500,ml(0,!1))}}break;case 13:O=zo(y,2),O!==null&&lr(O,y,2),Uc(),Qp(y,2)}if(y=Jp(l),y===null&&Ip(t,r,l,su,a),y===p)break;p=y}p!==null&&l.stopPropagation()}else Ip(t,r,l,null,a)}}function Jp(t){return t=Ao(t),Xp(t)}var su=null;function Xp(t){if(su=null,t=tt(t),t!==null){var r=d(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return su=t,null}function Yb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(An()){case Mr:return 2;case In:return 8;case rn:case Hi:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var Yp=!1,ca=null,ua=null,da=null,xl=new Map,kl=new Map,fa=[],OT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zb(t,r){switch(t){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(r.pointerId)}}function Cl(t,r,a,l,p,y){return t===null||t.nativeEvent!==y?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:y,targetContainers:[p]},r!==null&&(r=it(r),r!==null&&Xb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),t)}function DT(t,r,a,l,p){switch(r){case"focusin":return ca=Cl(ca,t,r,a,l,p),!0;case"dragenter":return ua=Cl(ua,t,r,a,l,p),!0;case"mouseover":return da=Cl(da,t,r,a,l,p),!0;case"pointerover":var y=p.pointerId;return xl.set(y,Cl(xl.get(y)||null,t,r,a,l,p)),!0;case"gotpointercapture":return y=p.pointerId,kl.set(y,Cl(kl.get(y)||null,t,r,a,l,p)),!0}return!1}function e2(t){var r=tt(t.target);if(r!==null){var a=d(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,er(t.priority,function(){if(a.tag===13){var l=xr();l=Vn(l);var p=zo(a,l);p!==null&&lr(p,a,l),Qp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Jp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ms=l,a.target.dispatchEvent(l),Ms=null}else return r=it(a),r!==null&&Xb(r),t.blockedOn=a,!1;r.shift()}return!0}function t2(t,r,a){lu(t)&&a.delete(r)}function PT(){Yp=!1,ca!==null&&lu(ca)&&(ca=null),ua!==null&&lu(ua)&&(ua=null),da!==null&&lu(da)&&(da=null),xl.forEach(t2),kl.forEach(t2)}function cu(t,r){t.blockedOn===r&&(t.blockedOn=null,Yp||(Yp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,PT)))}var uu=null;function n2(t){uu!==t&&(uu=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uu===t&&(uu=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],p=t[r+2];if(typeof l!="function"){if(Xp(l||a)===null)continue;break}var y=it(a);y!==null&&(t.splice(r,3),r-=3,Yf(y,{pending:!0,data:p,method:a.method,action:l},l,p))}}))}function Sl(t){function r(F){return cu(F,t)}ca!==null&&cu(ca,t),ua!==null&&cu(ua,t),da!==null&&cu(da,t),xl.forEach(r),kl.forEach(r);for(var a=0;a<fa.length;a++){var l=fa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fa.length&&(a=fa[0],a.blockedOn===null);)e2(a),a.blockedOn===null&&fa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var p=a[l],y=a[l+1],S=p[jt]||null;if(typeof y=="function")S||n2(a);else if(S){var O=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[jt]||null)O=S.formAction;else if(Xp(p)!==null)continue}else O=S.action;typeof O=="function"?a[l+1]=O:(a.splice(l,3),l-=3),n2(a)}}}function Zp(t){this._internalRoot=t}em.prototype.render=Zp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current;Gb(a,xr(),t,r,null,null)},em.prototype.unmount=Zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Gb(t.current,2,null,t,null,null),Uc(),r[L]=null}};function em(t){this._internalRoot=t}em.prototype.unstable_scheduleHydration=function(t){if(t){var r=pi();t={blockedOn:null,target:t,priority:r};for(var a=0;a<fa.length&&r!==0&&r<fa[a].priority;a++);fa.splice(a,0,t),a===0&&e2(t)}};var r2=i.version;if(r2!=="19.1.1")throw Error(s(527,r2,"19.1.1"));K.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t===null?null:w(t),t=t===null?null:t.stateNode,t};var LT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Vt=du.inject(LT),Qt=du}catch{}}e.createRoot=function(t,r){if(!c(t))throw Error(s(299));var a=!1,l="",p=D3,y=P3,S=L3,O=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(O=r.unstable_transitionCallbacks)),r=ST(t,1,!1,null,null,a,l,p,y,S,O,null),t[L]=r.current,Ob(t),new Zp(r)}})),Ku=ke(((e,n)=>{function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}i(),n.exports=wa()})),oh="Expected a function";function T_(e,n){var i;if(typeof n!="function")throw TypeError(oh);return e=GT(e),function(){return--e>0&&(i=n.apply(this,arguments)),e<=1&&(n=void 0),i}}var R_=T_;function O_(e){return R_(2,e)}let sh;Cm=O_,sh=Math.max;function D_(e){if(!(e&&e.length))return[];var n=0;return e=YT(e,function(i){if(XT(i))return n=sh(i.length,n),!0}),KT(n,function(i){return QT(e,ZT(i))})}var P_=JT(D_);wm=function(e,n){if(e==null)throw Error(n||`Expected value but got ${e}`)},BigInt.prototype.toJSON=function(){return JSON.rawJSON(this.toString())},Mm=function(e){try{return JSON.parse(e,(n,i)=>id(i))}catch{}if(e==null||e==="")return{};try{return e??(e=""),e=e.replaceAll(new RegExp(`(?<=\\s|^|\\[|,|:)(NaN|-Infinity|Infinity)(?=(?:[^"'\\\\]*(\\\\.|'([^'\\\\]*\\\\.)*[^'\\\\]*'|"([^"\\\\]*\\\\.)*[^"\\\\]*"))*[^"']*$)`,"g"),'"\u25D0$1\u25D0"'),JSON.parse(e,(n,i)=>typeof i=="string"?i==="\u25D0NaN\u25D0"?NaN:i==="\u25D0Infinity\u25D0"?1/0:i==="\u25D0-Infinity\u25D0"?-1/0:id(i):id(i))}catch{return{}}},xw=function(e){if(e.length===0)return"";let n=Object.keys(e[0]),i=e.map(o=>n.map(s=>o[s]).join("	"));return`${n.join("	")}
${i.join(`
`)}`};function id(e){return typeof e=="object"&&e&&"$bigint"in e&&typeof e.$bigint=="string"?BigInt(e.$bigint):e}var lh="abcdefghijklmnopqrstuvwxyz",ch=lh+lh.toUpperCase(),uh=new Set;ha={create(){let e=0,n;do{let i="";for(let o=0;o<4;o++)i+=ch[Math.floor(Math.random()*ch.length)];n=i,e++}while(uh.has(n)&&e<100);if(e>=100)throw Error("Failed to generate unique CellId after 100 attempts");return uh.add(n),n}},ur={create(e){return kn(e!=null,"cellId is required"),`cell-${e}`},parse(e){return e.slice(5)},findElement(e){return e.closest('div[id^="cell-"]')},findElementThroughShadowDOMs(e){let n=e;for(;n;){let i=ur.findElement(n);if(i)return i;let o=n.getRootNode();if(n=o instanceof ShadowRoot?o.host:n.parentElement,n===o)break}return null}},Y2=function(e){let n=null,i=ur.findElement(e);return i&&(n=ur.parse(i.id)),n},Nu={parse(e){return e.getAttribute("object-id")},parseOrThrow(e){let n=Nu.parse(e);return kn(n,"<marimo-ui-element/> missing object-id attribute"),n}},v_={create(e){return`output-${e}`}},Em=new class{getFilename(){return this.getSearchParam("filename")}setFilename(e){this.setSearchParam("filename",e)}getCodeFromSearchParam(){return this.getSearchParam("code")}getCodeFromHash(){let e=window.location.hash;return e.startsWith("#code/")?e.slice(6):null}setCodeForHash(e){window.location.hash=`#code/${e}`}setSearchParam(e,n){let i=new URL(window.location.href);i.searchParams.set(e,n),window.history.replaceState({},"",i.toString())}getSearchParam(e){return new URL(window.location.href).searchParams.get(e)}},Ou=function(e){return Mm(e??"")},Q2=function(e){return ni.mapValues(e.dataset,n=>typeof n=="string"?Ou(n):n)},tw=function(e,n){let i=e.parentElement?Nu.parse(e.parentElement):void 0;return i&&n.has(i)?n.lookupValue(i):Ou(e.dataset.initialValue)},Al=function(){if(t4())return document.title||null;if(n4()){let i=Em.getFilename();if(i)return i}let e=document.querySelector("marimo-filename");wm(e,"marimo-filename tag not found");let n=e.innerHTML;return n.length===0?null:n};var L_=Symbol("");Uw=function(e,n){return Fe(e,function(i,o,s){o(this,n(i(this),s))})};function ad(e,n){let i=null,o=new Map,s=new Set,c=f=>{let m;if(n===void 0)m=o.get(f);else for(let[w,_]of o)if(n(w,f)){m=_;break}if(m!==void 0)if(i!=null&&i(m[1],f))c.remove(f);else return m[0];let g=e(f);return o.set(f,[g,Date.now()]),d("CREATE",f,g),g},d=(f,m,g)=>{for(let w of s)w({type:f,param:m,atom:g})};return c.unstable_listen=f=>(s.add(f),()=>{s.delete(f)}),c.getParams=()=>o.keys(),c.remove=f=>{if(n===void 0){if(!o.has(f))return;let[m]=o.get(f);o.delete(f),d("REMOVE",f,m)}else for(let[m,[g]]of o)if(n(m,f)){o.delete(m),d("REMOVE",m,g);break}},c.setShouldRemove=f=>{if(i=f,i)for(let[m,[g,w]]of o)i(w,m)&&(o.delete(m),d("REMOVE",m,g))},c}var od=(e,n,i)=>(n.has(i)?n:n.set(i,e())).get(i),M_=new WeakMap,N_=(e,n,i,o)=>od(e,od(()=>new WeakMap,od(()=>new WeakMap,M_,n),i),o);function A_(e,n,i=Object.is){return N_(()=>{let o=Symbol(),s=([d,f])=>{if(f===o)return n(d);let m=n(d,f);return i(f,m)?f:m},c=Fe(d=>{let f=d(c);return s([d(e),f])});return c.init=o,c},e,n,i)}var dh=(e,n,i)=>(n.has(i)?n:n.set(i,e())).get(i),I_=new WeakMap,j_=(e,n,i)=>dh(e,dh(()=>new WeakMap,I_,n),i),q_={},fh=e=>!!e.write,z_=e=>typeof e=="function";function F_(e,n){return j_(()=>{let i=new WeakMap,o=(d,f)=>{let m=i.get(d);if(m)return m;let g=f&&i.get(f),w=[],_=[];return d.forEach((C,E)=>{let T=n?n(C):E;_[E]=T;let A=g&&g.atomList[g.keyList.indexOf(T)];if(A){w[E]=A;return}let V=H=>{let W=H(s),N=H(e),Q=o(N,W==null?void 0:W.arr).keyList.indexOf(T);if(Q<0||Q>=N.length){let pe=d[o(d).keyList.indexOf(T)];if(pe)return pe;throw Error("splitAtom: index out of bounds for read")}return N[Q]};w[E]=fh(e)?Fe(V,(H,W,N)=>{let Q=H(s),pe=H(e),P=o(pe,Q==null?void 0:Q.arr).keyList.indexOf(T);if(P<0||P>=pe.length)throw Error("splitAtom: index out of bounds for write");let I=z_(N)?N(pe[P]):N;Object.is(pe[P],I)||W(e,[...pe.slice(0,P),I,...pe.slice(P+1)])}):Fe(V)}),m=g&&g.keyList.length===_.length&&g.keyList.every((C,E)=>C===_[E])?g:{arr:d,atomList:w,keyList:_},i.set(d,m),m},s=Fe(d=>{let f=d(s);return o(d(e),f==null?void 0:f.arr)});s.init=void 0;let c=fh(e)?Fe(d=>d(s).atomList,(d,f,m)=>{switch(m.type){case"remove":{let g=d(c).indexOf(m.atom);if(g>=0){let w=d(e);f(e,[...w.slice(0,g),...w.slice(g+1)])}break}case"insert":{let g=m.before?d(c).indexOf(m.before):d(c).length;if(g>=0){let w=d(e);f(e,[...w.slice(0,g),m.value,...w.slice(g)])}break}case"move":{let g=d(c).indexOf(m.atom),w=m.before?d(c).indexOf(m.before):d(c).length;if(g>=0&&w>=0){let _=d(e);g<w?f(e,[..._.slice(0,g),..._.slice(g+1,w),_[g],..._.slice(w)]):f(e,[..._.slice(0,w),_[g],..._.slice(w,g),..._.slice(g+1)])}break}}}):Fe(d=>d(s).atomList);return c},e,n||q_)}var ph=e=>typeof(e==null?void 0:e.then)=="function";function mh(e=()=>{try{return window.localStorage}catch{return}},n){var f;let i,o,s={getItem:(m,g)=>{var C;let w=E=>{if(E||(E=""),i!==E){try{o=JSON.parse(E,n==null?void 0:n.reviver)}catch{return g}i=E}return o},_=((C=e())==null?void 0:C.getItem(m))??null;return ph(_)?_.then(w):w(_)},setItem:(m,g)=>{var w;return(w=e())==null?void 0:w.setItem(m,JSON.stringify(g,n==null?void 0:n.replacer))},removeItem:m=>{var g;return(g=e())==null?void 0:g.removeItem(m)}},c=m=>(g,w,_)=>m(g,C=>{let E;try{E=JSON.parse(C||"")}catch{E=_}w(E)}),d;try{d=(f=e())==null?void 0:f.subscribe}catch{}return!d&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(d=(m,g)=>{if(!(e()instanceof window.Storage))return()=>{};let w=_=>{_.storageArea===e()&&_.key===m&&g(_.newValue)};return window.addEventListener("storage",w),()=>{window.removeEventListener("storage",w)}}),d&&(s.subscribe=c(d)),s}var B_=mh();Ru=function(e,n,i=B_,o){let s=Fe(o!=null&&o.getOnInit?i.getItem(e,n):n);return s.onMount=c=>{c(i.getItem(e,n));let d;return i.subscribe&&(d=i.subscribe(e,c,n)),d},Fe(c=>c(s),(c,d,f)=>{let m=typeof f=="function"?f(c(s)):f;return m===L_?(d(s,n),i.removeItem(e)):ph(m)?m.then(g=>(d(s,g),i.setItem(e,g))):(d(s,m),i.setItem(e,m))})},Fn=function(e){let n,i,o;return typeof e=="object"?(n=e.hashFunction,i=e.expiring,o=e.tags):n=e,(s,c,d)=>{if(d.value!=null)d.value=hh(d.value,n,i,o);else if(d.get!=null)d.get=hh(d.get,n,i,o);else throw"Only put a Memoize() decorator on a method or get accessor."}};var sd=new Map;function hh(e,n,i=0,o){let s=Symbol("__memoized_map__");return function(...c){let d;this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let f=this[s];if(Array.isArray(o))for(let m of o)sd.has(m)?sd.get(m).push(f):sd.set(m,[f]);if(n||c.length>0||i>0){let m;m=n===!0?c.map(_=>_.toString()).join("!"):n?n.apply(this,c):c[0];let g=`${m}__timestamp`,w=!1;if(i>0)if(!f.has(g))w=!0;else{let _=f.get(g);w=Date.now()-_>i}f.has(m)&&!w?d=f.get(m):(d=e.apply(this,c),f.set(m,d),i>0&&f.set(g,Date.now()))}else{let m=this;f.has(m)?d=f.get(m):(d=e.apply(this,c),f.set(m,d))}return d}}ms=Fe(Al()),cw=Fe(void 0);var V_=class{constructor(){Ce(this,"store",new Map)}get length(){return this.store.size}clear(){this.store.clear()}getItem(e){return this.store.get(e)||null}key(e){return[...this.store.keys()][e]||null}removeItem(e){this.store.delete(e)}setItem(e,n){this.store.set(e,n)}};function H_(){let{hasLocalStorage:e,hasSessionStorage:n}=N4();return e?window.localStorage:n?window.sessionStorage:new V_}fs=H_();let Ai;vw=class{constructor(e,n=fs){this.defaultValue=e,this.storage=n}get(e){try{let n=this.storage.getItem(e);return n?JSON.parse(n):this.defaultValue}catch{return this.defaultValue}}set(e,n){this.storage.setItem(e,JSON.stringify(n))}remove(e){this.storage.removeItem(e)}},Su=class{constructor(e,n,i=fs){this.schema=e,this.getDefaultValue=n,this.storage=i}get(e){try{let n=this.storage.getItem(e);if(n==null)return this.getDefaultValue();let i=this.schema.safeParse(JSON.parse(n));return i.success?i.data:(Pe.warn("Error parsing zod local storage",i.error),this.getDefaultValue())}catch(n){return Pe.warn("Error getting zod local storage",n),this.getDefaultValue()}}set(e,n){this.storage.setItem(e,JSON.stringify(n))}remove(e){this.storage.removeItem(e)}},th=class extends Su{constructor(e,n,i){let o=st.get(ms);super(n,i),this.filename=o;try{this.unsubscribeFromFilename=st.sub(ms,()=>{let s=st.get(ms);this.handleFilenameChange(e,s)})}catch{this.unsubscribeFromFilename=null}}get(e){return super.get(this.createScopedKey(e,this.filename))}set(e,n){super.set(this.createScopedKey(e,this.filename),n)}remove(e){super.remove(this.createScopedKey(e,this.filename))}createScopedKey(e,n){return n?`${e}:${n}`:e}handleFilenameChange(e,n){if(n&&n!==this.filename){let i=this.get(e);this.remove(e),this.filename=n,this.set(e,i)}}dispose(){this.unsubscribeFromFilename&&(this.unsubscribeFromFilename=(this.unsubscribeFromFilename(),null))}},Ai="marimo:notebook-col-sizes";function $_(){return{widths:[]}}var go=new th(Ai,l2({widths:$T(HT([VT(),BT("contentWidth")]).default("contentWidth"))}),$_);V2={getColumnWidth:e=>go.get(Ai).widths[e]??"contentWidth",saveColumnWidth:(e,n)=>{let i=go.get(Ai).widths;if(i[e])i[e]=n;else{for(;i.length<=e;)i.push("contentWidth");i[e]=n}go.set(Ai,{widths:i})},clearStorage:()=>{go.remove(Ai)}};function W_(e,n){let i=go.get(Ai).widths,o=Rl(i,e,n);go.set(Ai,{widths:o})}var gh,yh,vh,Rr,bh,wh,_h,xh,Bn,kh,Ch,Sh,Eh,Th,Rh,tn;function Qn(e,n,i,o,s){var c={};return Object.keys(o).forEach(function(d){c[d]=o[d]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=i.slice().reverse().reduce(function(d,f){return f(e,n,d)||d},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0?(Object.defineProperty(e,n,c),null):c}let _a=(gh=Fn(),yh=Fn(),vh=Fn(),Rr=class{constructor(e,n,i){this.value=e,this.isCollapsed=n,this.children=i}geDescendantCount(){let e=0,n=[...this.children];for(;n.length>0;){let i=n.pop();e++;for(let o=i.children.length-1;o>=0;o--)n.push(i.children[o])}return e}getDescendants(){let e=[],n=[...this.children];for(;n.length>0;){let i=n.pop();e.push(i.value);for(let o=i.children.length-1;o>=0;o--)n.push(i.children[o])}return e}get inOrderIds(){let e=[],n=i=>{e.push(i.value);for(let o of i.children)n(o)};for(let i of this.children)n(i);return e}toString(){return this.isCollapsed?`${this.value} (collapsed)`:String(this.value)}equals(e){return this.value===e.value}},Qn(Rr.prototype,"geDescendantCount",[gh],Object.getOwnPropertyDescriptor(Rr.prototype,"geDescendantCount"),Rr.prototype),Qn(Rr.prototype,"getDescendants",[yh],Object.getOwnPropertyDescriptor(Rr.prototype,"getDescendants"),Rr.prototype),Qn(Rr.prototype,"inOrderIds",[vh],Object.getOwnPropertyDescriptor(Rr.prototype,"inOrderIds"),Rr.prototype),Rr);var U_=0;let yo;yo=(bh=Fn(),wh=Fn(),_h=Fn(),xh=Fn(),Bn=class ho{constructor(n,i){this.nodes=n,this.id=i}static from(n){let i=`tree_${U_++}`;return new ho(n.map(o=>new _a(o,!1,[])),i)}static fromWithPreviousShape(n,i){var c;if(!i)return ho.from(n);let o=i.id,s=new ho(n.map(d=>new _a(d,!1,[])),o);for(let d of n)if(i.isCollapsed(d)){let f=((c=i._nodeMap.get(d))==null?void 0:c.children)??[];for(let m=f.length-1;m>=0;m--){let g=f[m];if(s._nodeMap.has(g.value)){s=s.collapse(d,g.value);break}}}return s}withNodes(n){return new ho(n,this.id)}get topLevelIds(){return this.nodes.map(n=>n.value)}get inOrderIds(){return this.nodes.flatMap(n=>[n.value,...n.inOrderIds])}get idSet(){return new Set(this.inOrderIds)}get length(){return this.nodes.length}get _nodeMap(){let n=new Map;for(let i of this.nodes)n.set(i.value,i);return n}getDescendants(n){let i=this._nodeMap.get(n);return i?i.getDescendants():(Pe.warn(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`),[])}isCollapsed(n){let i=this._nodeMap.get(n);return i?i.isCollapsed:(Pe.warn(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`),!1)}indexOfOrThrow(n){let i=this.nodes.findIndex(o=>o.value===n);if(i===-1)throw Error(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`);return i}slice(n,i){return this.nodes.slice(n,i).map(o=>o.value)}moveToFront(n){let i=this.indexOfOrThrow(n);return this.withNodes(Rl(this.nodes,i,0))}moveToBack(n){let i=this.indexOfOrThrow(n);return this.withNodes(Rl(this.nodes,i,this.nodes.length-1))}collapse(n,i){let o=this.nodes.findIndex(m=>m.value===n);if(o===-1)throw Error(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`);let s=i===void 0?this.nodes.length:this.nodes.findIndex(m=>m.value===i);if(s===-1)throw Error(`Node ${i} not found in tree`);if(s<o)throw Error(`Node ${i} is before node ${n}`);let c=[...this.nodes],d=c[o];if(d.isCollapsed)throw Error(`Node ${n} is already collapsed`);let f=c.splice(o+1,s-o);return c[o]=new _a(d.value,!0,f),this.withNodes(c)}collapseAll(n){let i=[...this.nodes];if(n.length===0)throw Error("No collapse ranges provided");if(n.length!==i.length)throw Error(`Collapse ranges length ${n.length} does not match tree length ${i.length}`);let o=i.length-1;for(;o>=0;){let s=i[o],c=n[o];if(!s.isCollapsed&&c){let{id:d,until:f}=c;if(d!==s.value)throw Error(`Node ${s.value} does not match collapse range id ${d}`);let m=f===void 0?i.length:i.findIndex(w=>w.value===f);if(m===-1)throw Error(`Node ${f} not found in tree`);if(m<o)throw Error(`Node ${f} is before node ${d}`);let g=i.splice(o+1,m-o);i[o]=new _a(s.value,!0,g),o--}else o--}return this.withNodes(i)}expand(n){let i=this.nodes.findIndex(c=>c.value===n);if(i===-1)throw Error(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`);let o=[...this.nodes],s=o[i];if(!s.isCollapsed)throw Error(`Node ${n} is already expanded`);return o[i]=new _a(s.value,!1,[]),o=S2(o,i+1,s.children),this.withNodes(o)}expandAll(){let n=[...this.nodes],i=0;for(;i<n.length;){let o=n[i];o.isCollapsed&&(n[i]=new _a(o.value,!1,[]),n=S2(n,i+1,o.children)),i++}return this.withNodes(n)}move(n,i){return this.withNodes(Rl(this.nodes,n,i))}at(n){var i;return(i=this.nodes.at(n))==null?void 0:i.value}atOrThrow(n){let i=this.nodes.at(n);if(i===void 0)throw Error(`Node at index ${n} not found in tree`);return i.value}first(){return this.atOrThrow(0)}last(){return this.atOrThrow(this.nodes.length-1)}after(n){let i=this.indexOfOrThrow(n);if(i!==this.nodes.length-1)return this.at(i+1)}before(n){let i=this.indexOfOrThrow(n);if(i!==0)return this.at(i-1)}insert(n,i){return this.withNodes(C2(this.nodes,i,new _a(n,!1,[])))}insertAtEnd(n){return this.insert(n,this.nodes.length)}insertAtStart(n){return this.insert(n,0)}deleteAtIndex(n){let i=this.atOrThrow(n),o=this.withNodes(this.nodes);try{o=o.expand(i)}catch{}return this.withNodes(M4(o.nodes,n))}delete(n){let i=this.indexOfOrThrow(n);return this.deleteAtIndex(i)}getCount(n){var i;return((i=this._nodeMap.get(n))==null?void 0:i.geDescendantCount())??0}findAndExpandDeep(n){let i=this.find(n);if(i.length===0)return this;let o=this.withNodes(this.nodes);for(let s of i)try{o=o.expand(s)}catch{}return o}find(n){function i(o,s){for(let c of o){if(c.value===n)return[...s,n];let d=i(c.children,[...s,c.value]);if(d.length>0)return d}return[]}return i(this.nodes,[])}split(n){let i=this.nodes.findIndex(c=>c.value===n);if(i===-1)throw Error(`Node ${n} not found in tree`);let o=this.nodes.slice(0,i),s=this.nodes.slice(i);return o.length===0?[ho.from([]),this.withNodes(s)]:[this.withNodes(o),ho.from([]).withNodes(s)]}equals(n){return this.nodes.length===n.nodes.length&&this.nodes.every((i,o)=>i.value===n.nodes[o].value)}toString(){let n=0,i="",o=s=>{for(let c of s)i+=`${" ".repeat(n*2)}${c.toString()}
`,n+=1,o(c.children),--n};return o(this.nodes),i}},Qn(Bn.prototype,"topLevelIds",[bh],Object.getOwnPropertyDescriptor(Bn.prototype,"topLevelIds"),Bn.prototype),Qn(Bn.prototype,"inOrderIds",[wh],Object.getOwnPropertyDescriptor(Bn.prototype,"inOrderIds"),Bn.prototype),Qn(Bn.prototype,"idSet",[_h],Object.getOwnPropertyDescriptor(Bn.prototype,"idSet"),Bn.prototype),Qn(Bn.prototype,"_nodeMap",[xh],Object.getOwnPropertyDescriptor(Bn.prototype,"_nodeMap"),Bn.prototype),Bn),Il=(kh=Fn(),Ch=Fn(),Sh=Fn(),Eh=Fn(),Th=Fn(),Rh=Fn(),tn=class Mn{constructor(n){this.columns=n,n.length===0&&(this.columns=[yo.from([])])}static from(n){return new Mn(n.map(i=>yo.from(i)))}static fromWithPreviousShape(n,i){if(!i)return Mn.from([n]);let o=i.getColumns(),s=Array.from({length:o.length},()=>[]),c=0;for(let d of n){let f=o.findIndex(m=>m.idSet.has(d));f===-1?s[c].push(d):(c=f,s[f].push(d))}return new Mn(s.map((d,f)=>yo.fromWithPreviousShape(d,o[f])))}isEmpty(){return this.columns.length===0?!0:this.columns.every(n=>n.nodes.length===0)}static fromIdsAndColumns(n){let i=Math.max(1,...n.map(([,c])=>(c??0)+1)),o=Array.from({length:i},()=>[]),s=0;for(let[c,d]of n)d==null||d<0?o[s].push(c):(o[d].push(c),s=d);return Mn.from(o)}get topLevelIds(){return this.columns.map(n=>n.topLevelIds)}get iterateTopLevelIds(){let n=this.columns;function*i(){for(let o of n)for(let s of o.topLevelIds)yield s}return i()}get inOrderIds(){return this.columns.flatMap(n=>n.inOrderIds)}get colLength(){return this.columns.length}get idLength(){return this.columns.reduce((n,i)=>n+i.nodes.length,0)}get _columnMap(){return new Map(this.columns.map(n=>[n.id,n]))}at(n){return this.columns[n]}get(n){return this._columnMap.get(n)}atOrThrow(n){let i=this.columns[n];if(!i)throw Error(`Column ${n} not found`);return i}hasOnlyOneColumn(){return this.columns.length===1}getColumns(){return this.columns}hasOnlyOneId(){return this.idLength===1}getColumnIds(){return this.columns.map(n=>n.id)}indexOf(n){return this.columns.indexOf(n)}addColumn(n,i=[]){return new Mn(this.columns.flatMap(o=>o.id===n?[o,yo.from(i)]:[o]))}insertBreakpoint(n){let i=this.findWithId(n),[o,s]=i.split(n);return new Mn(this.columns.flatMap(c=>c===i?[o,s].filter(Boolean):[c]))}delete(n){if(this.columns.length<=1)return this;let i=this.indexOfOrThrow(n),o=i===0?1:i-1,s=[...this.columns],c=s[i];return s[o]=c.withNodes([...s[o].nodes,...c.nodes]),s.splice(i,1),new Mn(s)}mergeAllColumns(){if(this.columns.length<=1)return this;let n=this.columns.flatMap(o=>o.nodes),i=this.columns[0];return new Mn([i.withNodes(n)])}moveWithinColumn(n,i,o){return this.transform(n,s=>s.move(i,o))}moveAcrossColumns(n,i,o,s){let c=this.indexOfOrThrow(n),d=this.indexOfOrThrow(o),f=[...this.columns],m=f[c],g=m.nodes.findIndex(C=>C.value===i);if(g===-1)throw Error(`Node ${i} not found in column ${n}`);let w=m.nodes[g];f[c]=m.withNodes(m.nodes.filter((C,E)=>E!==g));let _=f[d];if(s){let C=_.indexOfOrThrow(s);f[d]=_.withNodes(C2(_.nodes,C,w))}else f[d]=_.withNodes([w,..._.nodes]);return new Mn(f)}indexOfOrThrow(n){let i=this.columns.findIndex(o=>o.id===n);if(i===-1)throw Error(`Column ${n} not found. Possible values: ${this.getColumnIds().join(", ")}`);return i}moveColumn(n,i){if(n===i)return this;let o=this.indexOfOrThrow(n),s=i==="_left_"?o-1:i==="_right_"?o+1:this.indexOfOrThrow(i);return W_(o,s),new Mn(Rl([...this.columns],o,s))}moveToNewColumn(n){let i=this.findWithId(n),o=this.columns.map(c=>c.id===i.id?c.delete(n):c),s=yo.from([n]);return new Mn([...o,s])}findWithId(n){let i=this.columns.find(o=>o.inOrderIds.includes(n));if(!i)throw Pe.log(`Possible values: ${this.columns.map(o=>o.inOrderIds).join(", ")}`),Error(`Cell ${n} not found in any column`);return i}transformWithCellId(n,i){let o=!1,s=this.columns.map(c=>{if(c.inOrderIds.includes(n)){let d=i(c);return c!==d&&(o=!0),d}return c});return o?new Mn(s):this}insertId(n,i,o){return this.transform(i,s=>s.insert(n,o))}deleteById(n){return this.transformWithCellId(n,i=>i.delete(n))}compact(){return this.columns.length===1||!this.columns.some(n=>n.nodes.length===0)?this:new Mn(this.columns.filter(n=>n.nodes.length>0))}transform(n,i){let o=this._columnMap.get(n);if(!o)return Pe.warn(`Column ${n} not found`),this;let s=i(o);return o===s?this:new Mn(this.columns.map(c=>c.id===n?s:c))}transformAll(n){let i=!1,o=this.columns.map(s=>{let c=n(s);return s.equals(c)||(i=!0),c});return i?new Mn(o):this}},Qn(tn.prototype,"isEmpty",[kh],Object.getOwnPropertyDescriptor(tn.prototype,"isEmpty"),tn.prototype),Qn(tn.prototype,"topLevelIds",[Ch],Object.getOwnPropertyDescriptor(tn.prototype,"topLevelIds"),tn.prototype),Qn(tn.prototype,"inOrderIds",[Sh],Object.getOwnPropertyDescriptor(tn.prototype,"inOrderIds"),tn.prototype),Qn(tn.prototype,"idLength",[Eh],Object.getOwnPropertyDescriptor(tn.prototype,"idLength"),tn.prototype),Qn(tn.prototype,"_columnMap",[Th],Object.getOwnPropertyDescriptor(tn.prototype,"_columnMap"),tn.prototype),Qn(tn.prototype,"getColumnIds",[Rh],Object.getOwnPropertyDescriptor(tn.prototype,"getColumnIds"),tn.prototype),tn);let ld,cd,ud,Oh,dd,Dh,Ph,Lh,Mh,Nh,Ah,Ih,fd,pd,jh,md,hd;ld=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var n;(function(o){o.Root="root",o.Text="text",o.Directive="directive",o.Comment="comment",o.Script="script",o.Style="style",o.Tag="tag",o.CDATA="cdata",o.Doctype="doctype"})(n=e.ElementType||(e.ElementType={}));function i(o){return o.type===n.Tag||o.type===n.Script||o.type===n.Style}e.isTag=i,e.Root=n.Root,e.Text=n.Text,e.Directive=n.Directive,e.Comment=n.Comment,e.Script=n.Script,e.Style=n.Style,e.Tag=n.Tag,e.CDATA=n.CDATA,e.Doctype=n.Doctype})),cd=ke((e=>{var n=e&&e.__extends||(function(){var P=function(I,$){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(de,fe){de.__proto__=fe}||function(de,fe){for(var be in fe)Object.prototype.hasOwnProperty.call(fe,be)&&(de[be]=fe[be])},P(I,$)};return function(I,$){if(typeof $!="function"&&$!==null)throw TypeError("Class extends value "+String($)+" is not a constructor or null");P(I,$);function de(){this.constructor=I}I.prototype=$===null?Object.create($):(de.prototype=$.prototype,new de)}})(),i=e&&e.__assign||function(){return i=Object.assign||function(P){for(var I,$=1,de=arguments.length;$<de;$++)for(var fe in I=arguments[$],I)Object.prototype.hasOwnProperty.call(I,fe)&&(P[fe]=I[fe]);return P},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=ld(),s=(function(){function P(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(P.prototype,"parentNode",{get:function(){return this.parent},set:function(I){this.parent=I},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"previousSibling",{get:function(){return this.prev},set:function(I){this.prev=I},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"nextSibling",{get:function(){return this.next},set:function(I){this.next=I},enumerable:!1,configurable:!0}),P.prototype.cloneNode=function(I){return I===void 0&&(I=!1),Q(this,I)},P})();e.Node=s;var c=(function(P){n(I,P);function I($){var de=P.call(this)||this;return de.data=$,de}return Object.defineProperty(I.prototype,"nodeValue",{get:function(){return this.data},set:function($){this.data=$},enumerable:!1,configurable:!0}),I})(s);e.DataNode=c;var d=(function(P){n(I,P);function I(){var $=P!==null&&P.apply(this,arguments)||this;return $.type=o.ElementType.Text,$}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),I})(c);e.Text=d;var f=(function(P){n(I,P);function I(){var $=P!==null&&P.apply(this,arguments)||this;return $.type=o.ElementType.Comment,$}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),I})(c);e.Comment=f;var m=(function(P){n(I,P);function I($,de){var fe=P.call(this,de)||this;return fe.name=$,fe.type=o.ElementType.Directive,fe}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),I})(c);e.ProcessingInstruction=m;var g=(function(P){n(I,P);function I($){var de=P.call(this)||this;return de.children=$,de}return Object.defineProperty(I.prototype,"firstChild",{get:function(){return this.children[0]??null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"childNodes",{get:function(){return this.children},set:function($){this.children=$},enumerable:!1,configurable:!0}),I})(s);e.NodeWithChildren=g;var w=(function(P){n(I,P);function I(){var $=P!==null&&P.apply(this,arguments)||this;return $.type=o.ElementType.CDATA,$}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),I})(g);e.CDATA=w;var _=(function(P){n(I,P);function I(){var $=P!==null&&P.apply(this,arguments)||this;return $.type=o.ElementType.Root,$}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),I})(g);e.Document=_;var C=(function(P){n(I,P);function I($,de,fe,be){fe===void 0&&(fe=[]),be===void 0&&(be=$==="script"?o.ElementType.Script:$==="style"?o.ElementType.Style:o.ElementType.Tag);var Y=P.call(this,fe)||this;return Y.name=$,Y.attribs=de,Y.type=be,Y}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tagName",{get:function(){return this.name},set:function($){this.name=$},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"attributes",{get:function(){var $=this;return Object.keys(this.attribs).map(function(de){var fe,be;return{name:de,value:$.attribs[de],namespace:(fe=$["x-attribsNamespace"])==null?void 0:fe[de],prefix:(be=$["x-attribsPrefix"])==null?void 0:be[de]}})},enumerable:!1,configurable:!0}),I})(g);e.Element=C;function E(P){return(0,o.isTag)(P)}e.isTag=E;function T(P){return P.type===o.ElementType.CDATA}e.isCDATA=T;function A(P){return P.type===o.ElementType.Text}e.isText=A;function V(P){return P.type===o.ElementType.Comment}e.isComment=V;function H(P){return P.type===o.ElementType.Directive}e.isDirective=H;function W(P){return P.type===o.ElementType.Root}e.isDocument=W;function N(P){return Object.prototype.hasOwnProperty.call(P,"children")}e.hasChildren=N;function Q(P,I){I===void 0&&(I=!1);var $;if(A(P))$=new d(P.data);else if(V(P))$=new f(P.data);else if(E(P)){var de=I?pe(P.children):[],fe=new C(P.name,i({},P.attribs),de);de.forEach(function(Ee){return Ee.parent=fe}),P.namespace!=null&&(fe.namespace=P.namespace),P["x-attribsNamespace"]&&(fe["x-attribsNamespace"]=i({},P["x-attribsNamespace"])),P["x-attribsPrefix"]&&(fe["x-attribsPrefix"]=i({},P["x-attribsPrefix"])),$=fe}else if(T(P)){var de=I?pe(P.children):[],be=new w(de);de.forEach(function(ie){return ie.parent=be}),$=be}else if(W(P)){var de=I?pe(P.children):[],Y=new _(de);de.forEach(function(ie){return ie.parent=Y}),P["x-mode"]&&(Y["x-mode"]=P["x-mode"]),$=Y}else if(H(P)){var we=new m(P.name,P.data);P["x-name"]!=null&&(we["x-name"]=P["x-name"],we["x-publicId"]=P["x-publicId"],we["x-systemId"]=P["x-systemId"]),$=we}else throw Error(`Not implemented yet: ${P.type}`);return $.startIndex=P.startIndex,$.endIndex=P.endIndex,P.sourceCodeLocation!=null&&($.sourceCodeLocation=P.sourceCodeLocation),$}e.cloneNode=Q;function pe(P){for(var I=P.map(function(de){return Q(de,!0)}),$=1;$<I.length;$++)I[$].prev=I[$-1],I[$-1].next=I[$];return I}})),ud=ke((e=>{var n=e&&e.__createBinding||(Object.create?(function(f,m,g,w){w===void 0&&(w=g);var _=Object.getOwnPropertyDescriptor(m,g);(!_||("get"in _?!m.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(f,w,_)}):(function(f,m,g,w){w===void 0&&(w=g),f[w]=m[g]})),i=e&&e.__exportStar||function(f,m){for(var g in f)g!=="default"&&!Object.prototype.hasOwnProperty.call(m,g)&&n(m,f,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var o=ld(),s=cd();i(cd(),e);var c={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},d=(function(){function f(m,g,w){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof g=="function"&&(w=g,g=c),typeof m=="object"&&(g=m,m=void 0),this.callback=m??null,this.options=g??c,this.elementCB=w??null}return f.prototype.onparserinit=function(m){this.parser=m},f.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},f.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},f.prototype.onerror=function(m){this.handleCallback(m)},f.prototype.onclosetag=function(){this.lastNode=null;var m=this.tagStack.pop();this.options.withEndIndices&&(m.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(m)},f.prototype.onopentag=function(m,g){var w=this.options.xmlMode?o.ElementType.Tag:void 0,_=new s.Element(m,g,void 0,w);this.addNode(_),this.tagStack.push(_)},f.prototype.ontext=function(m){var g=this.lastNode;if(g&&g.type===o.ElementType.Text)g.data+=m,this.options.withEndIndices&&(g.endIndex=this.parser.endIndex);else{var w=new s.Text(m);this.addNode(w),this.lastNode=w}},f.prototype.oncomment=function(m){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment){this.lastNode.data+=m;return}var g=new s.Comment(m);this.addNode(g),this.lastNode=g},f.prototype.oncommentend=function(){this.lastNode=null},f.prototype.oncdatastart=function(){var m=new s.Text(""),g=new s.CDATA([m]);this.addNode(g),m.parent=g,this.lastNode=m},f.prototype.oncdataend=function(){this.lastNode=null},f.prototype.onprocessinginstruction=function(m,g){var w=new s.ProcessingInstruction(m,g);this.addNode(w)},f.prototype.handleCallback=function(m){if(typeof this.callback=="function")this.callback(m,this.dom);else if(m)throw m},f.prototype.addNode=function(m){var g=this.tagStack[this.tagStack.length-1],w=g.children[g.children.length-1];this.options.withStartIndices&&(m.startIndex=this.parser.startIndex),this.options.withEndIndices&&(m.endIndex=this.parser.endIndex),g.children.push(m),w&&(m.prev=w,w.next=m),m.parent=g,this.lastNode=null},f})();e.DomHandler=d,e.default=d})),Oh=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CARRIAGE_RETURN_PLACEHOLDER_REGEX=e.CARRIAGE_RETURN_PLACEHOLDER=e.CARRIAGE_RETURN_REGEX=e.CARRIAGE_RETURN=e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES="animateMotion.animateTransform.clipPath.feBlend.feColorMatrix.feComponentTransfer.feComposite.feConvolveMatrix.feDiffuseLighting.feDisplacementMap.feDropShadow.feFlood.feFuncA.feFuncB.feFuncG.feFuncR.feGaussianBlur.feImage.feMerge.feMergeNode.feMorphology.feOffset.fePointLight.feSpecularLighting.feSpotLight.feTile.feTurbulence.foreignObject.linearGradient.radialGradient.textPath".split("."),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(n,i){return n[i.toLowerCase()]=i,n},{}),e.CARRIAGE_RETURN="\r",e.CARRIAGE_RETURN_REGEX=new RegExp(e.CARRIAGE_RETURN,"g"),e.CARRIAGE_RETURN_PLACEHOLDER=`__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_${Date.now()}__`,e.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(e.CARRIAGE_RETURN_PLACEHOLDER,"g")})),dd=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.formatAttributes=s,e.escapeSpecialCharacters=d,e.revertEscapedCharacters=f,e.formatDOM=m;var n=ud(),i=Oh();function o(g){return i.CASE_SENSITIVE_TAG_NAMES_MAP[g]}function s(g){for(var w={},_=0,C=g.length;_<C;_++){var E=g[_];w[E.name]=E.value}return w}function c(g){return g=g.toLowerCase(),o(g)||g}function d(g){return g.replace(i.CARRIAGE_RETURN_REGEX,i.CARRIAGE_RETURN_PLACEHOLDER)}function f(g){return g.replace(i.CARRIAGE_RETURN_PLACEHOLDER_REGEX,i.CARRIAGE_RETURN)}function m(g,w,_){w===void 0&&(w=null);for(var C=[],E,T=0,A=g.length;T<A;T++){var V=g[T];switch(V.nodeType){case 1:var H=c(V.nodeName);E=new n.Element(H,s(V.attributes)),E.children=m(H==="template"?V.content.childNodes:V.childNodes,E);break;case 3:E=new n.Text(f(V.nodeValue));break;case 8:E=new n.Comment(V.nodeValue);break;default:continue}var W=C[T-1]||null;W&&(W.next=E),E.parent=w,E.prev=W,E.next=null,C.push(E)}return _&&(E=new n.ProcessingInstruction(_.substring(0,_.indexOf(" ")).toLowerCase(),_),E.next=C[0]||null,E.parent=w,C.unshift(E),C[1]&&(C[1].prev=C[0])),C}})),Dh=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=V;var n=dd(),i="html",o="head",s="body",c=/<([a-zA-Z]+[0-9]?)/,d=/<head[^]*>/i,f=/<body[^]*>/i,m=function(H,W){throw Error("This browser does not support `document.implementation.createHTMLDocument`")},g=function(H,W){throw Error("This browser does not support `DOMParser.prototype.parseFromString`")},w=typeof window=="object"&&window.DOMParser;if(typeof w=="function"){var _=new w,C="text/html";g=function(H,W){return W&&(H=`<${W}>${H}</${W}>`),_.parseFromString(H,C)},m=g}if(typeof document=="object"&&document.implementation){var E=document.implementation.createHTMLDocument();m=function(H,W){if(W){var N=E.documentElement.querySelector(W);return N&&(N.innerHTML=H),E}return E.documentElement.innerHTML=H,E}}var T=typeof document=="object"&&document.createElement("template"),A;T&&T.content&&(A=function(H){return T.innerHTML=H,T.content.childNodes});function V(H){var W,N;H=(0,n.escapeSpecialCharacters)(H);var Q=H.match(c),pe=Q&&Q[1]?Q[1].toLowerCase():"";switch(pe){case i:var P=g(H);if(!d.test(H)){var $=P.querySelector(o);(W=$==null?void 0:$.parentNode)==null||W.removeChild($)}if(!f.test(H)){var $=P.querySelector(s);(N=$==null?void 0:$.parentNode)==null||N.removeChild($)}return P.querySelectorAll(i);case o:case s:var I=m(H).querySelectorAll(pe);return f.test(H)&&d.test(H)?I[0].parentNode.childNodes:I;default:if(A)return A(H);var $=m(H,s).querySelector(s);return $.childNodes}}})),Ph=ke((e=>{var n=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var i=n(Dh()),o=dd(),s=/<(![a-zA-Z\s]+)>/;function c(d){if(typeof d!="string")throw TypeError("First argument must be a string");if(!d)return[];var f=d.match(s),m=f?f[1]:void 0;return(0,o.formatDOM)((0,i.default)(d),null,m)}})),Lh=ke((e=>{e.SAME=0,e.CAMELCASE=1,e.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}})),Mh=ke((e=>{var n=0,i=1,o=2,s=3,c=4,d=5,f=6;function m(N){return w.hasOwnProperty(N)?w[N]:null}function g(N,Q,pe,P,I,$,de){this.acceptsBooleans=Q===o||Q===s||Q===c,this.attributeName=P,this.attributeNamespace=I,this.mustUseProperty=pe,this.propertyName=N,this.type=Q,this.sanitizeURL=$,this.removeEmptyString=de}var w={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(N=>{w[N]=new g(N,n,!1,N,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([N,Q])=>{w[N]=new g(N,i,!1,Q,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(N=>{w[N]=new g(N,o,!1,N.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(N=>{w[N]=new g(N,o,!1,N,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(N=>{w[N]=new g(N,s,!1,N.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(N=>{w[N]=new g(N,s,!0,N,null,!1,!1)}),["capture","download"].forEach(N=>{w[N]=new g(N,c,!1,N,null,!1,!1)}),["cols","rows","size","span"].forEach(N=>{w[N]=new g(N,f,!1,N,null,!1,!1)}),["rowSpan","start"].forEach(N=>{w[N]=new g(N,d,!1,N.toLowerCase(),null,!1,!1)});var _=/[\-\:]([a-z])/g,C=N=>N[1].toUpperCase();"accent-height.alignment-baseline.arabic-form.baseline-shift.cap-height.clip-path.clip-rule.color-interpolation.color-interpolation-filters.color-profile.color-rendering.dominant-baseline.enable-background.fill-opacity.fill-rule.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.glyph-name.glyph-orientation-horizontal.glyph-orientation-vertical.horiz-adv-x.horiz-origin-x.image-rendering.letter-spacing.lighting-color.marker-end.marker-mid.marker-start.overline-position.overline-thickness.paint-order.panose-1.pointer-events.rendering-intent.shape-rendering.stop-color.stop-opacity.strikethrough-position.strikethrough-thickness.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke-width.text-anchor.text-decoration.text-rendering.underline-position.underline-thickness.unicode-bidi.unicode-range.units-per-em.v-alphabetic.v-hanging.v-ideographic.v-mathematical.vector-effect.vert-adv-y.vert-origin-x.vert-origin-y.word-spacing.writing-mode.xmlns:xlink.x-height".split(".").forEach(N=>{let Q=N.replace(_,C);w[Q]=new g(Q,i,!1,N,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(N=>{let Q=N.replace(_,C);w[Q]=new g(Q,i,!1,N,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(N=>{let Q=N.replace(_,C);w[Q]=new g(Q,i,!1,N,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(N=>{w[N]=new g(N,i,!1,N.toLowerCase(),null,!1,!1)});var E="xlinkHref";w[E]=new g("xlinkHref",i,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(N=>{w[N]=new g(N,i,!1,N.toLowerCase(),null,!0,!0)});var{CAMELCASE:T,SAME:A,possibleStandardNames:V}=Lh(),H=RegExp.prototype.test.bind(RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),W=Object.keys(V).reduce((N,Q)=>{let pe=V[Q];return pe===A?N[Q]=Q:pe===T?N[Q.toLowerCase()]=Q:N[Q]=pe,N},{});e.BOOLEAN=s,e.BOOLEANISH_STRING=o,e.NUMERIC=d,e.OVERLOADED_BOOLEAN=c,e.POSITIVE_NUMERIC=f,e.RESERVED=n,e.STRING=i,e.getPropertyInfo=m,e.isCustomAttribute=H,e.possibleStandardNames=W})),Nh=ke(((e,n)=>{var i=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,o=/\n/g,s=/^\s*/,c=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,d=/^:\s*/,f=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,m=/^[;\s]*/,g=/^\s+|\s+$/g,w=`
`,_="/",C="*",E="",T="comment",A="declaration";n.exports=function(H,W){if(typeof H!="string")throw TypeError("First argument must be a string");if(!H)return[];W||(W={});var N=1,Q=1;function pe(X){var G=X.match(o);G&&(N+=G.length);var K=X.lastIndexOf(w);Q=~K?X.length-K:Q+X.length}function P(){var X={line:N,column:Q};return function(G){return G.position=new I(X),be(),G}}function I(X){this.start=X,this.end={line:N,column:Q},this.source=W.source}I.prototype.content=H;var $=[];function de(X){var G=Error(W.source+":"+N+":"+Q+": "+X);if(G.reason=X,G.filename=W.source,G.line=N,G.column=Q,G.source=H,W.silent)$.push(G);else throw G}function fe(X){var G=X.exec(H);if(G){var K=G[0];return pe(K),H=H.slice(K.length),G}}function be(){fe(s)}function Y(X){var G;for(X||(X=[]);G=we();)G!==!1&&X.push(G);return X}function we(){var X=P();if(!(_!=H.charAt(0)||C!=H.charAt(1))){for(var G=2;E!=H.charAt(G)&&(C!=H.charAt(G)||_!=H.charAt(G+1));)++G;if(G+=2,E===H.charAt(G-1))return de("End of comment missing");var K=H.slice(2,G-2);return Q+=2,pe(K),H=H.slice(G),Q+=2,X({type:T,comment:K})}}function Ee(){var X=P(),G=fe(c);if(G){if(we(),!fe(d))return de("property missing ':'");var K=fe(f),Le=X({type:A,property:V(G[0].replace(i,E)),value:K?V(K[0].replace(i,E)):E});return fe(m),Le}}function ie(){var X=[];Y(X);for(var G;G=Ee();)G!==!1&&(X.push(G),Y(X));return X}return be(),ie()};function V(H){return H?H.replace(g,E):E}})),Ah=ke((e=>{var n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n(Nh());function o(s,c){var d=null;if(!s||typeof s!="string")return d;var f=(0,i.default)(s),m=typeof c=="function";return f.forEach(function(g){if(g.type==="declaration"){var w=g.property,_=g.value;m?c(w,_,g):_&&(d||(d={}),d[w]=_)}}),d}})),Ih=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=/^--[a-zA-Z0-9_-]+$/,i=/-([a-z])/g,o=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,c=/^-(ms)-/,d=function(g){return!g||o.test(g)||n.test(g)},f=function(g,w){return w.toUpperCase()},m=function(g,w){return`${w}-`};e.camelCase=function(g,w){return w===void 0&&(w={}),d(g)?g:(g=g.toLowerCase(),g=w.reactCompat?g.replace(c,m):g.replace(s,m),g.replace(i,f))}})),rh=ke(((e,n)=>{var i=(e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}})(Ah()),o=Ih();function s(c,d){var f={};return!c||typeof c!="string"||(0,i.default)(c,function(m,g){m&&g&&(f[(0,o.camelCase)(m,d)]=g)}),f}s.default=s,n.exports=s})),fd=ke((e=>{var n=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=void 0,e.isCustomComponent=c,e.setStyleProp=f;var i=pu(),o=n(rh()),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function c(m,g){return m.includes("-")?!s.has(m):!!(g&&typeof g.is=="string")}var d={reactCompat:!0};function f(m,g){if(typeof m=="string"){if(!m.trim()){g.style={};return}try{g.style=(0,o.default)(m,d)}catch{g.style={}}}}e.PRESERVE_CUSTOM_ATTRIBUTES=Number(i.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]),e.canTextBeChildOfNode=function(m){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(m.name)},e.returnFirstArg=function(m){return m}})),pd=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var n=Mh(),i=fd(),o=["checked","value"],s=["input","select","textarea"],c={reset:!0,submit:!0};function d(m,g){m===void 0&&(m={});var w={},_=!!(m.type&&c[m.type]);for(var C in m){var E=m[C];if((0,n.isCustomAttribute)(C)){w[C]=E;continue}var T=C.toLowerCase(),A=f(T);if(A){var V=(0,n.getPropertyInfo)(A);switch(o.includes(A)&&s.includes(g)&&!_&&(A=f("default"+T)),w[A]=E,V&&V.type){case n.BOOLEAN:w[A]=!0;break;case n.OVERLOADED_BOOLEAN:E===""&&(w[A]=!0);break}continue}i.PRESERVE_CUSTOM_ATTRIBUTES&&(w[C]=E)}return(0,i.setStyleProp)(m.style,w),w}function f(m){return n.possibleStandardNames[m]}})),jh=ke((e=>{var n=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var i=pu(),o=n(pd()),s=fd(),c={cloneElement:i.cloneElement,createElement:i.createElement,isValidElement:i.isValidElement};function d(m,g){g===void 0&&(g={});for(var w=[],_=typeof g.replace=="function",C=g.transform||s.returnFirstArg,E=g.library||c,T=E.cloneElement,A=E.createElement,V=E.isValidElement,H=m.length,W=0;W<H;W++){var N=m[W];if(_){var Q=g.replace(N,W);if(V(Q)){H>1&&(Q=T(Q,{key:Q.key||W})),w.push(C(Q,N,W));continue}}if(N.type==="text"){var pe=!N.data.trim().length;if(pe&&N.parent&&!(0,s.canTextBeChildOfNode)(N.parent)||g.trim&&pe)continue;w.push(C(N.data,N,W));continue}var P=N,I={};f(P)?((0,s.setStyleProp)(P.attribs.style,P.attribs),I=P.attribs):P.attribs&&(I=(0,o.default)(P.attribs,P.name));var $=void 0;switch(N.type){case"script":case"style":N.children[0]&&(I.dangerouslySetInnerHTML={__html:N.children[0].data});break;case"tag":N.name==="textarea"&&N.children[0]?I.defaultValue=N.children[0].data:N.children&&N.children.length&&($=d(N.children,g));break;default:continue}H>1&&(I.key=W),w.push(C(A(N.name,I,$),N,W))}return w.length===1?w[0]:w}function f(m){return s.PRESERVE_CUSTOM_ATTRIBUTES&&m.type==="tag"&&(0,s.isCustomComponent)(m.name,m.attribs)}})),md=ke((e=>{var n=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0,e.default=d;var i=n(Ph());e.htmlToDOM=i.default,e.attributesToProps=n(pd()).default;var o=n(jh());e.domToReact=o.default;var s=ud();Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return s.Text}});var c={lowerCaseAttributeNames:!1};function d(f,m){if(typeof f!="string")throw TypeError("First argument must be a string");return f?(0,o.default)((0,i.default)(f,(m==null?void 0:m.htmlparser2)||c),m):[]}})),hd=Kt(md(),1),va=Kt(md(),1),ih=hd.default.default||hd.default;let Bl;Bl=(e,n)=>{let[i,...o]=n.split("."),s=(e.attribs.class||"").split(" ");return e.tagName===i&&o.every(c=>s.includes(c))},Vw=e=>{var n;return e&&Bl(e,"span.nb")&&e.firstChild instanceof va.Text&&((n=e.firstChild.nodeValue)==null?void 0:n.includes("__marimo__"))},eh=function(e){var n,i,o;if(e instanceof va.Element&&e.firstChild instanceof va.Text&&Bl(e,"span.nb")){let s=e.next;if(s&&s instanceof va.Text){let c=s.next;if(c&&c instanceof va.Element&&c.firstChild instanceof va.Text&&Bl(c,"span.m")){let d=Number.parseInt(c.firstChild.nodeValue||"0",10);if((n=e.firstChild.nodeValue)!=null&&n.includes("__marimo__")){let f=(i=/__marimo__cell_(\w+)_/.exec(e.firstChild.nodeValue))==null?void 0:i[1];if(f&&d)return{kind:"cell",cellId:f,lineNumber:d}}else{let f=(o=/"(.+?)"/.exec(e.firstChild.nodeValue))==null?void 0:o[1];if(f&&d)return{kind:"file",filePath:f,lineNumber:d}}}}}return null},Im=function(e){let n=[];return ih(e,{replace:i=>{let o=eh(i);if(o)return n.push(o),"dummy"}}),n};function qh(e){return n=>{let i=!1;for(let o of n)o&&(i=e(o)||i);return i}}const K_=qh(l4),Q_=qh(o4);Vu=function(e,n,i={}){let{preserveCursor:o=!0,effects:s,userEvent:c}=i,d=e.state.doc;if(d.toString()!==n)if(o&&e.hasFocus){let f=e.state.selection.main.head,m=d.lineAt(f),g=m.number,w=f-m.from,_=e.state.update({changes:{from:0,to:d.length,insert:n}}).state.doc,C;if(g<=_.lines){let E=_.line(g),T=E.length;C=E.from+Math.min(w,T)}else C=_.line(_.lines).to;e.dispatch({changes:{from:0,to:d.length,insert:n},selection:{anchor:C},effects:s,userEvent:c})}else e.dispatch({changes:{from:0,to:d.length,insert:n},effects:s,userEvent:c})},po=function(){return Tl.define({combine:e=>e[0]})};const zh=po(),Fh=po(),gd=po(),yd=po(),Bh=po();t_=function({completionConfig:e,hotkeys:n,placeholderType:i,lspConfig:o,diagnosticsConfig:s}){return[zh.of(e),Fh.of(n),gd.of(i),Bh.of({...o,diagnostics:s})]},zu=new hu;function G_(e){return Object.values(e.cellRuntime).some(n=>n.status==="running")}function J_(e){return Object.values(e.cellRuntime).filter(n=>n.status==="running"||n.status==="queued").length}function X_(e){return Bm(e).length>0}u_=function(e){return e.cellIds.inOrderIds.map(n=>e.cellData[n])};function Y_({cellHandles:e}){let n={};for(let[i,o]of ni.entries(e))o.current&&(n[i]=o.current.editorView);return n}Gm=function(e){let{cellIds:n,cellData:i}=e,o=[];for(let s of n.inOrderIds)i[s].config.disabled&&o.push(s);return o},Xm=function(e){let{cellIds:n,cellData:i}=e,o=[];for(let s of n.inOrderIds)i[s].config.disabled||o.push(s);return o};function Z_(e){return e.history.length>0}Iw=function(e,n){let i=e.cellIds.findWithId(n).getDescendants(n);return{stale:i.some(o=>{var s,c;return((s=e.cellRuntime[o])==null?void 0:s.staleInputs)||((c=e.cellData[o])==null?void 0:c.edited)}),errored:i.some(o=>{var s;return(s=e.cellRuntime[o])==null?void 0:s.errored}),runningOrQueued:i.some(o=>{var s,c;return((s=e.cellRuntime[o])==null?void 0:s.status)==="running"||((c=e.cellRuntime[o])==null?void 0:c.status)==="queued"})}},Bm=function(e){let{cellIds:n,cellData:i,cellRuntime:o}=e;return n.inOrderIds.filter(s=>Um({executionTime:o[s].runElapsedTimeMs??i[s].lastExecutionTime,status:o[s].status,errored:o[s].errored,interrupted:o[s].interrupted,stopped:o[s].stopped})||i[s].edited||o[s].interrupted||o[s].staleInputs&&!(o[s].status==="disabled-transitively"||i[s].config.disabled))},Um=function({executionTime:e,status:n,errored:i,interrupted:o,stopped:s}){return e===null&&n!=="queued"&&n!=="running"&&!(i||o||s)};let vo;Ot=Tl.define({combine:e=>e[0]}),uo=Tl.define({combine:e=>e[0]}),vo=ma.define(),Qu=async function(e){let{sendFormat:n}=Pi(),i=ni.mapValues(e,s=>oi(s)),o=await n({codes:i,lineLength:tm().formatting.line_length});for(let[s,c]of ni.entries(o.codes)){let d=s,f=i[d],m=e[d];m&&c!==f&&(m.state.facet(Ot).updateCellCode({cellId:d,code:c,formattingChange:!0}),hs(m,c))}},Yw=function(){return Qu(Y_(Bu()))};async function ex(e){let{formatDialect:n,duckdb:i}=await ue(async()=>{let{formatDialect:g,duckdb:w}=await import("./esm-C2Rj-Fx5.js").then(async _=>(await _.__tla,_));return{formatDialect:g,duckdb:w}},__vite__mapDeps([0,1]),import.meta.url),o=e.state.field(Tr),s=p4(e.state);if(o.type!=="sql"){Pe.error("Language adapter is not SQL");return}let c=n(e.state.doc.toString(),{dialect:i,tabWidth:s,useTabs:!1}),d=o.transformIn(c)[0],f=e.state.facet(Ot),m=e.state.facet(yd);f.updateCellCode({cellId:m,code:d,formattingChange:!0}),Vu(e,c,{effects:[vo.of(!0)]})}var tx=Kt(Ku(),1),B=Kt(UT(),1);function nx(e,n){let i=document.createElement("div"),o;return{dom:i,mount(){o=(0,tx.createRoot)(i),o.render((0,B.jsx)(a2,{store:st,children:(0,B.jsx)(n,{view:e})}))},update(){o==null||o.render((0,B.jsx)(a2,{store:st,children:(0,B.jsx)(n,{view:e})}))},destroy(){o==null||o.unmount()}}}function ge(e){return new _2(w2.define(e))}function Ii(e){return ue(()=>import("./dist-BRrW0SGe.js").then(async n=>(await n.__tla,n)),__vite__mapDeps([2,3,4,5]),import.meta.url).then(n=>n.sql({dialect:n[e]}))}var rx=[ce.of({name:"C",extensions:["c","h","ino"],load(){return ue(()=>import("./dist-Co504fmf.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([6,7,4]),import.meta.url).then(e=>e.cpp())}}),ce.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return ue(()=>import("./dist-Co504fmf.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([6,7,4]),import.meta.url).then(e=>e.cpp())}}),ce.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Ii("Cassandra")}}),ce.of({name:"CSS",extensions:["css"],load(){return ue(()=>import("./dist-BSmecKjR.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([8,9,4]),import.meta.url).then(e=>e.css())}}),ce.of({name:"Go",extensions:["go"],load(){return ue(()=>import("./dist-CceV9LPb.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([10,3,4,11]),import.meta.url).then(e=>e.go())}}),ce.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return ue(()=>import("./dist-DgX3BDVg.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([12,3,4,9,13,14]),import.meta.url).then(e=>e.html())}}),ce.of({name:"Java",extensions:["java"],load(){return ue(()=>import("./dist-Bdc9VPG4.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([15,16,4]),import.meta.url).then(e=>e.java())}}),ce.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return ue(()=>import("./dist-LdSx20m8.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript())}}),ce.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return ue(()=>import("./dist-gBwUhMPH.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([18,19,4]),import.meta.url).then(e=>e.json())}}),ce.of({name:"JSX",extensions:["jsx"],load(){return ue(()=>import("./dist-LdSx20m8.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript({jsx:!0}))}}),ce.of({name:"LESS",extensions:["less"],load(){return ue(()=>import("./dist-uIlVbhkb.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([20,9,4,21]),import.meta.url).then(e=>e.less())}}),ce.of({name:"Liquid",extensions:["liquid"],load(){return ue(()=>import("./dist-BSAvKBoB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([22,3,4,9,13,14,23]),import.meta.url).then(e=>e.liquid())}}),ce.of({name:"MariaDB SQL",load(){return Ii("MariaSQL")}}),ce.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return ue(()=>import("./dist-TYtvpSCM.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([24,3,4,9,13,14,25]),import.meta.url).then(e=>e.markdown())}}),ce.of({name:"MS SQL",load(){return Ii("MSSQL")}}),ce.of({name:"MySQL",load(){return Ii("MySQL")}}),ce.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return ue(()=>import("./dist-DJIhm_LE.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([26,3,4,9,13,14,27]),import.meta.url).then(e=>e.php())}}),ce.of({name:"PLSQL",extensions:["pls"],load(){return Ii("PLSQL")}}),ce.of({name:"PostgreSQL",load(){return Ii("PostgreSQL")}}),ce.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return ue(()=>import("./dist-CMrJe5Gj.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([28,3,4,29]),import.meta.url).then(e=>e.python())}}),ce.of({name:"Rust",extensions:["rs"],load(){return ue(()=>import("./dist-Dw2dx8LM.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([30,31,4]),import.meta.url).then(e=>e.rust())}}),ce.of({name:"Sass",extensions:["sass"],load(){return ue(()=>import("./dist-Dg8xVIvq.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([32,9,4,33]),import.meta.url).then(e=>e.sass({indented:!0}))}}),ce.of({name:"SCSS",extensions:["scss"],load(){return ue(()=>import("./dist-Dg8xVIvq.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([32,9,4,33]),import.meta.url).then(e=>e.sass())}}),ce.of({name:"SQL",extensions:["sql"],load(){return Ii("StandardSQL")}}),ce.of({name:"SQLite",load(){return Ii("SQLite")}}),ce.of({name:"TSX",extensions:["tsx"],load(){return ue(()=>import("./dist-LdSx20m8.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript({jsx:!0,typescript:!0}))}}),ce.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return ue(()=>import("./dist-LdSx20m8.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript({typescript:!0}))}}),ce.of({name:"WebAssembly",extensions:["wat","wast"],load(){return ue(()=>import("./dist-BrGWvyIR.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([34,35,4]),import.meta.url).then(e=>e.wast())}}),ce.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return ue(()=>import("./dist-DT9cGV6-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([36,37,4]),import.meta.url).then(e=>e.xml())}}),ce.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return ue(()=>import("./dist-Cr1PgnSt.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([38,39,4]),import.meta.url).then(e=>e.yaml())}}),ce.of({name:"APL",extensions:["dyalog","apl"],load(){return ue(()=>import("./apl-DTj88TqA.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([40,41]),import.meta.url).then(e=>ge(e.apl))}}),ce.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return ue(()=>import("./asciiarmor-T_gIwVlY.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([42,43]),import.meta.url).then(e=>ge(e.asciiArmor))}}),ce.of({name:"ASN.1",extensions:["asn","asn1"],load(){return ue(()=>import("./asn1-DF3TNf1X.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([44,45]),import.meta.url).then(e=>ge(e.asn1({})))}}),ce.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return ue(()=>import("./asterisk-BmW8ONvJ.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.asterisk))}}),ce.of({name:"Brainfuck",extensions:["b","bf"],load(){return ue(()=>import("./brainfuck-C7rjOLuu.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([46,47]),import.meta.url).then(e=>ge(e.brainfuck))}}),ce.of({name:"Cobol",extensions:["cob","cpy"],load(){return ue(()=>import("./cobol-B5oyobl1.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([48,49]),import.meta.url).then(e=>ge(e.cobol))}}),ce.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return ue(()=>import("./clike-BtFDvOWk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>ge(e.csharp))}}),ce.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return ue(()=>import("./clojure-QZ5wL-nl.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([52,53]),import.meta.url).then(e=>ge(e.clojure))}}),ce.of({name:"ClojureScript",extensions:["cljs"],load(){return ue(()=>import("./clojure-QZ5wL-nl.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([52,53]),import.meta.url).then(e=>ge(e.clojure))}}),ce.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return ue(()=>import("./css-DvQCC9AA.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([54,55]),import.meta.url).then(e=>ge(e.gss))}}),ce.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return ue(()=>import("./cmake-QNBzgXlP.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([56,57]),import.meta.url).then(e=>ge(e.cmake))}}),ce.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return ue(()=>import("./coffeescript-D4DQ-Vnp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([58,59]),import.meta.url).then(e=>ge(e.coffeeScript))}}),ce.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return ue(()=>import("./commonlisp-QaQhMIOr.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([60,61]),import.meta.url).then(e=>ge(e.commonLisp))}}),ce.of({name:"Cypher",extensions:["cyp","cypher"],load(){return ue(()=>import("./cypher-KxKIGgId.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([62,63]),import.meta.url).then(e=>ge(e.cypher))}}),ce.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return ue(()=>import("./python-BTjZ6EYj.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([64,65]),import.meta.url).then(e=>ge(e.cython))}}),ce.of({name:"Crystal",extensions:["cr"],load(){return ue(()=>import("./crystal-BqASwV5d.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([66,67]),import.meta.url).then(e=>ge(e.crystal))}}),ce.of({name:"D",extensions:["d"],load(){return ue(()=>import("./d-W0AlkFGb.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([68,69]),import.meta.url).then(e=>ge(e.d))}}),ce.of({name:"Dart",extensions:["dart"],load(){return ue(()=>import("./clike-BtFDvOWk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>ge(e.dart))}}),ce.of({name:"diff",extensions:["diff","patch"],load(){return ue(()=>import("./diff-BMRaNaeu.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([70,71]),import.meta.url).then(e=>ge(e.diff))}}),ce.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return ue(()=>import("./dockerfile-Dw8NUrfz.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([72,73]),import.meta.url).then(e=>ge(e.dockerFile))}}),ce.of({name:"DTD",extensions:["dtd"],load(){return ue(()=>import("./dtd-D9nXsbOM.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([74,75]),import.meta.url).then(e=>ge(e.dtd))}}),ce.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return ue(()=>import("./dylan-ZIPoJWbs.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([76,77]),import.meta.url).then(e=>ge(e.dylan))}}),ce.of({name:"EBNF",load(){return ue(()=>import("./ebnf-IJgTVUhz.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.ebnf))}}),ce.of({name:"ECL",extensions:["ecl"],load(){return ue(()=>import("./ecl-BMixGnl9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([78,79]),import.meta.url).then(e=>ge(e.ecl))}}),ce.of({name:"edn",extensions:["edn"],load(){return ue(()=>import("./clojure-QZ5wL-nl.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([52,53]),import.meta.url).then(e=>ge(e.clojure))}}),ce.of({name:"Eiffel",extensions:["e"],load(){return ue(()=>import("./eiffel-DxAOWKt9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([80,81]),import.meta.url).then(e=>ge(e.eiffel))}}),ce.of({name:"Elm",extensions:["elm"],load(){return ue(()=>import("./elm-CBHgN_CF.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([82,83]),import.meta.url).then(e=>ge(e.elm))}}),ce.of({name:"Erlang",extensions:["erl"],load(){return ue(()=>import("./erlang-C_oHuVW4.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([84,85]),import.meta.url).then(e=>ge(e.erlang))}}),ce.of({name:"Esper",load(){return ue(()=>import("./sql-YiW4DMfv.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.esper))}}),ce.of({name:"Factor",extensions:["factor"],load(){return ue(()=>import("./factor-CfbZoI7D.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([86,87,73]),import.meta.url).then(e=>ge(e.factor))}}),ce.of({name:"FCL",load(){return ue(()=>import("./fcl-xvmSXSxO.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.fcl))}}),ce.of({name:"Forth",extensions:["forth","fth","4th"],load(){return ue(()=>import("./forth-CcK61a0D.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([88,89]),import.meta.url).then(e=>ge(e.forth))}}),ce.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return ue(()=>import("./fortran-3WkkymLB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([90,91]),import.meta.url).then(e=>ge(e.fortran))}}),ce.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return ue(()=>import("./mllike-D_MI-7Pl.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([92,93]),import.meta.url).then(e=>ge(e.fSharp))}}),ce.of({name:"Gas",extensions:["s"],load(){return ue(()=>import("./gas-BrXtZDBX.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([94,95]),import.meta.url).then(e=>ge(e.gas))}}),ce.of({name:"Gherkin",extensions:["feature"],load(){return ue(()=>import("./gherkin-DrYIXbW3.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([96,97]),import.meta.url).then(e=>ge(e.gherkin))}}),ce.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return ue(()=>import("./groovy-iNiJ0g_b.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([98,99]),import.meta.url).then(e=>ge(e.groovy))}}),ce.of({name:"Haskell",extensions:["hs"],load(){return ue(()=>import("./haskell-D0JdaR6a.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([100,101]),import.meta.url).then(e=>ge(e.haskell))}}),ce.of({name:"Haxe",extensions:["hx"],load(){return ue(()=>import("./haxe-BeoM2hcB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([102,103]),import.meta.url).then(e=>ge(e.haxe))}}),ce.of({name:"HXML",extensions:["hxml"],load(){return ue(()=>import("./haxe-BeoM2hcB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([102,103]),import.meta.url).then(e=>ge(e.hxml))}}),ce.of({name:"HTTP",load(){return ue(()=>import("./http-C273gOqd.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.http))}}),ce.of({name:"IDL",extensions:["pro"],load(){return ue(()=>import("./idl-9mEkV8-c.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([104,105]),import.meta.url).then(e=>ge(e.idl))}}),ce.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return ue(()=>import("./javascript-aId7rwTw.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([106,107]),import.meta.url).then(e=>ge(e.jsonld))}}),ce.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return ue(()=>import("./jinja2-CZnfCQKw.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([108,109]),import.meta.url).then(e=>ge(e.jinja2))}}),ce.of({name:"Julia",extensions:["jl"],load(){return ue(()=>import("./julia-C6vvhNwH.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([110,111]),import.meta.url).then(e=>ge(e.julia))}}),ce.of({name:"Kotlin",extensions:["kt","kts"],load(){return ue(()=>import("./clike-BtFDvOWk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>ge(e.kotlin))}}),ce.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return ue(()=>import("./livescript-Dg5afykg.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([112,113]),import.meta.url).then(e=>ge(e.liveScript))}}),ce.of({name:"Lua",extensions:["lua"],load(){return ue(()=>import("./lua-C5BDvICv.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([114,115]),import.meta.url).then(e=>ge(e.lua))}}),ce.of({name:"mIRC",extensions:["mrc"],load(){return ue(()=>import("./mirc-QWUmCSos.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([116,117]),import.meta.url).then(e=>ge(e.mirc))}}),ce.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return ue(()=>import("./mathematica-n_-5RvaT.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([118,119]),import.meta.url).then(e=>ge(e.mathematica))}}),ce.of({name:"Modelica",extensions:["mo"],load(){return ue(()=>import("./modelica-Dl62cYK5.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([120,121]),import.meta.url).then(e=>ge(e.modelica))}}),ce.of({name:"MUMPS",extensions:["mps"],load(){return ue(()=>import("./mumps-3qoCnhwO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([122,123]),import.meta.url).then(e=>ge(e.mumps))}}),ce.of({name:"Mbox",extensions:["mbox"],load(){return ue(()=>import("./mbox-DgKzwAT4.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([124,125]),import.meta.url).then(e=>ge(e.mbox))}}),ce.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return ue(()=>import("./nginx-CZdAI3Mx.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.nginx))}}),ce.of({name:"NSIS",extensions:["nsh","nsi"],load(){return ue(()=>import("./nsis-CoKhpciQ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([126,127,73]),import.meta.url).then(e=>ge(e.nsis))}}),ce.of({name:"NTriples",extensions:["nt","nq"],load(){return ue(()=>import("./ntriples-ClSZizn9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([128,129]),import.meta.url).then(e=>ge(e.ntriples))}}),ce.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return ue(()=>import("./clike-BtFDvOWk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>ge(e.objectiveC))}}),ce.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return ue(()=>import("./clike-BtFDvOWk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>ge(e.objectiveCpp))}}),ce.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return ue(()=>import("./mllike-D_MI-7Pl.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([92,93]),import.meta.url).then(e=>ge(e.oCaml))}}),ce.of({name:"Octave",extensions:["m"],load(){return ue(()=>import("./octave-DxUsnA7F.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([130,131]),import.meta.url).then(e=>ge(e.octave))}}),ce.of({name:"Oz",extensions:["oz"],load(){return ue(()=>import("./oz-CzCtTyyV.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([132,133]),import.meta.url).then(e=>ge(e.oz))}}),ce.of({name:"Pascal",extensions:["p","pas"],load(){return ue(()=>import("./pascal-tgO3Zlcz.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([134,135]),import.meta.url).then(e=>ge(e.pascal))}}),ce.of({name:"Perl",extensions:["pl","pm"],load(){return ue(()=>import("./perl-Bf62IaJU.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([136,137]),import.meta.url).then(e=>ge(e.perl))}}),ce.of({name:"Pig",extensions:["pig"],load(){return ue(()=>import("./pig-Cej8Ilh9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([138,139]),import.meta.url).then(e=>ge(e.pig))}}),ce.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return ue(()=>import("./powershell-DieA5mCG.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([140,141]),import.meta.url).then(e=>ge(e.powerShell))}}),ce.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return ue(()=>import("./properties-CppMkIwd.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([142,143]),import.meta.url).then(e=>ge(e.properties))}}),ce.of({name:"ProtoBuf",extensions:["proto"],load(){return ue(()=>import("./protobuf-Jrz5hIWD.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([144,145]),import.meta.url).then(e=>ge(e.protobuf))}}),ce.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return ue(()=>import("./pug-C5_8wrYh.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([146,107,147]),import.meta.url).then(e=>ge(e.pug))}}),ce.of({name:"Puppet",extensions:["pp"],load(){return ue(()=>import("./puppet-MTQlwqwQ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([148,149]),import.meta.url).then(e=>ge(e.puppet))}}),ce.of({name:"Q",extensions:["q"],load(){return ue(()=>import("./q-CmxPydPR.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([150,151]),import.meta.url).then(e=>ge(e.q))}}),ce.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return ue(()=>import("./r-DOepV3gi.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([152,153]),import.meta.url).then(e=>ge(e.r))}}),ce.of({name:"RPM Changes",load(){return ue(()=>import("./rpm-6WiaYU6Y.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([154,155]),import.meta.url).then(e=>ge(e.rpmChanges))}}),ce.of({name:"RPM Spec",extensions:["spec"],load(){return ue(()=>import("./rpm-6WiaYU6Y.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([154,155]),import.meta.url).then(e=>ge(e.rpmSpec))}}),ce.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return ue(()=>import("./ruby-B2UGlwq_.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([156,157]),import.meta.url).then(e=>ge(e.ruby))}}),ce.of({name:"SAS",extensions:["sas"],load(){return ue(()=>import("./sas-BoZexB_x.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([158,159]),import.meta.url).then(e=>ge(e.sas))}}),ce.of({name:"Scala",extensions:["scala"],load(){return ue(()=>import("./clike-BtFDvOWk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>ge(e.scala))}}),ce.of({name:"Scheme",extensions:["scm","ss"],load(){return ue(()=>import("./scheme-CN47FzRT.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([160,161]),import.meta.url).then(e=>ge(e.scheme))}}),ce.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return ue(()=>import("./shell-mSxytB6G.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([162,163]),import.meta.url).then(e=>ge(e.shell))}}),ce.of({name:"Sieve",extensions:["siv","sieve"],load(){return ue(()=>import("./sieve-lb_BpsP7.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([164,165]),import.meta.url).then(e=>ge(e.sieve))}}),ce.of({name:"Smalltalk",extensions:["st"],load(){return ue(()=>import("./smalltalk-CElREWxR.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([166,167]),import.meta.url).then(e=>ge(e.smalltalk))}}),ce.of({name:"Solr",load(){return ue(()=>import("./solr-Bf3icNd7.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.solr))}}),ce.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return ue(()=>import("./mllike-D_MI-7Pl.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([92,93]),import.meta.url).then(e=>ge(e.sml))}}),ce.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return ue(()=>import("./sparql-GVyy1sq5.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([168,169]),import.meta.url).then(e=>ge(e.sparql))}}),ce.of({name:"Spreadsheet",alias:["excel","formula"],load(){return ue(()=>import("./spreadsheet-x88sk-Wa.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.spreadsheet))}}),ce.of({name:"Squirrel",extensions:["nut"],load(){return ue(()=>import("./clike-BtFDvOWk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([50,51]),import.meta.url).then(e=>ge(e.squirrel))}}),ce.of({name:"Stylus",extensions:["styl"],load(){return ue(()=>import("./stylus-DN1n_Lmw.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([170,171]),import.meta.url).then(e=>ge(e.stylus))}}),ce.of({name:"Swift",extensions:["swift"],load(){return ue(()=>import("./swift-rbpzCp88.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([172,173]),import.meta.url).then(e=>ge(e.swift))}}),ce.of({name:"sTeX",load(){return ue(()=>import("./stex-DBaiELOw.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([174,175]),import.meta.url).then(e=>ge(e.stex))}}),ce.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return ue(()=>import("./stex-DBaiELOw.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([174,175]),import.meta.url).then(e=>ge(e.stex))}}),ce.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return ue(()=>import("./verilog-DeiEFAn-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([176,177]),import.meta.url).then(e=>ge(e.verilog))}}),ce.of({name:"Tcl",extensions:["tcl"],load(){return ue(()=>import("./tcl-BmWySpfS.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([178,179]),import.meta.url).then(e=>ge(e.tcl))}}),ce.of({name:"Textile",extensions:["textile"],load(){return ue(()=>import("./textile-BZN-WB6o.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([180,181]),import.meta.url).then(e=>ge(e.textile))}}),ce.of({name:"TiddlyWiki",load(){return ue(()=>import("./tiddlywiki-ZOmUIkdH.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.tiddlyWiki))}}),ce.of({name:"Tiki wiki",load(){return ue(()=>import("./tiki-C7IFIjhs.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.tiki))}}),ce.of({name:"TOML",extensions:["toml"],load(){return ue(()=>import("./toml-k066KBWj.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([182,183]),import.meta.url).then(e=>ge(e.toml))}}),ce.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return ue(()=>import("./troff-olNgoRb9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([184,185]),import.meta.url).then(e=>ge(e.troff))}}),ce.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return ue(()=>import("./ttcn-CZBQ6Lxk.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([186,187]),import.meta.url).then(e=>ge(e.ttcn))}}),ce.of({name:"TTCN_CFG",extensions:["cfg"],load(){return ue(()=>import("./ttcn-cfg-D2O2YNV0.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([188,189]),import.meta.url).then(e=>ge(e.ttcnCfg))}}),ce.of({name:"Turtle",extensions:["ttl"],load(){return ue(()=>import("./turtle-BxoKIi9X.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([190,191]),import.meta.url).then(e=>ge(e.turtle))}}),ce.of({name:"Web IDL",extensions:["webidl"],load(){return ue(()=>import("./webidl-BP8p2pGZ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([192,193]),import.meta.url).then(e=>ge(e.webIDL))}}),ce.of({name:"VB.NET",extensions:["vb"],load(){return ue(()=>import("./vb-DL3tvKAm.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([194,195]),import.meta.url).then(e=>ge(e.vb))}}),ce.of({name:"VBScript",extensions:["vbs"],load(){return ue(()=>import("./vbscript-jG9sQiaL.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([196,197]),import.meta.url).then(e=>ge(e.vbScript))}}),ce.of({name:"Velocity",extensions:["vtl"],load(){return ue(()=>import("./velocity-BbyKuuvi.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([198,199]),import.meta.url).then(e=>ge(e.velocity))}}),ce.of({name:"Verilog",extensions:["v"],load(){return ue(()=>import("./verilog-DeiEFAn-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([176,177]),import.meta.url).then(e=>ge(e.verilog))}}),ce.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return ue(()=>import("./vhdl-ngKwKaju.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([200,201]),import.meta.url).then(e=>ge(e.vhdl))}}),ce.of({name:"XQuery",extensions:["xy","xquery"],load(){return ue(()=>import("./xquery-BqygC_ze.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([202,203]),import.meta.url).then(e=>ge(e.xQuery))}}),ce.of({name:"Yacas",extensions:["ys"],load(){return ue(()=>import("./yacas-CoCRQpM8.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([204,205]),import.meta.url).then(e=>ge(e.yacas))}}),ce.of({name:"Z80",extensions:["z80"],load(){return ue(()=>import("./z80-DE7ESyLO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([206,207]),import.meta.url).then(e=>ge(e.z80))}}),ce.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return ue(()=>import("./mscgen-7vOsTXAD.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([208,209]),import.meta.url).then(e=>ge(e.mscgen))}}),ce.of({name:"X\xF9",extensions:["xu"],load(){return ue(()=>import("./mscgen-7vOsTXAD.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([208,209]),import.meta.url).then(e=>ge(e.xu))}}),ce.of({name:"MsGenny",extensions:["msgenny"],load(){return ue(()=>import("./mscgen-7vOsTXAD.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([208,209]),import.meta.url).then(e=>ge(e.msgenny))}}),ce.of({name:"Vue",extensions:["vue"],load(){return ue(()=>import("./dist-BqpTcT2-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([210,3,4,9,13,14,211]),import.meta.url).then(e=>e.vue())}}),ce.of({name:"Angular Template",load(){return ue(()=>import("./dist-DL_kpb11.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([212,3,4,9,13,14]),import.meta.url).then(e=>e.angular())}})],Vh=new WeakMap,ix=/(\n|\r\n?|\u2028|\u2029)/g,ax=/^\s*/,ox=/\S/,sx=Array.prototype.slice,vd=48,Hh=57,$h=97,lx=102,Wh=65,cx=70;Fl=function(e){if(typeof e=="string")return Qh([e])[0];if(typeof e=="function")return function(){let o=sx.call(arguments);return o[0]=Kh(o[0]),e.apply(this,o)};let n=Kh(e),i=Uh(n,0);for(let o=1;o<n.length;o++)i+=arguments[o]+Uh(n,o);return i};function Uh(e,n){let i=e[n];if(i===void 0)throw TypeError(`invalid cooked string at index ${n}`);return i}function Kh(e){let n=Vh.get(e);if(n)return n;let i=Qh(e.raw),o=i.map(dx);return Object.defineProperty(o,"raw",{value:Object.freeze(i)}),Object.freeze(o),Vh.set(e,o),o}function Qh(e){let n=e.map(s=>s.split(ix)),i;for(let s=0;s<n.length;s++){let c=n[s],d=s===0,f=s+1===n.length;if(d){if(c.length===1||c[0].length>0)throw Error("invalid content on opening line");c[1]=""}if(f){if(c.length===1||ox.test(c[c.length-1]))throw Error("invalid content on closing line");c[c.length-2]="",c[c.length-1]=""}for(let m=2;m<c.length;m+=2){let g=c[m],w=m+1===c.length&&!f,_=ax.exec(g)[0];if(!w&&_.length===g.length){c[m]="";continue}i=ux(_,i)}}let o=i?i.length:0;return n.map(s=>{let c=s[0];for(let d=1;d<s.length;d+=2){let f=s[d],m=s[d+1];c+=f+m.slice(o)}return c})}function ux(e,n){if(n===void 0||e===n)return e;let i=0;for(let o=Math.min(e.length,n.length);i<o&&e[i]===n[i];i++);return e.slice(0,i)}function dx(e){let n="",i=0,o=0;for(;(o=e.indexOf("\\",o))>-1;){if(n+=e.slice(i,o),++o===e.length)return;let s=e[o++];switch(s){case"b":n+="\b";break;case"t":n+="	";break;case"n":n+=`
`;break;case"v":n+="\v";break;case"f":n+="\f";break;case"r":n+="\r";break;case"\r":o<e.length&&e[o]===`
`&&++o;case`
`:case"\u2028":case"\u2029":break;case"0":if(Gh(e,o))return;n+="\0";break;case"x":{let c=bd(e,o,o+2);if(c===-1)return;o+=2,n+=String.fromCharCode(c);break}case"u":{let c;if(o<e.length&&e[o]==="{"){let d=e.indexOf("}",++o);if(d===-1)return;c=bd(e,o,d),o=d+1}else c=bd(e,o,o+4),o+=4;if(c===-1||c>1114111)return;n+=String.fromCodePoint(c);break}default:if(Gh(s,0))return;n+=s}i=o}return n+e.slice(i)}function Gh(e,n){let i=e.charCodeAt(n);return i>=vd&&i<=Hh}function bd(e,n,i){if(i>=e.length)return-1;let o=0;for(;n<i;n++){let s=fx(e.charCodeAt(n));if(s===-1)return-1;o=o*16+s}return o}function fx(e){return e>=vd&&e<=Hh?e-vd:e>=$h&&e<=lx?e-$h+10:e>=Wh&&e<=cx?e-Wh+10:-1}const Jh=["","f","r","fr","rf"];function px(e){try{return Fl(`
${e}
`).trim()}catch{return e}}function mx(e){return q4.parse(e)}var hx=new Set(["(","[","{",",",")","]","}"]);function gx(e,n){return e.name==="ArgList"?{args:yx(e),kwargs:vx(e,n)}:(console.warn(`Not an ArgList, name: ${e.name}`),{args:[],kwargs:[]})}function yx(e){var o;e.firstChild();let n=[],i=e.name;do if(i=e.name,!hx.has(i)){if(i==="VariableName"&&((o=e.node.nextSibling)==null?void 0:o.name)==="AssignOp"){e.prev();break}n.push(e.node)}while(e.nextSibling());return n}function vx(e,n){let i=[],o=e.name;do if(o=e.name,o==="VariableName"){let s=n.slice(e.from,e.to),c=e.node.nextSibling;if(!c||c.name!=="AssignOp")continue;let d=c.nextSibling;if(!d)continue;let f=n.slice(d.from,d.to).trim();i.push({key:s,value:f})}while(e.nextSibling());return i}function bx(e,n){if(e.name==="String"){let i=n.slice(e.from,e.to);return i.startsWith('r"""')||i.startsWith("r'''")?i.slice(4,-3):i.startsWith('"""')||i.startsWith("'''")?i.slice(3,-3):i.startsWith('r"')||i.startsWith("r'")?i.slice(2,-1):i.slice(1,-1)}if(e.name==="FormatString"){let i=n.slice(e.from,e.to);return i.startsWith('f"""')||i.startsWith("f'''")?i.slice(4,-3):i.startsWith('rf"""')||i.startsWith("rf'''")||i.startsWith('fr"""')||i.startsWith("fr'''")?i.slice(5,-3):i.startsWith('r"""')||i.startsWith("r'''")?i.slice(4,-3):i.startsWith('f"')||i.startsWith("f'")?i.slice(2,-1):i.startsWith('rf"')||i.startsWith("rf'")||i.startsWith('fr"')||i.startsWith("fr'")?i.slice(3,-1):(i.startsWith('r"')||i.startsWith("r'"),i.slice(2,-1))}return null}function wx(e){return e===""?0:e.startsWith('rf"""')||e.startsWith("rf'''")||e.startsWith('fr"""')||e.startsWith("fr'''")?5:e.startsWith('f"""')||e.startsWith("f'''")||e.startsWith('r"""')||e.startsWith("r'''")?4:e.startsWith('"""')||e.startsWith("'''")||e.startsWith("rf'")||e.startsWith('rf"')||e.startsWith("fr'")||e.startsWith('fr"')?3:e.startsWith("f'")||e.startsWith('f"')||e.startsWith("r'")||e.startsWith('r"')?2:e.startsWith("'")||e.startsWith('"')?1:0}function _x(e){let n=[...Jh].sort((i,o)=>o.length-i.length);for(let i of n)if(e.startsWith(i))return[i,e.slice(i.length)];return["",e]}function xx(e,n){return e.replaceAll(`\\${n}`,n)}var kx=[['"""','"""'],["'''","'''"],['"','"'],["'","'"]],Cx=Jh.flatMap(e=>kx.map(([n,i])=>[e+n,i])).map(([e,n])=>[e,RegExp(`^mo\\.md\\(\\s*${Xh(e)}(.*)${Xh(n)}\\s*\\)$`,"s")]);function Xh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Yh=class{constructor(){Ce(this,"type","markdown");Ce(this,"defaultCode",`mo.md(r"""
""")`);Ce(this,"defaultMetadata",{quotePrefix:"r"})}static fromMarkdown(e){return`mo.md(r"""
${e}
""")`}transformIn(e){e=e.trim();let n={...this.defaultMetadata};if(e==="")return{code:"",offset:0,metadata:n};for(let[i,o]of Cx){let s=e.match(o);if(s){let c=s[1],[d,f]=_x(i);n.quotePrefix=d;let m=xx(c,f),g=e.indexOf(c);return{code:Fl(`
${m}
`).trim(),offset:g,metadata:n}}}return{code:e,offset:0,metadata:n}}transformOut(e,n){e===""&&(e=" ");let{quotePrefix:i}=n,o=e.replaceAll('"""',String.raw`\"""`),s=!e.includes(`
`),c=e.startsWith('"')||e.endsWith('"');if(s&&!c){let f=`mo.md(${i}"""`;return{code:f+o+'""")',offset:f.length}}let d=`mo.md(
    ${i}"""
`;return{code:d+o+`
"""
)`,offset:d.length+1}}isSupported(e){if(e=e.trim(),e==="")return!0;if(!e.startsWith("mo.md("))return!1;if(e==="mo.md()")return!0;let n=om.parser.parse(e),i=[{match:"Script"},{match:"ExpressionStatement"},{match:"CallExpression"},{match:"MemberExpression"},{match:"VariableName"},{match:"."},{match:"PropertyName"},{match:"ArgList"},{match:"("},{match:/String|FormatString/,stop:!0},{match:")"}],o=!0;return n.iterate({enter:s=>{let c=i.shift();if(c===void 0)return o=!1,!1;let d=c.match;return typeof d=="string"?(o&&(o=d===s.name),o&&!c.stop):(d.test(s.name)||(o=!1),o&&!c.stop)}}),o}},Sx=class{constructor(){Ce(this,"type","python");Ce(this,"defaultCode","");Ce(this,"defaultMetadata",{})}transformIn(e){return{code:e,offset:0,metadata:{}}}transformOut(e,n){return{code:e,offset:0}}isSupported(e){return!0}},wd="__marimo_duckdb",Zh=class{constructor(){Ce(this,"type","sql");Ce(this,"defaultMetadata",{dataframeName:"_df",quotePrefix:"f",commentLines:[],showOutput:!0,engine:wd})}get defaultCode(){return'_df = mo.sql(f"""SELECT * FROM """)'}static fromQuery(e){return`_df = mo.sql(f"""${e.trim()}""")`}transformIn(e){e=e.trim();let n={...this.defaultMetadata,commentLines:this.extractCommentLines(e)};if(!this.isSupported(e))return{code:e,offset:0,metadata:n};if(e==="")return{code:"",offset:0,metadata:n};let i=e0(e);return i?(n.dataframeName=i.dfName,n.showOutput=i.output??!0,n.engine=i.engine??wd,{code:Fl(`
${i.sqlString}
`).trim(),offset:i.startPosition,metadata:n}):{code:e,offset:0,metadata:n}}transformOut(e,n){let{quotePrefix:i,commentLines:o,showOutput:s,engine:c,dataframeName:d}=n,f=`${d} = mo.sql(
    ${i}"""
`,m=e.replaceAll('"""',String.raw`\"""`),g=`
    """${s?"":`,
    output=False`}${c===wd?"":`,
    engine=${c}`}
)`;return{code:[...o,f].join(`
`)+Tx(m)+g,offset:f.length+1}}isSupported(e){return e.trim()===""?!0:!e.includes("mo.sql")||e.split("mo.sql").length>2?!1:e0(e)!==null}extractCommentLines(e){let n=e.split(`
`),i=[];for(let o of n)if(o!=null&&o.startsWith("#"))i.push(o);else break;return i}};function Ex(e){do{if(e.name==="AssignStatement")return e.node;if(e.name!=="Comment")return null}while(e.next());return null}function e0(e){try{let n=mx(e).cursor();n.name==="Script"&&n.next();let i=Ex(n);if(!i||e.slice(i.to).trim().length>0)return null;let o=null,s=null,c,d,f=0,m=i.cursor();if(m.firstChild(),m.name==="VariableName"&&(o=e.slice(m.from,m.to)),!o)return null;for(;m.next();)if(m.name==="CallExpression"){let g=m.node.cursor(),w=!1;if(g.firstChild(),g.name==="MemberExpression"&&(w=e.slice(g.from,g.to)==="mo.sql"),!w)return null;for(;g.next();)if(g.name==="ArgList"){let{args:_,kwargs:C}=gx(g.node.cursor(),e);_.length===1&&(s=bx(_[0],e),f=_[0].from+wx(e.slice(_[0].from,_[0].to)));for(let{key:E,value:T}of C)switch(E){case"engine":c=T;break;case"output":d=T==="True";break}if(s==="")return{dfName:o,sqlString:"",engine:c,output:d,startPosition:f};break}}return!o||!s?null:{dfName:o,sqlString:px(s),engine:c,output:d,startPosition:f}}catch(n){return console.warn("Failed to parse SQL statement",n),null}}function Tx(e){return e.split(`
`).map(n=>n!=null&&n.trim()?`    ${n}`:n).join(`
`)}function Rx(e,n){return{get:()=>n.get(e),sub:i=>n.sub(e,()=>i(n.get(e)))}}function Ox(e,{offset:n,body:i=window}){let o=(n==null?void 0:n.top)??0,s=(n==null?void 0:n.bottom)??0,c=e.getBoundingClientRect();if(c.top<o){i.scrollBy({top:c.top-o,behavior:"smooth"});return}if(c.bottom>window.innerHeight-s){i.scrollBy({top:c.bottom-window.innerHeight+s,behavior:"smooth"});return}}xu=function(e){return e?e.state.field(Tr).type:"python"};function Dx(e,n){return!e||xu(e)===n?!1:e.state.doc.toString().trim()===""?!0:dr[n].isSupported(oi(e))}Vm=function(e,n,i={}){return!i.force&&!Dx(e,n)?!1:(Km(e,{language:n}),n)};function Px(e){return ao.of([{key:e.getHotkey("cell.format").key,preventDefault:!0,run:n=>(Qu({[n.state.facet(uo)]:n}),!0)},{key:e.getHotkey("cell.viewAsMarkdown").key,preventDefault:!0,run:n=>{let i=xu(n);if(i!=="markdown"&&i!=="python")return!1;let o=Vm(n,i==="python"?"markdown":"python",{force:!0});return o==="markdown"&&n.state.facet(Ot).afterToggleMarkdown(),o!==!1}}])}fw=function(){return en.updateListener.of(e=>{if(e.view.hasFocus&&e.heightChanged&&e.docChanged){if(e.transactions.some(i=>i.effects.some(o=>o.is(vo))))return;let n=e.view.dom.getElementsByClassName("cm-activeLine cm-line");if(n.length===1){let i=n[0],o=document.getElementById("App");kn(o,"App not found"),Ox(i,{offset:{top:30,bottom:150},body:o})}}})};function Lx(){return{}}let Mx,Nx,t0;({reducer:Mx,createActions:Nx,valueAtom:ya,useActions:t0}=Ol(Lx,{setVariables:(e,n)=>{let i={...e},o={};for(let s of n)o[s.name]={...i[s.name],...s};return o},addVariables:(e,n)=>{let i={...e};for(let o of n)i[o.name]={...i[o.name],...o};return i},setMetadata:(e,n)=>{let i={...e};for(let{name:o,value:s,dataType:c}of n)i[o]&&(i[o]={...i[o],value:s,dataType:c});return i}})),Tw=()=>Kn(ya),Cw=function(){return t0()};var Ax=Kt(Br(),1),n0="marimo:sidebar",r0=new Su(l2({selectedPanel:WT().optional().transform(e=>e),isSidebarOpen:s2(),isTerminalOpen:s2()}),Ix);function Ix(){return{selectedPanel:"variables",isSidebarOpen:!1,isTerminalOpen:!1}}let jx,qx,i0;({reducer:jx,createActions:qx,valueAtom:Tu,useActions:i0}=Ol(()=>r0.get(n0),{openApplication:(e,n)=>({...e,selectedPanel:n,isSidebarOpen:!0}),toggleApplication:(e,n)=>({...e,selectedPanel:n,isSidebarOpen:e.isSidebarOpen?e.selectedPanel!==n:!0}),toggleSidebarPanel:e=>({...e,isSidebarOpen:!e.isSidebarOpen}),setIsSidebarOpen:(e,n)=>({...e,isSidebarOpen:n}),toggleTerminal:e=>({...e,isTerminalOpen:!e.isTerminalOpen}),setIsTerminalOpen:(e,n)=>({...e,isTerminalOpen:n})},[(e,n)=>r0.set(n0,n)])),nw=()=>{let e=(0,Ax.c)(2),n=Kn(Tu);if(n.isSidebarOpen)return n;let i;return e[0]===n?i=e[1]:(i={...n,selectedPanel:void 0},e[0]=n,e[1]=i),i},r_=function(){return i0()},bm=Fe({terminal:!1,pylsp:!1,basedpyright:!1,ty:!1});function Vl(e){return st.get(bm)[e]??!1}Au=Fe({documentation:null});var a0=new Set(["FunctionDefinition","LambdaExpression","ArrayComprehensionExpression","SetComprehension","DictionaryComprehensionExpression","ComprehensionExpression","ClassDefinition"]);function zx(e){let n=y2(e.state);if(!n||Vx(n))return[];let i=new Set(Object.keys(e.variables).filter(E=>{let T=e.variables[E];return T.dataType!=="module"&&!T.declaredBy.includes("setup")&&!T.declaredBy.includes(e.cellId)}));if(i.size===0)return[];let o=[],s=new Map,c=new Map,d=new Map;function f(E,T){var Q,pe,P,I,$,de,fe,be,Y,we,Ee;let A=E.cursor(),V=A.name,H=A.from,W=a0.has(V),N=T;switch(W&&(N=[...T,H],s.set(H,new Set),c.set(H,V)),V){case"FunctionDefinition":{let ie=E.cursor();ie.firstChild();do if(ie.name==="VariableName"){let G=e.state.doc.sliceString(ie.from,ie.to),K=T[T.length-1]??-1;s.has(K)||s.set(K,new Set),(Q=s.get(K))==null||Q.add(G);break}while(ie.nextSibling());let X=E.cursor();X.firstChild();do if(X.name==="ParamList"){let G=X.node.cursor();G.firstChild();do if(G.name==="VariableName"){let K=e.state.doc.sliceString(G.from,G.to);(pe=s.get(H))==null||pe.add(K)}while(G.nextSibling())}while(X.nextSibling());break}case"LambdaExpression":{let ie=E.cursor();ie.firstChild();do if(ie.name==="ParamList"){let X=ie.node.cursor();X.firstChild();do if(X.name==="VariableName"){let G=e.state.doc.sliceString(X.from,X.to);(P=s.get(H))==null||P.add(G)}while(X.nextSibling())}while(ie.nextSibling());break}case"ArrayComprehensionExpression":case"DictionaryComprehensionExpression":case"SetComprehension":case"ComprehensionExpression":{let ie=E.cursor();ie.firstChild();let X=!1;do if(ie.name==="for")X=!0;else if(X&&ie.name==="VariableName"){let G=e.state.doc.sliceString(ie.from,ie.to);(I=s.get(H))==null||I.add(G)}else if(X&&ie.name==="TupleExpression"){let G=ie.node.cursor();G.firstChild();do if(G.name==="VariableName"){let K=e.state.doc.sliceString(G.from,G.to);($=s.get(H))==null||$.add(K)}while(G.nextSibling())}else X&&ie.name==="in"&&(X=!1);while(ie.nextSibling());break}case"ClassDefinition":{let ie=E.cursor();ie.firstChild();do if(ie.name==="VariableName"){let X=e.state.doc.sliceString(ie.from,ie.to),G=T[T.length-1]??-1;s.has(G)||s.set(G,new Set),(de=s.get(G))==null||de.add(X);break}while(ie.nextSibling());d.set(H,[]);break}case"AssignStatement":{let ie=E.cursor(),X=[];ie.firstChild();do ie.name==="AssignOp"&&X.push(ie.from);while(ie.nextSibling());let G=X[X.length-1],K=E.cursor();K.firstChild();let Le=N[N.length-1]??-1;do K.from<G&&_d(K,{currentScope:Le,state:e.state,allDeclarations:s,scopeTypes:c,classLevelDeclarations:d,assignmentPosition:A.to});while(K.nextSibling());break}case"ForStatement":{let ie=E.cursor();ie.firstChild();let X=!1;do if(ie.name==="for")X=!0;else if(X&&ie.name==="VariableName"){let G=e.state.doc.sliceString(ie.from,ie.to),K=N[N.length-1]??-1;s.has(K)||s.set(K,new Set),(fe=s.get(K))==null||fe.add(G)}else X&&ie.name==="in"&&(X=!1);while(ie.nextSibling());break}case"ImportStatement":{let ie=E.cursor();ie.firstChild();do if(ie.name==="VariableName"){let X=e.state.doc.sliceString(ie.from,ie.to),G=N[N.length-1]??-1;s.has(G)||s.set(G,new Set),(be=s.get(G))==null||be.add(X)}while(ie.nextSibling());break}case"ImportFromStatement":{let ie=E.cursor();ie.firstChild();let X=!1;do if(ie.name==="import")X=!0;else if(X&&ie.name==="VariableName"){let G=e.state.doc.sliceString(ie.from,ie.to),K=N[N.length-1]??-1;s.has(K)||s.set(K,new Set),(Y=s.get(K))==null||Y.add(G)}while(ie.nextSibling());break}case"TryStatement":{let ie=E.cursor();ie.firstChild();let X=!1;do if(ie.name==="as")X=!0;else if(X&&ie.name==="VariableName"){let G=e.state.doc.sliceString(ie.from,ie.to),K=N[N.length-1]??-1;s.has(K)||s.set(K,new Set),(we=s.get(K))==null||we.add(G),X=!1}while(ie.nextSibling());break}case"WithStatement":{let ie=E.cursor();ie.firstChild();let X=!1;do if(ie.name==="as")X=!0;else if(X&&ie.name==="VariableName"){let G=e.state.doc.sliceString(ie.from,ie.to),K=N[N.length-1]??-1;s.has(K)||s.set(K,new Set),(Ee=s.get(K))==null||Ee.add(G),X=!1}while(ie.nextSibling());break}}C(A,ie=>{f(ie,N)})}function m(E,T,A){let V=d.get(T);return V?V.some(([H,W])=>H===E&&W<A):!1}function g(E,T,A){var V,H;for(let W of T)if(c.get(W)==="ClassDefinition"){if(m(E,W,A))return!0}else if((V=s.get(W))!=null&&V.has(E))return!0;return((H=s.get(-1))==null?void 0:H.has(E))??!1}function w(E,T){let A=E.cursor(),V=A.name,H=A.from,W=a0.has(V),N=T;if(W&&(N=[...T,H]),V==="VariableName"){let Q=e.state.doc.sliceString(A.from,A.to);_(Q,A)&&(g(Q,N,A.from)||o.push({from:A.from,to:A.to,variableName:Q}))}C(A,Q=>{w(Q,N)})}function _(E,T){return i.has(E)&&!Fx(T)&&!Bx(T)}function C(E,T){if(E.firstChild())do T(E.node);while(E.nextSibling())}return f(n,[]),w(n,[]),o}function Fx(e){let n=e.node.cursor();if(n.moveTo(e.from),n.parent()&&n.name==="CallExpression"&&n.firstChild())do if(n.name==="ArgList"&&n.firstChild()){do if(n.from===e.from&&n.to===e.to)return n.nextSibling()&&n.name==="AssignOp";while(n.nextSibling());break}while(n.nextSibling());return!1}function Bx(e){let n=e.node.cursor();if(n.parent()&&n.name==="AssignStatement"){let i=n.node.cursor();i.firstChild();let o=-1;do if(i.name==="AssignOp"){o=i.from;break}while(i.nextSibling());return o!==-1&&e.from<o}return!1}function Vx(e){let n=e.cursor();do if(n.name==="\u26A0"||n.type.isError)return!0;while(n.next());return!1}function _d(e,n){var i;switch(e.name){case"VariableName":{let o=n.state.doc.sliceString(e.from,e.to);if(n.currentScope!==-1&&n.scopeTypes.get(n.currentScope)==="ClassDefinition"){let s=n.classLevelDeclarations.get(n.currentScope);s&&s.push([o,n.assignmentPosition])}else n.allDeclarations.has(n.currentScope)||n.allDeclarations.set(n.currentScope,new Set),(i=n.allDeclarations.get(n.currentScope))==null||i.add(o);break}case"TupleExpression":{let o=e.node.cursor();o.firstChild();do _d(o,n);while(o.nextSibling());break}case"ArrayExpression":{let o=e.node.cursor();o.firstChild();do _d(o,n);while(o.nextSibling());break}}}var Hx=Di.mark({class:"mo-cm-reactive-reference"});_w=Di.mark({class:"mo-cm-reactive-reference-hover"});var o0=ma.define(),$x=class{constructor(e,n){Ce(this,"highlightDebounceMs",300);this.view=e,this.cellId=n,this.scheduleHighlighting=c2(()=>{this.runHighlighting()},this.highlightDebounceMs),this.variablesUnsubscribe=st.sub(ya,()=>{this.scheduleHighlighting()}),this.scheduleHighlighting()}update(e){(e.docChanged||e.focusChanged)&&this.scheduleHighlighting()}destroy(){this.scheduleHighlighting.cancel(),this.variablesUnsubscribe()}runHighlighting(){let e=zx({state:this.view.state,cellId:this.cellId,variables:st.get(ya)});e.length>0&&Pe.debug(`Found ${e.length} reactive variables in cell ${this.cellId}`),queueMicrotask(()=>{this.view.dispatch({effects:o0.of(e)})})}};Lu=El.define({create(){return{decorations:Di.none,ranges:[]}},update(e,n){let i={decorations:e.decorations.map(n.changes),ranges:e.ranges};for(let o of n.effects)o.is(o0)&&(i={decorations:Di.set(o.value.map(s=>Hx.range(s.from,s.to))),ranges:o.value});return i},provide:e=>en.decorations.from(e,n=>n.decorations)});function Wx(e){return[Lu,oo.define(n=>new $x(n,e))]}X2=function(e,n){return n?Wx(e):[]};function s0(e,n=!1){if(!e)return null;let i=document.createElement("span");if(i.classList.add("mo-cm-tooltip"),i.classList.add("docs-documentation"),n&&i.classList.add("cm-tooltip-section"),i.style.display="flex",i.style.flexDirection="column",i.style.gap=".8rem",i.innerHTML=e,n){let o=document.createElement("div");o.classList.add("text-xs","text-muted-foreground","font-medium","pt-1","-mt-2","border-t","border-border");let s=document.createElement("kbd");s.className="ml-1 rounded-md bg-muted/40 px-2 text-[0.75rem] font-prose center border border-foreground/20 text-muted-foreground inline whitespace-nowrap",s.textContent=e4()?"\u2318":"Ctrl",o.append(document.createTextNode("Jump to defining cell ")),o.append(s),o.append(document.createTextNode(" + Click")),i.append(o)}return i}Cu=new wu("autocomplete-result",async(e,n)=>{let{sendCodeCompletionRequest:i}=Pi();await i({id:e,...n})});var Ux={param:3,property:2};const xd={asCompletionResult(e,n){return{from:e-n.prefix_length,options:n.options.map(i=>({label:i.name,type:i.type,boost:Ux[i.type]??1,info:()=>s0(i.completion_info)})),validFor:/^\w*$/}},asHoverTooltip({position:e,message:n,limitToType:i,excludeTypes:o,exactName:s,showGoToDefinitionHint:c=!1}){let d=Kx(n.options,s);if(!d)return;let f=e-n.prefix_length,m=s0(d.completion_info,c);if(m&&!(i&&d.type!==i)&&!(o!=null&&o.includes(d.type)))return{pos:f,html:d.completion_info,end:f+d.name.length,above:!0,create:()=>({dom:m,resize:!1})}}};function Kx(e,n){if(e.length!==0){if(e.length===1)return e[0];if(n)return e.find(i=>i.name===n)}}y_=function(e){var n;return[(n=e==null?void 0:e.pylsp)!=null&&n.enabled&&Vl("pylsp")?[]:rm(async(i,o)=>{let s=await l0({view:i,pos:o,excludeTypes:["tooltip"]});return s===null||s==="cancelled"?null:s},{hideOnChange:!0}),Jx]};async function l0({view:e,pos:n,excludeTypes:i}){var w;let o=ur.findElement(e.dom);if(!o)return Pe.error("Failed to find active cell."),null;let s=ur.parse(o.id),{startToken:c,endToken:d}=c0(e.state.doc,n),f=((w=e.state.field(Lu,!1))==null?void 0:w.ranges.some(_=>n>=_.from&&n<=_.to))??!1,m=await Cu.request({document:e.state.doc.slice(0,d).toString(),cellId:s});if(!m)return"cancelled";let g=e.state.doc.slice(c,d).toString();return xd.asHoverTooltip({position:d,message:m,exactName:g,excludeTypes:i,showGoToDefinitionHint:f})??null}function c0(e,n){let i=n,o=n;for(;i>0;){let s=e.sliceString(i-1,i);if(!/\w/.test(s))break;i--}for(;o<e.length;){let s=e.sliceString(o,o+1);if(!/\w/.test(s))break;o++}return{startToken:i,endToken:o}}function Qx(e){let{head:n}=e.selection.main,i=e.doc.sliceString(n-1,n);return/\w/.test(i)}var Gx=c2(async(e,n)=>{if(st.get(Tu).selectedPanel!=="documentation")return;let i=await l0({view:e,pos:n});i!=="cancelled"&&st.set(Au,{documentation:(i==null?void 0:i.html)??null})},300),Jx=en.updateListener.of(e=>{if(e.selectionSet&&Qx(e.state)){let n=e.state.selection.main.head;Gx(e.view,n)}});function u0(e,n){e.focus(),requestAnimationFrame(()=>{e.dispatch({selection:{anchor:n,head:n},effects:en.scrollIntoView(n,{y:"center"})})})}Pu=function(e,n){let{state:i}=e,o=y2(i),s=!1,c=0;return o.iterate({enter:d=>{if(s)return!1;if(d.name==="VariableName"&&i.doc.sliceString(d.from,d.to)===n)return c=d.from,s=!0,!1;if(d.name==="Comment"||d.name==="String")return!1}}),s?(u0(e,c),!0):!1};function Xx(e,n){return u0(e,e.state.doc.line(n).from),!0}function Yx(e){let{from:n,to:i}=e.selection.main;if(n===i){let{startToken:o,endToken:s}=c0(e.doc,n);return e.doc.sliceString(o,s)}return e.doc.sliceString(n,i)}function Zx(e,n){if(!n)return null;let i=e[n];return!i||i.declaredBy.length===0?null:i.declaredBy[0]}function ek(e){return e.startsWith("_")}Sm=function(e){let{state:n}=e,i=Yx(n);return i?(R2(e),e.dispatch({effects:c4}),_m(e,i)):!1},_m=function(e,n){let i=tk(e,n);return i?Pu(i,n):!1},K2=function(e,n){let i=d0(e);return i?Xx(i,n):!1};function tk(e,n){if(ek(n))return e;let i=Zx(st.get(ya),n);return i?d0(i):null}function d0(e){var n;return((n=st.get(ft).cellHandles[e].current)==null?void 0:n.editorView)??null}function nk(e){var n=e.Pos;function i(u,h,v){if(h.line===v.line&&h.ch>=v.ch-1){var b=u.getLine(h.line).charCodeAt(h.ch);55296<=b&&b<=55551&&(v.ch+=1)}return{start:h,end:v}}var o=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"g?",type:"operator",operator:"rot13"},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<register>",type:"action",action:"replayMacro"},{keys:"q<register>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<register>",type:"action",action:"setMark"},{keys:'"<register>',type:"action",action:"setRegister"},{keys:"<C-r><register>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<register>",type:"motion",motion:"textObjectManipulation"},{keys:"i<register>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],s=Object.create(null),c=o.length,d=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"marks",excludeFromCommandHistory:!0},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}],f=gn("");function m(u){u.setOption("disableInput",!0),u.setOption("showCursorWhenSelecting",!1),e.signal(u,"vim-mode-change",{mode:"normal"}),u.on("cursorActivity",Is),G(u),e.on(u.getInputField(),"paste",w(u))}function g(u){u.setOption("disableInput",!1),u.off("cursorActivity",Is),e.off(u.getInputField(),"paste",w(u)),u.state.vim=null,Wi&&clearTimeout(Wi)}function w(u){var h=u.state.vim;return h.onPasteFn||(h.onPasteFn=function(){h.insertMode||(u.setCursor(Ct(u.getCursor(),0,1)),Vt.enterInsertMode(u,{},h))}),h.onPasteFn}var _=/[\d]/,C=[e.isWordChar,function(u){return u&&!e.isWordChar(u)&&!/\s/.test(u)}],E=[function(u){return/\S/.test(u)}],T=["<",">"],A=["-",'"',".",":","_","/","+"],V=/^\w$/,H=/^[A-Z]$/;try{H=RegExp("^[\\p{Lu}]$","u")}catch{}function W(u,h){return h>=u.firstLine()&&h<=u.lastLine()}function N(u){return/^[a-z]$/.test(u)}function Q(u){return"()[]{}".indexOf(u)!=-1}function pe(u){return _.test(u)}function P(u){return H.test(u)}function I(u){return/^\s*$/.test(u)}function $(u){return".?!".indexOf(u)!=-1}function de(u,h){for(var v=0;v<h.length;v++)if(h[v]==u)return!0;return!1}var fe={};function be(u,h,v,b,x){if(h===void 0&&!x)throw Error("defaultValue is required unless callback is provided");if(v||(v="string"),fe[u]={type:v,defaultValue:h,callback:x},b)for(var k=0;k<b.length;k++)fe[b[k]]=fe[u];h&&Y(u,h)}function Y(u,h,v,b){var x=fe[u];b||(b={});var k=b.scope;if(!x)return Error("Unknown option: "+u);if(x.type=="boolean"){if(h&&h!==!0)return Error("Invalid argument: "+u+"="+h);h!==!1&&(h=!0)}x.callback?(k!=="local"&&x.callback(h,void 0),k!=="global"&&v&&x.callback(h,v)):(k!=="local"&&(x.value=x.type=="boolean"?!!h:h),k!=="global"&&v&&(v.state.vim.options[u]={value:h}))}function we(u,h,v){var b=fe[u];v||(v={});var x=v.scope;if(!b)return Error("Unknown option: "+u);if(b.callback){let k=h&&b.callback(void 0,h);return x!=="global"&&k!==void 0?k:x==="local"?void 0:b.callback()}else return(x!=="global"&&h&&h.state.vim.options[u]||x!=="local"&&b||{}).value}be("filetype",void 0,"string",["ft"],function(u,h){if(h!==void 0)if(u===void 0){let v=h.getOption("mode");return v=="null"?"":v}else{let v=u==""?"null":u;h.setOption("mode",v)}}),be("textwidth",80,"number",["tw"],function(u,h){if(h!==void 0){if(u===void 0)return h.getOption("textwidth");var v=Math.round(u);v>1&&h.setOption("textwidth",v)}});var Ee=function(){var u=100,h=-1,v=0,b=0,x=Array(u);function k(M,z,j){var se=x[h%u];function ae(ee){var _e=++h%u,xe=x[_e];xe&&xe.clear(),x[_e]=M.setBookmark(ee)}if(se){var Z=se.find();Z&&!Ht(Z,z)&&ae(z)}else ae(z);ae(j),v=h,b=h-u+1,b<0&&(b=0)}function R(M,z){h+=z,h>v?h=v:h<b&&(h=b);var j=x[(u+h)%u];if(j&&!j.find()){var se=z>0?1:-1,ae,Z=M.getCursor();do if(h+=se,j=x[(u+h)%u],j&&(ae=j.find())&&!Ht(Z,ae))break;while(h<v&&h>b)}return j}function D(M,z){var j=h,se=R(M,z);return h=j,se&&se.find()}return{cachedCursor:void 0,add:k,find:D,move:R}},ie=function(u){return u?{changes:u.changes,expectCursorActivityForChange:u.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};class X{constructor(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=ie()}exitMacroRecordMode(){var h=K.macroModeState;h.onRecordingDone&&h.onRecordingDone(),h.onRecordingDone=void 0,h.isRecording=!1}enterMacroRecordMode(h,v){var b=K.registerController.getRegister(v);if(b){if(b.clear(),this.latestRegister=v,h.openDialog){var x=nr("span",{class:"cm-vim-message"},"recording @"+v);this.onRecordingDone=h.openDialog(x,function(){},{bottom:!0})}this.isRecording=!0}}}function G(u){return u.state.vim||(u.state.vim={inputState:new Yn,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:void 0,sel:{anchor:new n(0,0),head:new n(0,0)},options:{},expectLiteralNext:!1,status:""}),u.state.vim}var K;function Le(){for(var u in K={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Ee(),macroModeState:new X,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new An({}),searchHistoryController:new Mr,exCommandHistoryController:new Mr},fe){var h=fe[u];h.value=h.defaultValue}}class Qe{constructor(h,v){this.keyName=h,this.key=v.key,this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.metaKey=v.metaKey,this.shiftKey=v.shiftKey}}var ut,Be={enterVimMode:m,leaveVimMode:g,buildKeyMap:function(){},getRegisterController:function(){return K.registerController},resetVimGlobalState_:Le,getVimGlobalState_:function(){return K},maybeInitVimState_:G,suppressErrorLogging:!1,InsertModeKey:Qe,map:function(u,h,v){Gt.map(u,h,v)},unmap:function(u,h){return Gt.unmap(u,h)},noremap:function(u,h,v){Gt.map(u,h,v,!0)},mapclear:function(u){var h=o.length,v=c,b=o.slice(0,h-v);if(o=o.slice(h-v),u)for(var x=b.length-1;x>=0;x--){var k=b[x];if(u!==k.context)if(k.context)this._mapCommand(k);else{var R=["normal","insert","visual"];for(var D in R)if(R[D]!==u){var M=Object.assign({},k);M.context=R[D],this._mapCommand(M)}}}},langmap:gt,vimKeyFromEvent:nn,setOption:Y,getOption:we,defineOption:be,defineEx:function(u,h,v){if(!h)h=u;else if(u.indexOf(h)!==0)throw Error('(Vim.defineEx) "'+h+'" is not a prefix of "'+u+'", command not registered');Ao[u]=v,Gt.commandMap_[h]={name:u,shortName:h,type:"api"}},handleKey:function(u,h,v){var b=this.findKey(u,h,v);if(typeof b=="function")return b()},multiSelectHandleKey:Fa,findKey:function(u,h,v){var b=G(u),x=u;function k(){var j=K.macroModeState;if(j.isRecording){if(h=="q")return j.exitMacroRecordMode(),kt(x),!0;v!="mapping"&&Ia(j,h)}}function R(){if(h=="<Esc>"){if(b.visualMode)Je(x);else if(b.insertMode)Ir(x);else return;return kt(x),!0}}function D(){if(R())return!0;b.inputState.keyBuffer.push(h);var j=b.inputState.keyBuffer.join(""),se=h.length==1,ae=In.matchCommand(j,o,b.inputState,"insert"),Z=b.inputState.changeQueue;if(ae.type=="none")return kt(x),!1;if(ae.type=="partial"){if(ae.expectLiteralNext&&(b.expectLiteralNext=!0),ut&&window.clearTimeout(ut),ut=se&&window.setTimeout(function(){b.insertMode&&b.inputState.keyBuffer.length&&kt(x)},we("insertModeEscKeysTimeout")),se){var ee=x.listSelections();(!Z||Z.removed.length!=ee.length)&&(Z=b.inputState.changeQueue=new ci),Z.inserted+=h;for(var _e=0;_e<ee.length;_e++){var xe=vt(ee[_e].anchor,ee[_e].head),je=Dn(ee[_e].anchor,ee[_e].head),Te=x.getRange(xe,x.state.overwrite?Ct(je,0,1):je);Z.removed[_e]=(Z.removed[_e]||"")+Te}}return!se}else ae.type=="full"&&(b.inputState.keyBuffer.length=0);if(b.expectLiteralNext=!1,ut&&window.clearTimeout(ut),ae.command&&Z){for(var ee=x.listSelections(),_e=0;_e<ee.length;_e++){var Ie=ee[_e].head;x.replaceRange(Z.removed[_e]||"",Ct(Ie,0,-Z.inserted.length),Ie,"+input")}K.macroModeState.lastInsertModeChanges.changes.pop()}return ae.command||kt(x),ae.command}function M(){if(k()||R())return!0;b.inputState.keyBuffer.push(h);var j=b.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(j))return!0;var se=/^(\d*)(.*)$/.exec(j);if(!se)return kt(x),!1;var ae=b.visualMode?"visual":"normal",Z=se[2]||se[1];b.inputState.operatorShortcut&&b.inputState.operatorShortcut.slice(-1)==Z&&(Z=b.inputState.operatorShortcut);var ee=In.matchCommand(Z,o,b.inputState,ae);return ee.type=="none"?(kt(x),!1):ee.type=="partial"?(ee.expectLiteralNext&&(b.expectLiteralNext=!0),!0):ee.type=="clear"?(kt(x),!0):(b.expectLiteralNext=!1,b.inputState.keyBuffer.length=0,se=/^(\d*)(.*)$/.exec(j),se&&se[1]&&se[1]!="0"&&b.inputState.pushRepeatDigit(se[1]),ee.command)}var z=b.insertMode?D():M();if(z===!1)return!b.insertMode&&(h.length===1||e.isMac&&/<A-.>/.test(h))?function(){return!0}:void 0;if(z===!0)return function(){return!0};if(z)return function(){return x.operation(function(){x.curOp.isVimOp=!0;try{if(typeof z!="object")return;z.type=="keyToKey"?It(x,z.toKeys,z):In.processCommand(x,b,z)}catch(j){throw x.state.vim=void 0,G(x),Be.suppressErrorLogging||console.log(j),j}return!0})}},handleEx:function(u,h){Gt.processCommand(u,h)},defineMotion:Hi,defineAction:Qt,defineOperator:ui,mapCommand:jr,_mapCommand:Na,defineRegister:vn,exitVisualMode:Je,exitInsertMode:Ir},We=[],Oe=!1,Me;function hn(u){if(!Me)throw Error("No prompt to send key to");if(u[0]=="<"){var h=u.toLowerCase().slice(1,-1);if(h=h.split("-").pop()||"",h=="lt")u="<";else if(h=="space")u=" ";else if(h=="cr")u=`
`;else if(Ue[h]){var v=Me.value||"",b={key:Ue[h],target:{value:v,selectionEnd:v.length,selectionStart:v.length}};Me.onKeyDown&&Me.onKeyDown(b,Me.value,k),Me&&Me.onKeyUp&&Me.onKeyUp(b,Me.value,k);return}}if(u==`
`){var x=Me;Me=null,x.onClose&&x.onClose(x.value)}else Me.value=(Me.value||"")+u;function k(R){Me&&(typeof R=="string"?Me.value=R:Me=null)}}function It(u,h,v){var b=Oe;if(v){if(We.indexOf(v)!=-1)return;We.push(v),Oe=v.noremap!=0}try{for(var x=G(u),k=/<(?:[CSMA]-)*\w+>|./gi,R;R=k.exec(h);){var D=R[0],M=x.insertMode;if(Me){hn(D);continue}if(!Be.handleKey(u,D,"mapping")&&M&&x.insertMode){if(D[0]=="<"){var z=D.toLowerCase().slice(1,-1);if(z=z.split("-").pop()||"",z=="lt")D="<";else if(z=="space")D=" ";else if(z=="cr")D=`
`;else if(Ue.hasOwnProperty(z)){D=Ue[z],Cn(u,D);continue}else D=D[0],k.lastIndex=R.index+1}u.replaceSelection(D)}}}finally{if(We.pop(),Oe=We.length?b:!1,!We.length&&Me){var j=Me;Me=null,La(u,j)}}}var On={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},ln={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1},Ue={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(On)).forEach(function(u){Ue[(On[u]||"").toLowerCase()]=Ue[u.toLowerCase()]=u});function nn(u,h){var k;var v=u.key;if(!ln[v]){v.length>1&&v[0]=="n"&&(v=v.replace("Numpad","")),v=On[v]||v;var b="";if(u.ctrlKey&&(b+="C-"),u.altKey&&(b+="A-"),u.metaKey&&(b+="M-"),e.isMac&&b=="A-"&&v.length==1&&(b=b.slice(2)),(b||v.length>1)&&u.shiftKey&&(b+="S-"),h&&!h.expectLiteralNext&&v.length==1){if(f.keymap&&v in f.keymap)(f.remapCtrl!=0||!b)&&(v=f.keymap[v]);else if(v.charCodeAt(0)>128&&!s[v]){var x=((k=u.code)==null?void 0:k.slice(-1))||"";u.shiftKey||(x=x.toLowerCase()),x&&(v=x,!b&&u.altKey&&(b="A-"))}}return b+=v,b.length>1&&(b="<"+b+">"),b}}function gt(u,h){f.string!==u&&(f=gn(u)),f.remapCtrl=h}function gn(u){let h={};if(!u)return{keymap:h,string:""};function v(b){return b.split(/\\?(.)/).filter(Boolean)}return u.split(/((?:[^\\,]|\\.)+),/).map(b=>{if(!b)return;let x=b.split(/((?:[^\\;]|\\.)+);/);if(x.length==3){let k=v(x[1]),R=v(x[2]);if(k.length!==R.length)return;for(let D=0;D<k.length;++D)h[k[D]]=R[D]}else if(x.length==1){let k=v(b);if(k.length%2!=0)return;for(let R=0;R<k.length;R+=2)h[k[R]]=k[R+1]}}),{keymap:h,string:u}}be("langmap",void 0,"string",["lmap"],function(u,h){if(u===void 0)return f.string;gt(u)});class Yn{constructor(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=void 0,this.changeQueue=null}pushRepeatDigit(h){this.operator?this.motionRepeat=this.motionRepeat.concat(h):this.prefixRepeat=this.prefixRepeat.concat(h)}getRepeat(){var h=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(h=1,this.prefixRepeat.length>0&&(h*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(h*=parseInt(this.motionRepeat.join(""),10))),h}}function kt(u,h){u.state.vim.inputState=new Yn,u.state.vim.expectLiteralNext=!1,e.signal(u,"vim-command-done",h)}function ci(){this.removed=[],this.inserted=""}class yn{constructor(h,v,b){this.clear(),this.keyBuffer=[h||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!v,this.blockwise=!!b}setText(h,v,b){this.keyBuffer=[h||""],this.linewise=!!v,this.blockwise=!!b}pushText(h,v){v&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(h)}pushInsertModeChanges(h){this.insertModeChanges.push(ie(h))}pushSearchQuery(h){this.searchQueries.push(h)}clear(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1}toString(){return this.keyBuffer.join("")}}function vn(u,h){var v=K.registerController.registers;if(!u||u.length!=1)throw Error("Register name must be 1 character");if(v[u])throw Error("Register already defined "+u);v[u]=h,A.push(u)}class An{constructor(h){this.registers=h,this.unnamedRegister=h['"']=new yn,h["."]=new yn,h[":"]=new yn,h["/"]=new yn,h["+"]=new yn}pushText(h,v,b,x,k){if(h!=="_"){x&&b.charAt(b.length-1)!==`
`&&(b+=`
`);var R=this.isValidRegister(h)?this.getRegister(h):null;if(!R||!h){switch(v){case"yank":this.registers[0]=new yn(b,x,k);break;case"delete":case"change":b.indexOf(`
`)==-1?this.registers["-"]=new yn(b,x):(this.shiftNumericRegisters_(),this.registers[1]=new yn(b,x));break}this.unnamedRegister.setText(b,x,k);return}P(h)?R.pushText(b,x):R.setText(b,x,k),h==="+"&&navigator.clipboard.writeText(b),this.unnamedRegister.setText(R.toString(),x)}}getRegister(h){return this.isValidRegister(h)?(h=h.toLowerCase(),this.registers[h]||(this.registers[h]=new yn),this.registers[h]):this.unnamedRegister}isValidRegister(h){return h&&(de(h,A)||V.test(h))}shiftNumericRegisters_(){for(var h=9;h>=2;h--)this.registers[h]=this.getRegister(""+(h-1))}}class Mr{constructor(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}nextMatch(h,v){var b=this.historyBuffer,x=v?-1:1;this.initialPrefix===null&&(this.initialPrefix=h);for(var k=this.iterator+x;v?k>=0:k<b.length;k+=x)for(var R=b[k],D=0;D<=R.length;D++)if(this.initialPrefix==R.substring(0,D))return this.iterator=k,R;if(k>=b.length)return this.iterator=b.length,this.initialPrefix;if(k<0)return h}pushInput(h){var v=this.historyBuffer.indexOf(h);v>-1&&this.historyBuffer.splice(v,1),h.length&&this.historyBuffer.push(h)}reset(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}}var In={matchCommand:function(u,h,v,b){var x=di(u,h,b,v),k=x.full[0];if(!k)return x.partial.length?{type:"partial",expectLiteralNext:x.partial.length==1&&x.partial[0].keys.slice(-11)=="<character>"}:{type:"none"};if(k.keys.slice(-11)=="<character>"||k.keys.slice(-10)=="<register>"){var R=Ar(u);if(!R||R.length>1)return{type:"clear"};v.selectedCharacter=R}return{type:"full",command:k}},processCommand:function(u,h,v){switch(h.inputState.repeatOverride=v.repeatOverride,v.type){case"motion":this.processMotion(u,h,v);break;case"operator":this.processOperator(u,h,v);break;case"operatorMotion":this.processOperatorMotion(u,h,v);break;case"action":this.processAction(u,h,v);break;case"search":this.processSearch(u,h,v);break;case"ex":case"keyToEx":this.processEx(u,h,v);break}},processMotion:function(u,h,v){h.inputState.motion=v.motion,h.inputState.motionArgs=Ft(v.motionArgs),this.evalInput(u,h)},processOperator:function(u,h,v){var b=h.inputState;if(b.operator)if(b.operator==v.operator){b.motion="expandToLine",b.motionArgs={linewise:!0,repeat:1},this.evalInput(u,h);return}else kt(u);b.operator=v.operator,b.operatorArgs=Ft(v.operatorArgs),v.keys.length>1&&(b.operatorShortcut=v.keys),v.exitVisualBlock&&(h.visualBlock=!1,bt(u)),h.visualMode&&this.evalInput(u,h)},processOperatorMotion:function(u,h,v){var b=h.visualMode,x=Ft(v.operatorMotionArgs);x&&b&&x.visualLine&&(h.visualLine=!0),this.processOperator(u,h,v),b||this.processMotion(u,h,v)},processAction:function(u,h,v){var b=h.inputState,x=b.getRepeat(),k=!!x,R=Ft(v.actionArgs)||{repeat:1};b.selectedCharacter&&(R.selectedCharacter=b.selectedCharacter),v.operator&&this.processOperator(u,h,v),v.motion&&this.processMotion(u,h,v),(v.motion||v.operator)&&this.evalInput(u,h),R.repeat=x||1,R.repeatIsExplicit=k,R.registerName=b.registerName,kt(u),h.lastMotion=null,v.isEdit&&this.recordLastEdit(h,b,v),Vt[v.action](u,R,h)},processSearch:function(u,h,v){if(!u.getSearchCursor)return;var b=v.searchArgs.forward,x=v.searchArgs.wholeWordOnly;bn(u).setReversed(!b);var k=b?"/":"?",R=bn(u).getQuery(),D=u.getScrollInfo(),M="";function z(Te,Ie,ct){K.searchHistoryController.pushInput(Te),K.searchHistoryController.reset();try{hr(u,Te,Ie,ct)}catch{He(u,"Invalid regex: "+Te),kt(u);return}In.processMotion(u,h,{keys:"",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:v.searchArgs.toJumplist}})}function j(Te){u.scrollTo(D.left,D.top),z(Te,!0,!0);var Ie=K.macroModeState;Ie.isRecording&&As(Ie,Te)}function se(){return we("pcre")?"(JavaScript regexp: set pcre)":"(Vim regexp: set nopcre)"}function ae(Te,Ie,ct){var Xe=nn(Te),Dt,Pt;Xe=="<Up>"||Xe=="<Down>"?(Dt=Xe=="<Up>",Pt=Te.target?Te.target.selectionEnd:0,Ie=K.searchHistoryController.nextMatch(Ie,Dt)||"",ct(Ie),Pt&&Te.target&&(Te.target.selectionEnd=Te.target.selectionStart=Math.min(Pt,Te.target.value.length))):Xe&&Xe!="<Left>"&&Xe!="<Right>"&&K.searchHistoryController.reset(),M=Ie,Z()}function Z(){var Te;try{Te=hr(u,M,!0,!0)}catch{}Te?u.scrollIntoView(cc(u,!b,Te),30):(mi(u),u.scrollTo(D.left,D.top))}function ee(Te,Ie,ct){var Xe=nn(Te);Xe=="<Esc>"||Xe=="<C-c>"||Xe=="<C-[>"||Xe=="<BS>"&&Ie==""?(K.searchHistoryController.pushInput(Ie),K.searchHistoryController.reset(),hr(u,(R==null?void 0:R.source)||""),mi(u),u.scrollTo(D.left,D.top),e.e_stop(Te),kt(u),ct(),u.focus()):Xe=="<Up>"||Xe=="<Down>"?e.e_stop(Te):Xe=="<C-u>"&&(e.e_stop(Te),ct(""))}switch(v.searchArgs.querySrc){case"prompt":var _e=K.macroModeState;_e.isPlaying?z(_e.replaySearchQueries.shift()||"",!0,!1):La(u,{onClose:j,prefix:k,desc:nr("span",{$cursor:"pointer",onmousedown:function(Ie){Ie.preventDefault(),Y("pcre",!we("pcre")),this.textContent=se(),Z()}},se()),onKeyUp:ae,onKeyDown:ee});break;case"wordUnderCursor":var xe=Se(u,{noSymbol:!0}),je=!0;if(xe||(xe=Se(u,{noSymbol:!1}),je=!1),!xe){He(u,"No word under cursor"),kt(u);return}let Te=u.getLine(xe.start.line).substring(xe.start.ch,xe.end.ch);Te=je&&x?"\\b"+Te+"\\b":Qr(Te),K.jumpList.cachedCursor=u.getCursor(),u.setCursor(xe.start),z(Te,!0,!1);break}},processEx:function(u,h,v){function b(D){K.exCommandHistoryController.pushInput(D),K.exCommandHistoryController.reset(),Gt.processCommand(u,D),u.state.vim&&kt(u),mi(u)}function x(D,M,z){var j=nn(D),se,ae;(j=="<Esc>"||j=="<C-c>"||j=="<C-[>"||j=="<BS>"&&M=="")&&(K.exCommandHistoryController.pushInput(M),K.exCommandHistoryController.reset(),e.e_stop(D),kt(u),mi(u),z(),u.focus()),j=="<Up>"||j=="<Down>"?(e.e_stop(D),se=j=="<Up>",ae=D.target?D.target.selectionEnd:0,M=K.exCommandHistoryController.nextMatch(M,se)||"",z(M),ae&&D.target&&(D.target.selectionEnd=D.target.selectionStart=Math.min(ae,D.target.value.length))):j=="<C-u>"?(e.e_stop(D),z("")):j&&j!="<Left>"&&j!="<Right>"&&K.exCommandHistoryController.reset()}function k(D,M){var z=new e.StringStream(M),j={};try{if(Gt.parseInput_(u,z,j),j.commandName!="s"){mi(u);return}var se=Gt.matchCommand_(j.commandName);if(!se||(Gt.parseCommandArgs_(z,j,se),!j.argString))return;var ae=Pa(j.argString.slice(1),!0,!0);ae&&Jr(u,ae)}catch{}}if(v.type=="keyToEx")Gt.processCommand(u,v.exArgs.input);else{var R={onClose:b,onKeyDown:x,onKeyUp:k,prefix:":"};h.visualMode&&(R.value="'<,'>",R.selectValueOnOpen=!1),La(u,R)}},evalInput:function(u,h){var v=h.inputState,b=v.motion,x=v.motionArgs||{repeat:1},k=v.operator,R=v.operatorArgs||{},D=v.registerName,M=h.sel,z=Ge(h.visualMode?yt(u,M.head):u.getCursor("head")),j=Ge(h.visualMode?yt(u,M.anchor):u.getCursor("anchor")),se=Ge(z),ae=Ge(j),Z,ee,_e;if(k&&this.recordLastEdit(h,v),_e=v.repeatOverride===void 0?v.getRepeat():v.repeatOverride,_e>0&&x.explicitRepeat?x.repeatIsExplicit=!0:(x.noRepeat||!x.explicitRepeat&&_e===0)&&(_e=1,x.repeatIsExplicit=!1),v.selectedCharacter&&(x.selectedCharacter=R.selectedCharacter=v.selectedCharacter),x.repeat=_e,kt(u),b){var xe=rn[b](u,z,x,h,v);if(h.lastMotion=rn[b],!xe)return;if(x.toJumplist){var je=K.jumpList,Te=je.cachedCursor;Te?(tt(u,Te,xe),delete je.cachedCursor):tt(u,z,xe)}xe instanceof Array?(ee=xe[0],Z=xe[1]):Z=xe,Z||(Z=Ge(z)),h.visualMode?(h.visualBlock&&Z.ch===1/0||(Z=yt(u,Z,se)),ee&&(ee=yt(u,ee)),ee||(ee=ae),M.anchor=ee,M.head=Z,bt(u),pr(u,h,"<",lt(ee,Z)?ee:Z),pr(u,h,">",lt(ee,Z)?Z:ee)):k||(Z=yt(u,Z,se),u.setCursor(Z.line,Z.ch))}if(k){if(R.lastSel){ee=ae;var Ie=R.lastSel,ct=Math.abs(Ie.head.line-Ie.anchor.line),Xe=Math.abs(Ie.head.ch-Ie.anchor.ch);Z=Ie.visualLine?new n(ae.line+ct,ae.ch):Ie.visualBlock?new n(ae.line+ct,ae.ch+Xe):Ie.head.line==Ie.anchor.line?new n(ae.line,ae.ch+Xe):new n(ae.line+ct,ae.ch),h.visualMode=!0,h.visualLine=Ie.visualLine,h.visualBlock=Ie.visualBlock,M=h.sel={anchor:ee,head:Z},bt(u)}else h.visualMode&&(R.lastSel={anchor:Ge(M.anchor),head:Ge(M.head),visualBlock:h.visualBlock,visualLine:h.visualLine});var Dt,Pt,ze,Ke,Jt;if(h.visualMode){Dt=vt(M.head,M.anchor),Pt=Dn(M.head,M.anchor),ze=h.visualLine||R.linewise,Ke=h.visualBlock?"block":ze?"line":"char";var Xt=i(u,Dt,Pt);if(Jt=jt(u,{anchor:Xt.start,head:Xt.end},Ke),ze){var cn=Jt.ranges;if(Ke=="block")for(var Ba=0;Ba<cn.length;Ba++)cn[Ba].head.ch=St(u,cn[Ba].head.line);else Ke=="line"&&(cn[0].head=new n(cn[0].head.line+1,0))}}else{if(Dt=Ge(ee||ae),Pt=Ge(Z||se),lt(Pt,Dt)){var fc=Dt;Dt=Pt,Pt=fc}ze=x.linewise||R.linewise,ze?ne(u,Dt,Pt):x.forward&&q(u,Dt,Pt),Ke="char";var Qi=!x.inclusive||ze,Xt=i(u,Dt,Pt);Jt=jt(u,{anchor:Xt.start,head:Xt.end},Ke,Qi)}u.setSelections(Jt.ranges,Jt.primary),h.lastMotion=null,R.repeat=_e,R.registerName=D,R.linewise=ze;var qs=Nr[k](u,R,Jt.ranges,ae,Z);h.visualMode&&Je(u,qs!=null),qs&&u.setCursor(qs)}},recordLastEdit:function(u,h,v){var b=K.macroModeState;b.isPlaying||(u.lastEditInputState=h,u.lastEditActionCommand=v,b.lastInsertModeChanges.changes=[],b.lastInsertModeChanges.expectCursorActivityForChange=!1,b.lastInsertModeChanges.visualBlock=u.visualBlock?u.sel.head.line-u.sel.anchor.line:0)}},rn={moveToTopLine:function(u,h,v){var b=Ls(u).top+v.repeat-1;return new n(b,ye(u.getLine(b)))},moveToMiddleLine:function(u){var h=Ls(u),v=Math.floor((h.top+h.bottom)*.5);return new n(v,ye(u.getLine(v)))},moveToBottomLine:function(u,h,v){var b=Ls(u).bottom-v.repeat+1;return new n(b,ye(u.getLine(b)))},expandToLine:function(u,h,v){return new n(h.line+v.repeat-1,1/0)},findNext:function(u,h,v){var b=bn(u),x=b.getQuery();if(x){var k=!v.forward;k=b.isReversed()?!k:k,Jr(u,x);var R=cc(u,k,x,v.repeat);return R||He(u,"No match found "+x+(we("pcre")?" (set nopcre to use Vim regexps)":"")),R}},findAndSelectNextInclusive:function(u,h,v,b,x){var k=bn(u),R=k.getQuery();if(R){var D=!v.forward;D=k.isReversed()?!D:D;var M=uc(u,D,R,v.repeat,b);if(M){if(x.operator)return M;var z=M[0],j=new n(M[1].line,M[1].ch-1);if(b.visualMode){(b.visualLine||b.visualBlock)&&(b.visualLine=!1,b.visualBlock=!1,e.signal(u,"vim-mode-change",{mode:"visual",subMode:""}));var se=b.sel.anchor;if(se)return k.isReversed()?v.forward?[se,z]:[se,j]:v.forward?[se,j]:[se,z]}else b.visualMode=!0,b.visualLine=!1,b.visualBlock=!1,e.signal(u,"vim-mode-change",{mode:"visual",subMode:""});return D?[j,z]:[z,j]}}},goToMark:function(u,h,v,b){var x=No(u,b,v.selectedCharacter||"");return x?v.linewise?{line:x.line,ch:ye(u.getLine(x.line))}:x:null},moveToOtherHighlightedEnd:function(u,h,v,b){var x=b.sel;return b.visualBlock&&v.sameLine?[yt(u,new n(x.anchor.line,x.head.ch)),yt(u,new n(x.head.line,x.anchor.ch))]:[x.head,x.anchor]},jumpToMark:function(u,h,v,b){for(var x=h,k=0;k<v.repeat;k++){var R=x;for(var D in b.marks)if(N(D)){var M=b.marks[D].find();if(!(v.forward?lt(M,R):lt(R,M))&&!(v.linewise&&M.line==R.line)){var z=Ht(R,x),j=v.forward?Kr(R,M,x):Kr(x,M,R);(z||j)&&(x=M)}}}return v.linewise&&(x=new n(x.line,ye(u.getLine(x.line)))),x},moveByCharacters:function(u,h,v){var b=h,x=v.repeat,k=v.forward?b.ch+x:b.ch-x;return new n(b.line,k)},moveByLines:function(u,h,v,b){var x=h,k=x.ch;switch(b.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:k=b.lastHPos;break;default:b.lastHPos=k}var R=v.repeat+(v.repeatOffset||0),D=v.forward?x.line+R:x.line-R,M=u.firstLine(),z=u.lastLine(),j=u.findPosV(x,v.forward?R:-R,"line",b.lastHSPos);return(v.forward?j.line>D:j.line<D)&&(D=j.line,k=j.ch),D<M&&x.line==M?this.moveToStartOfLine(u,h,v,b):D>z&&x.line==z?$t(u,h,v,b,!0):(v.toFirstChar&&(k=ye(u.getLine(D)),b.lastHPos=k),b.lastHSPos=u.charCoords(new n(D,k),"div").left,new n(D,k))},moveByDisplayLines:function(u,h,v,b){var x=h;switch(b.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:b.lastHSPos=u.charCoords(x,"div").left}var k=v.repeat,R=u.findPosV(x,v.forward?k:-k,"line",b.lastHSPos);if(R.hitSide)if(v.forward){var D={top:u.charCoords(R,"div").top+8,left:b.lastHSPos};R=u.coordsChar(D,"div")}else{var M=u.charCoords(new n(u.firstLine(),0),"div");M.left=b.lastHSPos,R=u.coordsChar(M,"div")}return b.lastHPos=R.ch,R},moveByPage:function(u,h,v){var b=h,x=v.repeat;return u.findPosV(b,v.forward?x:-x,"page")},moveByParagraph:function(u,h,v){var b=v.forward?1:-1;return ic(u,h,v.repeat,b).start},moveBySentence:function(u,h,v){var b=v.forward?1:-1;return Mo(u,h,v.repeat,b)},moveByScroll:function(u,h,v,b){var x=u.getScrollInfo(),k=null,R=v.repeat;R||(R=x.clientHeight/(2*u.defaultTextHeight()));var D=u.charCoords(h,"local");if(v.repeat=R,k=rn.moveByDisplayLines(u,h,v,b),!k)return null;var M=u.charCoords(k,"local");return u.scrollTo(null,x.top+M.top-D.top),k},moveByWords:function(u,h,v){return ht(u,h,v.repeat,!!v.forward,!!v.wordEnd,!!v.bigWord)},moveTillCharacter:function(u,h,v){var b=v.repeat,x=tr(u,b,v.forward,v.selectedCharacter,h),k=v.forward?-1:1;return it(k,v),x?(x.ch+=k,x):null},moveToCharacter:function(u,h,v){var b=v.repeat;return it(0,v),tr(u,b,v.forward,v.selectedCharacter,h)||h},moveToSymbol:function(u,h,v){var b=v.repeat;return v.selectedCharacter&&Ve(u,b,v.forward,v.selectedCharacter)||h},moveToColumn:function(u,h,v,b){var x=v.repeat;return b.lastHPos=x-1,b.lastHSPos=u.charCoords(h,"div").left,ks(u,x)},moveToEol:function(u,h,v,b){return $t(u,h,v,b,!1)},moveToFirstNonWhiteSpaceCharacter:function(u,h){var v=h;return new n(v.line,ye(u.getLine(v.line)))},moveToMatchedSymbol:function(u,h){for(var v=h,b=v.line,x=v.ch,k=u.getLine(b),R;x<k.length;x++)if(R=k.charAt(x),R&&Q(R)){var D=u.getTokenTypeAt(new n(b,x+1));if(D!=="string"&&D!=="comment")break}if(x<k.length){var M=R==="<"||R===">"?/[(){}[\]<>]/:/[(){}[\]]/;return u.findMatchingBracket(new n(b,x),{bracketRegex:M}).to}else return v},moveToStartOfLine:function(u,h){return new n(h.line,0)},moveToLineOrEdgeOfDocument:function(u,h,v){var b=v.forward?u.lastLine():u.firstLine();return v.repeatIsExplicit&&(b=v.repeat-u.getOption("firstLineNumber")),new n(b,ye(u.getLine(b)))},moveToStartOfDisplayLine:function(u){return u.execCommand("goLineLeft"),u.getCursor()},moveToEndOfDisplayLine:function(u){u.execCommand("goLineRight");var h=u.getCursor();return h.sticky=="before"&&h.ch--,h},textObjectManipulation:function(u,h,v,b){var x={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},k={"'":!0,'"':!0,"`":!0},R=v.selectedCharacter||"";R=="b"?R="(":R=="B"&&(R="{");var D=!v.textObjectInner,M,z;if(x[R]){if(z=!0,M=mr(u,h,R,D),!M){var j=u.getSearchCursor(RegExp("\\"+R,"g"),h);j.find()&&(M=mr(u,j.from(),R,D))}}else if(k[R])z=!0,M=Cs(u,h,R,D);else if(R==="W"||R==="w")for(var se=v.repeat||1;se-- >0;){var ae=Se(u,{inclusive:D,innerWord:!D,bigWord:R==="W",noSymbol:R==="W",multiline:!0},M&&M.end);ae&&(M||(M=ae),M.end=ae.end)}else if(R==="p")if(M=ic(u,h,v.repeat,0,D),v.linewise=!0,b.visualMode)b.visualLine||(b.visualLine=!0);else{var Z=b.inputState.operatorArgs;Z&&(Z.linewise=!0),M.end.line--}else if(R==="t")M=pt(u,h,D);else if(R==="s"){var ee=u.getLine(h.line);h.ch>0&&$(ee[h.ch])&&--h.ch;var _e=Oa(u,h,v.repeat,1,D),xe=Oa(u,h,v.repeat,-1,D);I(u.getLine(xe.line)[xe.ch])&&I(u.getLine(_e.line)[_e.ch-1])&&(xe={line:xe.line,ch:xe.ch+1}),M={start:xe,end:_e}}return M?u.state.vim.visualMode?Pn(u,M.start,M.end,z):[M.start,M.end]:null},repeatLastCharacterSearch:function(u,h,v){var b=K.lastCharacterSearch,x=v.repeat,k=v.forward===b.forward,R=(b.increment?1:0)*(k?-1:1);u.moveH(-R,"char"),v.inclusive=!!k;var D=tr(u,x,k,b.selectedCharacter);return D?(D.ch+=R,D):(u.moveH(R,"char"),h)}};function Hi(u,h){rn[u]=h}function Ur(u,h){for(var v=[],b=0;b<h;b++)v.push(u);return v}var Nr={change:function(u,h,v){var b,x,k=u.state.vim,R=v[0].anchor,D=v[0].head;if(k.visualMode)if(h.fullLine)D.ch=Number.MAX_VALUE,D.line--,u.setSelection(R,D),x=u.getSelection(),u.replaceSelection(""),b=R;else{x=u.getSelection();var M=Ur("",v.length);u.replaceSelections(M),b=vt(v[0].head,v[0].anchor)}else{x=u.getRange(R,D);var z=k.lastEditInputState;if((z==null?void 0:z.motion)=="moveByWords"&&!I(x)){var j=/\s+$/.exec(x);j&&z.motionArgs&&z.motionArgs.forward&&(D=Ct(D,0,-j[0].length),x=x.slice(0,-j[0].length))}h.linewise&&(R=new n(R.line,ye(u.getLine(R.line))),D.line>R.line&&(D=new n(D.line-1,Number.MAX_VALUE))),u.replaceRange("",R,D),b=R}K.registerController.pushText(h.registerName,"change",x,h.linewise,v.length>1),Vt.enterInsertMode(u,{head:b},u.state.vim)},delete:function(u,h,v){var b,x,k=u.state.vim;if(k.visualBlock){x=u.getSelection();var R=Ur("",v.length);u.replaceSelections(R),b=vt(v[0].head,v[0].anchor)}else{var D=v[0].anchor,M=v[0].head;h.linewise&&M.line!=u.firstLine()&&D.line==u.lastLine()&&D.line==M.line-1&&(D.line==u.firstLine()?D.ch=0:D=new n(D.line-1,St(u,D.line-1))),x=u.getRange(D,M),u.replaceRange("",D,M),b=D,h.linewise&&(b=rn.moveToFirstNonWhiteSpaceCharacter(u,D))}return K.registerController.pushText(h.registerName,"delete",x,h.linewise,k.visualBlock),yt(u,b)},indent:function(u,h,v){var b=u.state.vim,x=b.visualMode&&h.repeat||1;if(b.visualBlock){for(var k=u.getOption("tabSize"),R=u.getOption("indentWithTabs")?"	":" ".repeat(k),D,M=v.length-1;M>=0;M--)if(D=vt(v[M].anchor,v[M].head),h.indentRight)u.replaceRange(R.repeat(x),D,D);else{for(var z=u.getLine(D.line),j=0,se=0;se<x;se++){var ae=z[D.ch+j];if(ae=="	")j++;else if(ae==" "){j++;for(var Z=1;Z<R.length&&(ae=z[D.ch+j],ae===" ");Z++)j++}else break}u.replaceRange("",D,Ct(D,0,j))}return D}else if(u.indentMore)for(var se=0;se<x;se++)h.indentRight?u.indentMore():u.indentLess();else{var ee=v[0].anchor.line,_e=b.visualBlock?v[v.length-1].anchor.line:v[0].head.line;h.linewise&&_e--;for(var M=ee;M<=_e;M++)for(var se=0;se<x;se++)u.indentLine(M,h.indentRight)}return rn.moveToFirstNonWhiteSpaceCharacter(u,v[0].anchor)},indentAuto:function(u,h,v){return u.execCommand("indentAuto"),rn.moveToFirstNonWhiteSpaceCharacter(u,v[0].anchor)},hardWrap:function(u,h,v,b){if(u.hardWrap){var x=v[0].anchor.line,k=v[0].head.line;h.linewise&&k--;var R=u.hardWrap({from:x,to:k});return R>x&&h.linewise&&R--,h.keepCursor?b:new n(R,0)}},changeCase:function(u,h,v,b,x){for(var k=u.getSelections(),R=[],D=h.toLower,M=0;M<k.length;M++){var z=k[M],j="";if(D===!0)j=z.toLowerCase();else if(D===!1)j=z.toUpperCase();else for(var se=0;se<z.length;se++){var ae=z.charAt(se);j+=P(ae)?ae.toLowerCase():ae.toUpperCase()}R.push(j)}return u.replaceSelections(R),h.shouldMoveCursor?x:!u.state.vim.visualMode&&h.linewise&&v[0].anchor.line+1==v[0].head.line?rn.moveToFirstNonWhiteSpaceCharacter(u,b):h.linewise?b:vt(v[0].anchor,v[0].head)},yank:function(u,h,v,b){var x=u.state.vim,k=u.getSelection(),R=x.visualMode?vt(x.sel.anchor,x.sel.head,v[0].head,v[0].anchor):b;return K.registerController.pushText(h.registerName,"yank",k,h.linewise,x.visualBlock),R},rot13:function(u,h,v,b,x){for(var k=u.getSelections(),R=[],D=0;D<k.length;D++){let M=k[D].split("").map(z=>{let j=z.charCodeAt(0);return j>=65&&j<=90?String.fromCharCode(65+(j-65+13)%26):j>=97&&j<=122?String.fromCharCode(97+(j-97+13)%26):z}).join("");R.push(M)}return u.replaceSelections(R),h.shouldMoveCursor?x:!u.state.vim.visualMode&&h.linewise&&v[0].anchor.line+1==v[0].head.line?rn.moveToFirstNonWhiteSpaceCharacter(u,b):h.linewise?b:vt(v[0].anchor,v[0].head)}};function ui(u,h){Nr[u]=h}var Vt={jumpListWalk:function(u,h,v){if(!v.visualMode){var b=h.repeat||1,x=h.forward,k=K.jumpList.move(u,x?b:-b),R=k?k.find():void 0;R||(R=u.getCursor()),u.setCursor(R)}},scroll:function(u,h,v){if(!v.visualMode){var b=h.repeat||1,x=u.defaultTextHeight(),k=u.getScrollInfo().top,R=x*b,D=h.forward?k+R:k-R,M=Ge(u.getCursor()),z=u.charCoords(M,"local");if(h.forward)D>z.top?(M.line+=(D-z.top)/x,M.line=Math.ceil(M.line),u.setCursor(M),z=u.charCoords(M,"local"),u.scrollTo(null,z.top)):u.scrollTo(null,D);else{var j=D+u.getScrollInfo().clientHeight;j<z.bottom?(M.line-=(z.bottom-j)/x,M.line=Math.floor(M.line),u.setCursor(M),z=u.charCoords(M,"local"),u.scrollTo(null,z.bottom-u.getScrollInfo().clientHeight)):u.scrollTo(null,D)}}},scrollToCursor:function(u,h){var v=u.getCursor().line,b=u.charCoords(new n(v,0),"local"),x=u.getScrollInfo().clientHeight,k=b.top;switch(h.position){case"center":k=b.bottom-x/2;break;case"bottom":var R=new n(v,u.getLine(v).length-1),D=u.charCoords(R,"local").bottom-k;k=k-x+D;break}u.scrollTo(null,k)},replayMacro:function(u,h,v){var b=h.selectedCharacter||"",x=h.repeat||1,k=K.macroModeState;for(b=="@"?b=k.latestRegister||"":k.latestRegister=b;x--;)Ns(u,v,k,b)},enterMacroRecordMode:function(u,h){var v=K.macroModeState,b=h.selectedCharacter;K.registerController.isValidRegister(b)&&v.enterMacroRecordMode(u,b)},toggleOverwrite:function(u){u.state.overwrite?(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),e.signal(u,"vim-mode-change",{mode:"insert"})):(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),e.signal(u,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(u,h,v){if(!u.getOption("readOnly")){v.insertMode=!0,v.insertModeRepeat=h&&h.repeat||1;var b=h?h.insertAt:null,x=v.sel,k=h.head||u.getCursor("head"),R=u.listSelections().length;if(b=="eol")k=new n(k.line,St(u,k.line));else if(b=="bol")k=new n(k.line,0);else if(b=="charAfter"){var D=i(u,k,Ct(k,0,1));k=D.end}else if(b=="firstNonBlank"){var D=i(u,k,rn.moveToFirstNonWhiteSpaceCharacter(u,k));k=D.end}else if(b=="startOfSelectedArea"){if(!v.visualMode)return;v.visualBlock?(k=new n(Math.min(x.head.line,x.anchor.line),Math.min(x.head.ch,x.anchor.ch)),R=Math.abs(x.head.line-x.anchor.line)+1):k=x.head.line<x.anchor.line?x.head:new n(x.anchor.line,0)}else if(b=="endOfSelectedArea"){if(!v.visualMode)return;v.visualBlock?(k=new n(Math.min(x.head.line,x.anchor.line),Math.max(x.head.ch,x.anchor.ch)+1),R=Math.abs(x.head.line-x.anchor.line)+1):k=x.head.line>=x.anchor.line?Ct(x.head,0,1):new n(x.anchor.line,0)}else if(b=="inplace"){if(v.visualMode)return}else b=="lastEdit"&&(k=Ma(u)||k);u.setOption("disableInput",!1),h&&h.replace?(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),e.signal(u,"vim-mode-change",{mode:"replace"})):(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),e.signal(u,"vim-mode-change",{mode:"insert"})),K.macroModeState.isPlaying||(u.on("change",ja),v.insertEnd&&v.insertEnd.clear(),v.insertEnd=u.setBookmark(k,{insertLeft:!0}),e.on(u.getInputField(),"keydown",za)),v.visualMode&&Je(u),Vn(u,k,R)}},toggleVisualMode:function(u,h,v){var b=h.repeat,x=u.getCursor(),k;if(v.visualMode)v.visualLine!=!!h.linewise||v.visualBlock!=!!h.blockwise?(v.visualLine=!!h.linewise,v.visualBlock=!!h.blockwise,e.signal(u,"vim-mode-change",{mode:"visual",subMode:v.visualLine?"linewise":v.visualBlock?"blockwise":""}),bt(u)):Je(u);else{v.visualMode=!0,v.visualLine=!!h.linewise,v.visualBlock=!!h.blockwise,k=yt(u,new n(x.line,x.ch+b-1));var R=i(u,x,k);v.sel={anchor:R.start,head:R.end},e.signal(u,"vim-mode-change",{mode:"visual",subMode:v.visualLine?"linewise":v.visualBlock?"blockwise":""}),bt(u),pr(u,v,"<",vt(x,k)),pr(u,v,">",Dn(x,k))}},reselectLastSelection:function(u,h,v){var b=v.lastSelection;if(v.visualMode&&er(u,v),b){var x=b.anchorMark.find(),k=b.headMark.find();if(!x||!k)return;v.sel={anchor:x,head:k},v.visualMode=!0,v.visualLine=b.visualLine,v.visualBlock=b.visualBlock,bt(u),pr(u,v,"<",vt(x,k)),pr(u,v,">",Dn(x,k)),e.signal(u,"vim-mode-change",{mode:"visual",subMode:v.visualLine?"linewise":v.visualBlock?"blockwise":""})}},joinLines:function(u,h,v){var b,x;if(v.visualMode){if(b=u.getCursor("anchor"),x=u.getCursor("head"),lt(x,b)){var k=x;x=b,b=k}x.ch=St(u,x.line)-1}else{var R=Math.max(h.repeat,2);b=u.getCursor(),x=yt(u,new n(b.line+R-1,1/0))}for(var D=0,M=b.line;M<x.line;M++){D=St(u,b.line);var z="",j=0;if(!h.keepSpaces){var se=u.getLine(b.line+1);j=se.search(/\S/),j==-1?j=se.length:z=" "}u.replaceRange(z,new n(b.line,D),new n(b.line+1,j))}var ae=yt(u,new n(b.line,D));v.visualMode&&Je(u,!1),u.setCursor(ae)},newLineAndEnterInsertMode:function(u,h,v){v.insertMode=!0;var b=Ge(u.getCursor());b.line===u.firstLine()&&!h.after?(u.replaceRange(`
`,new n(u.firstLine(),0)),u.setCursor(u.firstLine(),0)):(b.line=h.after?b.line:b.line-1,b.ch=St(u,b.line),u.setCursor(b),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(u)),this.enterInsertMode(u,{repeat:h.repeat},v)},paste:function(u,h,v){var b=K.registerController.getRegister(h.registerName);if(h.registerName==="+")navigator.clipboard.readText().then(k=>{this.continuePaste(u,h,v,k,b)});else{var x=b.toString();this.continuePaste(u,h,v,x,b)}},continuePaste:function(u,h,v,b,x){var k=Ge(u.getCursor());if(b){if(h.matchIndent){var R=u.getOption("tabSize"),D=function(Jt){var Xt=Jt.split("	").length-1,cn=Jt.split(" ").length-1;return Xt*R+cn*1},M=D(u.getLine(u.getCursor().line).match(/^\s*/)[0]),z=b.replace(/\n$/,""),j=b!==z,se=D(b.match(/^\s*/)[0]),b=z.replace(/^\s*/gm,function(Jt){var Xt=M+(D(Jt)-se);if(Xt<0)return"";if(u.getOption("indentWithTabs")){var cn=Math.floor(Xt/R);return Array(cn+1).join("	")}else return Array(Xt+1).join(" ")});b+=j?`
`:""}h.repeat>1&&(b=Array(h.repeat+1).join(b));var ae=x.linewise,Z=x.blockwise,ee=Z?b.split(`
`):void 0;if(ee){ae&&ee.pop();for(var _e=0;_e<ee.length;_e++)ee[_e]=ee[_e]==""?" ":ee[_e];k.ch+=h.after?1:0,k.ch=Math.min(St(u,k.line),k.ch)}else ae?v.visualMode?b=v.visualLine?b.slice(0,-1):`
`+b.slice(0,b.length-1)+`
`:h.after?(b=`
`+b.slice(0,b.length-1),k.ch=St(u,k.line)):k.ch=0:k.ch+=h.after?1:0;var xe;if(v.visualMode){v.lastPastedText=b;var je,Te=pi(u),Ie=Te[0],ct=Te[1],Xe=u.getSelection(),Dt=u.listSelections(),Pt=Array(Dt.length).join("1").split("1");v.lastSelection&&(je=v.lastSelection.headMark.find()),K.registerController.unnamedRegister.setText(Xe),Z?(u.replaceSelections(Pt),ct=new n(Ie.line+b.length-1,Ie.ch),u.setCursor(Ie),jn(u,ct),u.replaceSelections(b),xe=Ie):v.visualBlock?(u.replaceSelections(Pt),u.setCursor(Ie),u.replaceRange(b,Ie,Ie),xe=Ie):(u.replaceRange(b,Ie,ct),xe=u.posFromIndex(u.indexFromPos(Ie)+b.length-1)),je&&(v.lastSelection.headMark=u.setBookmark(je)),ae&&(xe.ch=0)}else if(Z&&ee){u.setCursor(k);for(var _e=0;_e<ee.length;_e++){var ze=k.line+_e;ze>u.lastLine()&&u.replaceRange(`
`,new n(ze,0)),St(u,ze)<k.ch&&fi(u,ze,k.ch)}u.setCursor(k),jn(u,new n(k.line+ee.length-1,k.ch)),u.replaceSelections(ee),xe=k}else if(u.replaceRange(b,k),ae){var ze=h.after?k.line+1:k.line;xe=new n(ze,ye(u.getLine(ze)))}else xe=Ge(k),/\n/.test(b)||(xe.ch+=b.length-(h.after?1:0));v.visualMode&&Je(u,!1),u.setCursor(xe)}},undo:function(u,h){u.operation(function(){fr(u,e.commands.undo,h.repeat)(),u.setCursor(yt(u,u.getCursor("start")))})},redo:function(u,h){fr(u,e.commands.redo,h.repeat)()},setRegister:function(u,h,v){v.inputState.registerName=h.selectedCharacter},insertRegister:function(u,h,v){var b=h.selectedCharacter,x=K.registerController.getRegister(b),k=x&&x.toString();k&&u.replaceSelection(k)},oneNormalCommand:function(u,h,v){Ir(u,!0),v.insertModeReturn=!0,e.on(u,"vim-command-done",function b(){v.visualMode||(v.insertModeReturn&&(v.insertModeReturn=!1,v.insertMode||Vt.enterInsertMode(u,{},v)),e.off(u,"vim-command-done",b))})},setMark:function(u,h,v){var b=h.selectedCharacter;b&&pr(u,v,b,u.getCursor())},replace:function(u,h,v){var b=h.selectedCharacter||"",x=u.getCursor(),k,R,D=u.listSelections();if(v.visualMode)x=u.getCursor("start"),R=u.getCursor("end");else{var M=u.getLine(x.line);k=x.ch+h.repeat,k>M.length&&(k=M.length),R=new n(x.line,k)}var z=i(u,x,R);if(x=z.start,R=z.end,b==`
`)v.visualMode||u.replaceRange("",x,R),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(u);else{var j=u.getRange(x,R);if(j=j.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b),j=j.replace(/[^\n]/g,b),v.visualBlock){var se=Array(u.getOption("tabSize")+1).join(" ");j=u.getSelection(),j=j.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b);var ae=j.replace(/\t/g,se).replace(/[^\n]/g,b).split(`
`);u.replaceSelections(ae)}else u.replaceRange(j,x,R);v.visualMode?(x=lt(D[0].anchor,D[0].head)?D[0].anchor:D[0].head,u.setCursor(x),Je(u,!1)):u.setCursor(Ct(R,0,-1))}},incrementNumberToken:function(u,h){for(var v=u.getCursor(),b=u.getLine(v.line),x=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,k,R,D,M;(k=x.exec(b))!==null&&(R=k.index,D=R+k[0].length,!(v.ch<D)););if(!(!h.backtrack&&D<=v.ch)){if(k){var z=k[2]||k[4],j=k[3]||k[5],se=h.increase?1:-1,ae={"0b":2,0:8,"":10,"0x":16}[z.toLowerCase()];M=(parseInt(k[1]+j,ae)+se*h.repeat).toString(ae);var Z=z?Array(j.length-M.length+1+k[1].length).join("0"):"";M=M.charAt(0)==="-"?"-"+z+Z+M.substr(1):z+Z+M;var ee=new n(v.line,R),_e=new n(v.line,D);u.replaceRange(M,ee,_e)}else return;u.setCursor(new n(v.line,R+M.length-1))}},repeatLastEdit:function(u,h,v){var b=v.lastEditInputState;if(b){var x=h.repeat;x&&h.repeatIsExplicit?b.repeatOverride=x:x=b.repeatOverride||x,js(u,v,x,!1)}},indent:function(u,h){u.indentLine(u.getCursor().line,h.indentRight)},exitInsertMode:function(u,h){Ir(u)}};function Qt(u,h){Vt[u]=h}function yt(u,h,v){var b=u.state.vim,x=b.insertMode||b.visualMode,k=Math.min(Math.max(u.firstLine(),h.line),u.lastLine()),R=u.getLine(k),D=R.length-1+ +!!x,M=Math.min(Math.max(0,h.ch),D),z=R.charCodeAt(M);if(56320<=z&&z<=57343){var j=1;v&&v.line==k&&v.ch>M&&(j=-1),M+=j,M>D&&(M-=2)}return new n(k,M)}function Ft(u){var h={};for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(h[v]=u[v]);return h}function Ct(u,h,v){return typeof h=="object"&&(v=h.ch,h=h.line),new n(u.line+h,u.ch+v)}function di(u,h,v,b){b.operator&&(v="operatorPending");for(var x,k=[],R=[],D=Oe?h.length-c:0;D<h.length;D++){var M=h[D];v=="insert"&&M.context!="insert"||M.context&&M.context!=v||b.operator&&M.type=="action"||!(x=$i(u,M.keys))||(x=="partial"&&k.push(M),x=="full"&&R.push(M))}return{partial:k,full:R}}function $i(u,h){let v=h.slice(-11)=="<character>",b=h.slice(-10)=="<register>";if(v||b){var x=h.length-(v?11:10),k=u.slice(0,x),R=h.slice(0,x);return k==R&&u.length>x?"full":R.indexOf(k)==0?"partial":!1}else return u==h?"full":h.indexOf(u)==0?"partial":!1}function Ar(u){var h=/^.*(<[^>]+>)$/.exec(u),v=h?h[1]:u.slice(-1);if(v.length>1)switch(v){case"<CR>":case"<S-CR>":v=`
`;break;case"<Space>":case"<S-Space>":v=" ";break;default:v="";break}return v}function fr(u,h,v){return function(){for(var b=0;b<v;b++)h(u)}}function Ge(u){return new n(u.line,u.ch)}function Ht(u,h){return u.ch==h.ch&&u.line==h.line}function lt(u,h){return u.line<h.line||u.line==h.line&&u.ch<h.ch}function vt(u,h){return arguments.length>2&&(h=vt.apply(void 0,Array.prototype.slice.call(arguments,1))),lt(u,h)?u:h}function Dn(u,h){return arguments.length>2&&(h=Dn.apply(void 0,Array.prototype.slice.call(arguments,1))),lt(u,h)?h:u}function Kr(u,h,v){var b=lt(u,h),x=lt(h,v);return b&&x}function St(u,h){return u.getLine(h).length}function Zn(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function Qr(u){return u.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function fi(u,h,v){var b=St(u,h),x=Array(v-b+1).join(" ");u.setCursor(new n(h,b)),u.replaceRange(x,u.getCursor())}function jn(u,h){var v=[],b=u.listSelections(),x=Ge(u.clipPos(h)),k=!Ht(h,x),R=Gr(b,u.getCursor("head")),D=Ht(b[R].head,b[R].anchor),M=b.length-1,z=M-R>R?M:0,j=b[z].anchor,se=Math.min(j.line,x.line),ae=Math.max(j.line,x.line),Z=j.ch,ee=x.ch,_e=b[z].head.ch-Z,xe=ee-Z;_e>0&&xe<=0?(Z++,k||ee--):_e<0&&xe>=0?(Z--,D||ee++):_e<0&&xe==-1&&(Z--,ee++);for(var je=se;je<=ae;je++){var Te={anchor:new n(je,Z),head:new n(je,ee)};v.push(Te)}return u.setSelections(v),h.ch=ee,j.ch=Z,j}function Vn(u,h,v){for(var b=[],x=0;x<v;x++){var k=Ct(h,x,0);b.push({anchor:k,head:k})}u.setSelections(b,0)}function Gr(u,h,v){for(var b=0;b<u.length;b++){var x=Ht(u[b].anchor,h),k=Ht(u[b].head,h);if(x||k)return b}return-1}function pi(u,h){var v=u.listSelections(),b=v[0],x=v[v.length-1];return[lt(b.anchor,b.head)?b.anchor:b.head,lt(x.anchor,x.head)?x.head:x.anchor]}function er(u,h){var v=h.sel.anchor,b=h.sel.head;h.lastPastedText&&(h.lastPastedText=(b=u.posFromIndex(u.indexFromPos(v)+h.lastPastedText.length),void 0)),h.lastSelection={anchorMark:u.setBookmark(v),headMark:u.setBookmark(b),anchor:Ge(v),head:Ge(b),visualMode:h.visualMode,visualLine:h.visualLine,visualBlock:h.visualBlock}}function Pn(u,h,v,b){var x=u.state.vim.sel,k=b?h:x.head,R=b?h:x.anchor,D;return lt(v,h)&&(D=v,v=h,h=D),lt(k,R)?(k=vt(h,k),R=Dn(R,v)):(R=vt(h,R),k=Dn(k,v),k=Ct(k,0,-1),k.ch==-1&&k.line!=u.firstLine()&&(k=new n(k.line-1,St(u,k.line-1)))),[R,k]}function bt(u,h,v){var b=u.state.vim;h||(h=b.sel),v||(v=b.visualLine?"line":b.visualBlock?"block":"char");var x=jt(u,h,v);u.setSelections(x.ranges,x.primary)}function jt(u,h,v,b){var x=Ge(h.head),k=Ge(h.anchor);if(v=="char"){var R=!b&&!lt(h.head,h.anchor)?1:0,D=lt(h.head,h.anchor)?1:0;return x=Ct(h.head,0,R),k=Ct(h.anchor,0,D),{ranges:[{anchor:k,head:x}],primary:0}}else if(v=="line"){if(lt(h.head,h.anchor))x.ch=0,k.ch=St(u,k.line);else{k.ch=0;var M=u.lastLine();x.line>M&&(x.line=M),x.ch=St(u,x.line)}return{ranges:[{anchor:k,head:x}],primary:0}}else if(v=="block"){var z=Math.min(k.line,x.line),j=k.ch,se=Math.max(k.line,x.line),ae=x.ch;j<ae?ae+=1:j+=1;for(var Z=se-z+1,ee=x.line==z?0:Z-1,_e=[],xe=0;xe<Z;xe++)_e.push({anchor:new n(z+xe,j),head:new n(z+xe,ae)});return{ranges:_e,primary:ee}}throw"never happens"}function L(u){var h=u.getCursor("head");return u.getSelection().length==1&&(h=vt(h,u.getCursor("anchor"))),h}function Je(u,h){var v=u.state.vim;h!==!1&&u.setCursor(yt(u,v.sel.head)),er(u,v),v.visualMode=!1,v.visualLine=!1,v.visualBlock=!1,v.insertMode||e.signal(u,"vim-mode-change",{mode:"normal"})}function q(u,h,v){var b=u.getRange(h,v);if(/\n\s*$/.test(b)){var x=b.split(`
`);x.pop();for(var k=x.pop();x.length>0&&k&&I(k);k=x.pop())v.line--,v.ch=0;k?(v.line--,v.ch=St(u,v.line)):v.ch=0}}function ne(u,h,v){h.ch=0,v.ch=0,v.line++}function ye(u){if(!u)return 0;var h=u.search(/\S/);return h==-1?u.length:h}function Se(u,{inclusive:h,innerWord:v,bigWord:b,noSymbol:x,multiline:k},R){var D=R||L(u),M=u.getLine(D.line),z=M,j=D.line,se=j,ae=D.ch,Z,ee=x?C[0]:E[0];if(v&&/\s/.test(M.charAt(ae)))ee=function(ct){return/\s/.test(ct)};else{for(;!ee(M.charAt(ae));)if(ae++,ae>=M.length){if(!k)return null;ae--,Z=at(u,D,!0,b,!0);break}b?ee=E[0]:(ee=C[0],ee(M.charAt(ae))||(ee=C[1]))}for(var _e=ae,xe=ae;ee(M.charAt(xe))&&xe>=0;)xe--;if(xe++,Z)_e=Z.to,se=Z.line,z=u.getLine(se),!z&&_e==0&&_e++;else for(;ee(M.charAt(_e))&&_e<M.length;)_e++;if(h){var je=_e,Te=D.ch<=xe&&/\s/.test(M.charAt(D.ch));if(!Te)for(;/\s/.test(z.charAt(_e))&&_e<z.length;)_e++;if(je==_e||Te){for(var Ie=xe;/\s/.test(M.charAt(xe-1))&&xe>0;)xe--;!xe&&!Te&&(xe=Ie)}}return{start:new n(j,xe),end:new n(se,_e)}}function pt(u,h,v){var b=h;if(!e.findMatchingTag||!e.findEnclosingTag)return{start:b,end:b};var x=e.findMatchingTag(u,h)||e.findEnclosingTag(u,h);return!x||!x.open||!x.close?{start:b,end:b}:v?{start:x.open.from,end:x.close.to}:{start:x.open.to,end:x.close.from}}function tt(u,h,v){Ht(h,v)||K.jumpList.add(u,h,v)}function it(u,h){K.lastCharacterSearch.increment=u,K.lastCharacterSearch.forward=h.forward,K.lastCharacterSearch.selectedCharacter=h.selectedCharacter}var wt={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},$e={bracket:{isComplete:function(u){if(u.nextCh===u.symb){if(u.depth++,u.depth>=1)return!0}else u.nextCh===u.reverseSymb&&u.depth--;return!1}},section:{init:function(u){u.curMoveThrough=!0,u.symb=(u.forward?"]":"[")===u.symb?"{":"}"},isComplete:function(u){return u.index===0&&u.nextCh===u.symb}},comment:{isComplete:function(u){var h=u.lastCh==="*"&&u.nextCh==="/";return u.lastCh=u.nextCh,h}},method:{init:function(u){u.symb=u.symb==="m"?"{":"}",u.reverseSymb=u.symb==="{"?"}":"{"},isComplete:function(u){return u.nextCh===u.symb}},preprocess:{init:function(u){u.index=0},isComplete:function(u){var v;if(u.nextCh==="#"){var h=(v=u.lineText.match(/^#(\w+)/))==null?void 0:v[1];if(h==="endif"){if(u.forward&&u.depth===0)return!0;u.depth++}else if(h==="if"){if(!u.forward&&u.depth===0)return!0;u.depth--}if(h==="else"&&u.depth===0)return!0}return!1}}};function Ve(u,h,v,b){var x=Ge(u.getCursor()),k=v?1:-1,R=v?u.lineCount():-1,D=x.ch,M=x.line,z=u.getLine(M),j={lineText:z,nextCh:z.charAt(D),lastCh:null,index:D,symb:b,reverseSymb:(v?{")":"(","}":"{"}:{"(":")","{":"}"})[b],forward:v,depth:0,curMoveThrough:!1},se=wt[b];if(!se)return x;var ae=$e[se].init,Z=$e[se].isComplete;for(ae&&ae(j);M!==R&&h;){if(j.index+=k,j.nextCh=j.lineText.charAt(j.index),!j.nextCh){if(M+=k,j.lineText=u.getLine(M)||"",k>0)j.index=0;else{var ee=j.lineText.length;j.index=ee>0?ee-1:0}j.nextCh=j.lineText.charAt(j.index)}Z(j)&&(x.line=M,x.ch=j.index,h--)}return j.nextCh||j.curMoveThrough?new n(M,j.index):x}function at(u,h,v,b,x){var k=h.line,R=h.ch,D=u.getLine(k),M=v?1:-1,z=b?E:C;if(x&&D==""){if(k+=M,D=u.getLine(k),!W(u,k))return null;R=v?0:D.length}for(;;){if(x&&D=="")return{from:0,to:0,line:k};for(var j=M>0?D.length:-1,se=j,ae=j;R!=j;){for(var Z=!1,ee=0;ee<z.length&&!Z;++ee)if(z[ee](D.charAt(R))){for(se=R;R!=j&&z[ee](D.charAt(R));)R+=M;if(ae=R,Z=se!=ae,se==h.ch&&k==h.line&&ae==se+M)continue;return{from:Math.min(se,ae+1),to:Math.max(se,ae),line:k}}Z||(R+=M)}if(k+=M,!W(u,k))return null;D=u.getLine(k),R=M>0?0:D.length}}function ht(u,h,v,b,x,k){var R=Ge(h),D=[];(b&&!x||!b&&x)&&v++;for(var M=!(b&&x),z=0;z<v;z++){var j=at(u,h,b,k,M);if(!j){var se=St(u,u.lastLine());D.push(b?{line:u.lastLine(),from:se,to:se}:{line:0,from:0,to:0});break}D.push(j),h=new n(j.line,b?j.to-1:j.from)}var ae=D.length!=v,Z=D[0],ee=D.pop();return b&&!x?(!ae&&(Z.from!=R.ch||Z.line!=R.line)&&(ee=D.pop()),ee&&new n(ee.line,ee.from)):b&&x?ee&&new n(ee.line,ee.to-1):!b&&x?(!ae&&(Z.to!=R.ch||Z.line!=R.line)&&(ee=D.pop()),ee&&new n(ee.line,ee.to)):ee&&new n(ee.line,ee.from)}function $t(u,h,v,b,x){var k=new n(h.line+v.repeat-1,1/0),R=u.clipPos(k);return R.ch--,x||(b.lastHPos=1/0,b.lastHSPos=u.charCoords(R,"div").left),k}function tr(u,h,v,b,x){if(b){for(var k=x||u.getCursor(),R=k.ch,D,M=0;M<h;M++){var z=u.getLine(k.line);if(D=rc(R,z,b,v),D==-1)return;R=D}if(D!=null)return new n(u.getCursor().line,D)}}function ks(u,h){var v=u.getCursor().line;return yt(u,new n(v,h-1))}function pr(u,h,v,b){!de(v,T)&&!V.test(v)||(h.marks[v]&&h.marks[v].clear(),h.marks[v]=u.setBookmark(b))}function rc(u,h,v,b,x){return b?h.indexOf(v,u+1):h.lastIndexOf(v,u-1)}function ic(u,h,v,b,x){var k=h.line,R=u.firstLine(),D=u.lastLine(),M,z,j=k;function se(xe){return!u.getLine(xe)}function ae(xe,je,Te){return Te?se(xe)!=se(xe+je):!se(xe)&&se(xe+je)}if(b){for(;R<=j&&j<=D&&v>0;)ae(j,b)&&v--,j+=b;return{start:new n(j,0),end:h}}var Z=u.state.vim;if(Z.visualLine&&ae(k,1,!0)){var ee=Z.sel.anchor;ae(ee.line,-1,!0)&&(!x||ee.line!=k)&&(k+=1)}var _e=se(k);for(j=k;j<=D&&v;j++)ae(j,1,!0)&&(!x||se(j)!=_e)&&v--;for(z=new n(j,0),j>D&&!_e?_e=!0:x=!1,j=k;j>R&&!((!x||se(j)==_e||j==k)&&ae(j,-1,!0));j--);return M=new n(j,0),{start:M,end:z}}function Oa(u,h,v,b,x){function k(z){z.line!==null&&(z.pos+z.dir<0||z.pos+z.dir>=z.line.length?z.line=null:z.pos+=z.dir)}function R(z,j,se,ae){var Z={line:z.getLine(j),ln:j,pos:se,dir:ae};if(Z.line==="")return{ln:Z.ln,pos:Z.pos};var ee=Z.pos;for(k(Z);Z.line!==null;){if(ee=Z.pos,$(Z.line[Z.pos]))if(x){for(k(Z);Z.line!==null&&I(Z.line[Z.pos]);)ee=Z.pos,k(Z);return{ln:Z.ln,pos:ee+1}}else return{ln:Z.ln,pos:Z.pos+1};k(Z)}return{ln:Z.ln,pos:ee+1}}function D(z,j,se,ae){var Z=z.getLine(j),ee={line:Z,ln:j,pos:se,dir:ae};if(ee.line==="")return{ln:ee.ln,pos:ee.pos};var _e=ee.pos;for(k(ee);ee.line!==null;){if(!I(ee.line[ee.pos])&&!$(ee.line[ee.pos]))_e=ee.pos;else if($(ee.line[ee.pos]))return x&&I(ee.line[ee.pos+1])?{ln:ee.ln,pos:ee.pos+1}:{ln:ee.ln,pos:_e};k(ee)}return ee.line=Z,x&&I(ee.line[ee.pos])?{ln:ee.ln,pos:ee.pos}:{ln:ee.ln,pos:_e}}for(var M={ln:h.line,pos:h.ch};v>0;)M=b<0?D(u,M.ln,M.pos,b):R(u,M.ln,M.pos,b),v--;return new n(M.ln,M.pos)}function Mo(u,h,v,b){function x(M,z){if(z.line!==null)if(z.pos+z.dir<0||z.pos+z.dir>=z.line.length){if(z.ln+=z.dir,!W(M,z.ln)){z.line=null;return}z.line=M.getLine(z.ln),z.pos=z.dir>0?0:z.line.length-1}else z.pos+=z.dir}function k(M,z,j,se){var xe=M.getLine(z),ae=xe==="",Z={line:xe,ln:z,pos:j,dir:se},ee={ln:Z.ln,pos:Z.pos},_e=Z.line==="";for(x(M,Z);Z.line!==null;){if(ee.ln=Z.ln,ee.pos=Z.pos,Z.line===""&&!_e||ae&&Z.line!==""&&!I(Z.line[Z.pos]))return{ln:Z.ln,pos:Z.pos};$(Z.line[Z.pos])&&!ae&&(Z.pos===Z.line.length-1||I(Z.line[Z.pos+1]))&&(ae=!0),x(M,Z)}var xe=M.getLine(ee.ln);ee.pos=0;for(var je=xe.length-1;je>=0;--je)if(!I(xe[je])){ee.pos=je;break}return ee}function R(M,z,j,se){var xe=M.getLine(z),ae={line:xe,ln:z,pos:j,dir:se},Z=ae.ln,ee=null,_e=ae.line==="";for(x(M,ae);ae.line!==null;){if(ae.line===""&&!_e)return ee===null?{ln:ae.ln,pos:ae.pos}:{ln:Z,pos:ee};if($(ae.line[ae.pos])&&ee!==null&&!(ae.ln===Z&&ae.pos+1===ee))return{ln:Z,pos:ee};ae.line!==""&&!I(ae.line[ae.pos])&&(_e=!1,Z=ae.ln,ee=ae.pos),x(M,ae)}var xe=M.getLine(Z);ee=0;for(var je=0;je<xe.length;++je)if(!I(xe[je])){ee=je;break}return{ln:Z,pos:ee}}for(var D={ln:h.line,pos:h.ch};v>0;)D=b<0?R(u,D.ln,D.pos,b):k(u,D.ln,D.pos,b),v--;return new n(D.ln,D.pos)}function mr(u,h,v,b){var x=h,k={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[v],R={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[v],D=u.getLine(x.line).charAt(x.ch)===R?1:0,M=u.scanForBracket(new n(x.line,x.ch+D),-1,void 0,{bracketRegex:k}),z=u.scanForBracket(new n(x.line,x.ch+D),1,void 0,{bracketRegex:k});if(!M||!z)return null;var j=M.pos,se=z.pos;if(j.line==se.line&&j.ch>se.ch||j.line>se.line){var ae=j;j=se,se=ae}return b?se.ch+=1:j.ch+=1,{start:j,end:se}}function Cs(u,h,v,b){var x=Ge(h),k=u.getLine(x.line).split(""),R,D,M,z,j=k.indexOf(v);if(x.ch<j)x.ch=j;else if(j<x.ch&&k[x.ch]==v){var se=/string/.test(u.getTokenTypeAt(Ct(h,0,1))),ae=/string/.test(u.getTokenTypeAt(h));se&&!ae||(D=x.ch,--x.ch)}if(k[x.ch]==v&&!D)R=x.ch+1;else for(M=x.ch;M>-1&&!R;M--)k[M]==v&&(R=M+1);if(R&&!D)for(M=R,z=k.length;M<z&&!D;M++)k[M]==v&&(D=M);return!R||!D?{start:x,end:x}:(b&&(--R,++D),{start:new n(x.line,R),end:new n(x.line,D)})}be("pcre",!0,"boolean");class ac{constructor(){this.highlightTimeout}getQuery(){return K.query}setQuery(h){K.query=h}getOverlay(){return this.searchOverlay}setOverlay(h){this.searchOverlay=h}isReversed(){return K.isReversed}setReversed(h){K.isReversed=h}getScrollbarAnnotate(){return this.annotate}setScrollbarAnnotate(h){this.annotate=h}}function bn(u){var h=u.state.vim;return h.searchState_||(h.searchState_=new ac)}function Ss(u){return oc(u,"/")}function Es(u){return Ts(u,"/")}function oc(u,h){var v=Ts(u,h)||[];if(!v.length)return[];var b=[];if(v[0]===0){for(var x=0;x<v.length;x++)typeof v[x]=="number"&&b.push(u.substring(v[x]+1,v[x+1]));return b}}function Ts(u,h){h||(h="/");for(var v=!1,b=[],x=0;x<u.length;x++){var k=u.charAt(x);!v&&k==h&&b.push(x),v=!v&&k=="\\"}return b}function Hn(u){var h={V:"|(){+?*.[$^",M:"|(){+?*.[",m:"|(){+?",v:"<>"},v={">":"(?<=[\\w])(?=[^\\w]|$)","<":"(?<=[^\\w]|^)(?=[\\w])"},b=h.m,x=u.replace(/\\.|[\[|(){+*?.$^<>]/g,function(R){if(R[0]==="\\"){var D=R[1];return D==="}"||b.indexOf(D)!=-1?D:D in h?(b=h[D],""):D in v?v[D]:R}else return b.indexOf(R)==-1?R:v[R]||"\\"+R}),k=x.indexOf("\\zs");return k!=-1&&(x="(?<="+x.slice(0,k)+")"+x.slice(k+3)),k=x.indexOf("\\ze"),k!=-1&&(x=x.slice(0,k)+"(?="+x.slice(k+3)+")"),x}var Rs={"\\n":`
`,"\\r":"\r","\\t":"	"};function uf(u){for(var h=!1,v=[],b=-1;b<u.length;b++){var x=u.charAt(b)||"",k=u.charAt(b+1)||"";Rs[x+k]?(v.push(Rs[x+k]),b++):h?(v.push(x),h=!1):x==="\\"?(h=!0,pe(k)||k==="$"?v.push("$"):k!=="/"&&k!=="\\"&&v.push("\\")):(x==="$"&&v.push("$"),v.push(x),k==="/"&&v.push("\\"))}return v.join("")}var Da={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function sc(u){for(var h=new e.StringStream(u),v=[];!h.eol();){for(;h.peek()&&h.peek()!="\\";)v.push(h.next());var b=!1;for(var x in Da)if(h.match(x,!0)){b=!0,v.push(Da[x]);break}b||v.push(h.next())}return v.join("")}function Pa(u,h,v){K.registerController.getRegister("/").setText(u);var b=Es(u),x,k;return b.length?(x=u.substring(0,b[0]),k=u.substring(b[0]).indexOf("i")!=-1):x=u,x?(we("pcre")||(x=Hn(x)),v&&(h=/^[^A-Z]*$/.test(x)),new RegExp(x,h||k?"im":"m")):null}function nr(u){typeof u=="string"&&(u=document.createElement(u));for(var h=1;h<arguments.length;h++){var v=arguments[h];if(v)if(typeof v!="object"&&(v=document.createTextNode(v)),v.nodeType)u.appendChild(v);else for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(b[0]==="$"?u.style[b.slice(1)]=v[b]:typeof v[b]=="function"?u[b]=v[b]:u.setAttribute(b,v[b]))}return u}function He(u,h,v){var b=nr("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},h);u.openNotification?v?(b=nr("div",{},b,nr("div",{},"Press ENTER or type command to continue")),u.state.closeVimNotification&&u.state.closeVimNotification(),u.state.closeVimNotification=u.openNotification(b,{bottom:!0,duration:0})):u.openNotification(b,{bottom:!0,duration:15e3}):alert(b.innerText)}function Os(u,h){return nr("div",{$display:"flex",$flex:1},nr("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1,$display:"flex"},u,nr("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$flex:1})),h&&nr("span",{$color:"#888"},h))}function La(u,h){var x;if(We.length){h.value||(h.value=""),Me=h;return}var v=Os(h.prefix,h.desc);if(u.openDialog)u.openDialog(v,h.onClose,{onKeyDown:h.onKeyDown,onKeyUp:h.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:h.value});else{var b="";typeof h.prefix!="string"&&h.prefix&&(b+=h.prefix.textContent),h.desc&&(b+=" "+h.desc),(x=h.onClose)==null||x.call(h,prompt(b,""))}}function Ds(u,h){return u instanceof RegExp&&h instanceof RegExp?u.flags==h.flags&&u.source==h.source:!1}function hr(u,h,v,b){if(h){var x=bn(u),k=Pa(h,!!v,!!b);if(k)return Jr(u,k),Ds(k,x.getQuery())||x.setQuery(k),k}}function lc(u){if(u.source.charAt(0)=="^")var h=!0;return{token:function(v){if(h&&!v.sol()){v.skipToEnd();return}var b=v.match(u,!1);if(b)return b[0].length==0?(v.next(),"searching"):!v.sol()&&(v.backUp(1),!u.exec(v.next()+b[0]))?(v.next(),null):(v.match(u),"searching");for(;!v.eol()&&(v.next(),!v.match(u,!1)););},query:u}}var Wi=0;function Jr(u,h){clearTimeout(Wi);var v=bn(u);v.highlightTimeout=Wi,Wi=setTimeout(function(){if(u.state.vim){var b=bn(u);b.highlightTimeout=void 0;var x=b.getOverlay();(!x||h!=x.query)&&(x&&u.removeOverlay(x),x=lc(h),u.addOverlay(x),u.showMatchesOnScrollbar&&(b.getScrollbarAnnotate()&&b.getScrollbarAnnotate().clear(),b.setScrollbarAnnotate(u.showMatchesOnScrollbar(h))),b.setOverlay(x))}},50)}function cc(u,h,v,b){return u.operation(function(){b===void 0&&(b=1);for(var x=u.getCursor(),k=u.getSearchCursor(v,x),R=0;R<b;R++){var D=k.find(h);if(R==0&&D&&Ht(k.from(),x)){var M=h?k.from():k.to();D=k.find(h),D&&!D[0]&&Ht(k.from(),M)&&u.getLine(M.line).length==M.ch&&(D=k.find(h))}if(!D&&(k=u.getSearchCursor(v,h?new n(u.lastLine()):new n(u.firstLine(),0)),!k.find(h)))return}return k.from()})}function uc(u,h,v,b,x){return u.operation(function(){b===void 0&&(b=1);var k=u.getCursor(),R=u.getSearchCursor(v,k),D=R.find(!h);!x.visualMode&&D&&Ht(R.from(),k)&&R.find(!h);for(var M=0;M<b;M++)if(D=R.find(h),!D&&(R=u.getSearchCursor(v,h?new n(u.lastLine()):new n(u.firstLine(),0)),!R.find(h)))return;var z=R.from(),j=R.to();return z&&j&&[z,j]})}function mi(u){var h=bn(u);h.highlightTimeout&&(h.highlightTimeout=(clearTimeout(h.highlightTimeout),void 0)),u.removeOverlay(bn(u).getOverlay()),h.setOverlay(null),h.getScrollbarAnnotate()&&(h.getScrollbarAnnotate().clear(),h.setScrollbarAnnotate(null))}function Ps(u,h,v){return typeof u!="number"&&(u=u.line),h instanceof Array?de(u,h):typeof v=="number"?u>=h&&u<=v:u==h}function Ls(u){var h=u.getScrollInfo(),v=6,b=10,x=u.coordsChar({left:0,top:v+h.top},"local"),k=h.clientHeight-b+h.top,R=u.coordsChar({left:0,top:k},"local");return{top:x.line,bottom:R.line}}function No(u,h,v){if(v=="'"||v=="`")return K.jumpList.find(u,-1)||new n(0,0);if(v==".")return Ma(u);var b=h.marks[v];return b&&b.find()}function Ma(u){if(u.getLastEditEnd)return u.getLastEditEnd();for(var h=u.doc.history.done,v=h.length;v--;)if(h[v].changes)return Ge(h[v].changes[0].to)}class Ms{constructor(){this.commandMap_,this.buildCommandMap_()}processCommand(h,v,b){var x=this;h.operation(function(){h.curOp&&(h.curOp.isVimOp=!0),x._processCommand(h,v,b)})}_processCommand(h,v,b){var x=h.state.vim,k=K.registerController.getRegister(":"),R=k.toString(),D=new e.StringStream(v);k.setText(v);var M=b||{};M.input=v;try{this.parseInput_(h,D,M)}catch(se){throw He(h,se+""),se}x.visualMode&&Je(h);var z,j;if(!M.commandName)M.line!==void 0&&(j="move");else if(z=this.matchCommand_(M.commandName),z){if(j=z.name,z.excludeFromCommandHistory&&k.setText(R),this.parseCommandArgs_(D,M,z),z.type=="exToKey"){It(h,z.toKeys||"",z);return}else if(z.type=="exToEx"){this.processCommand(h,z.toInput||"");return}}if(!j){He(h,'Not an editor command ":'+v+'"');return}try{Ao[j](h,M),(!z||!z.possiblyAsync)&&M.callback&&M.callback()}catch(se){throw He(h,se+""),se}}parseInput_(h,v,b){var k,R;v.eatWhile(":"),v.eat("%")?(b.line=h.firstLine(),b.lineEnd=h.lastLine()):(b.line=this.parseLineSpec_(h,v),b.line!==void 0&&v.eat(",")&&(b.lineEnd=this.parseLineSpec_(h,v))),b.line==null?h.state.vim.visualMode?(b.selectionLine=(k=No(h,h.state.vim,"<"))==null?void 0:k.line,b.selectionLineEnd=(R=No(h,h.state.vim,">"))==null?void 0:R.line):b.selectionLine=h.getCursor().line:(b.selectionLine=b.line,b.selectionLineEnd=b.lineEnd);var x=v.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return x?b.commandName=x[1]:b.commandName=(v.match(/.*/)||[""])[0],b}parseLineSpec_(h,v){var b=v.match(/^(\d+)/);if(b)return parseInt(b[1],10)-1;switch(v.next()){case".":return this.parseLineSpecOffset_(v,h.getCursor().line);case"$":return this.parseLineSpecOffset_(v,h.lastLine());case"'":var x=v.next()||"",k=No(h,h.state.vim,x);if(!k)throw Error("Mark not set");return this.parseLineSpecOffset_(v,k.line);case"-":case"+":return v.backUp(1),this.parseLineSpecOffset_(v,h.getCursor().line);default:v.backUp(1);return}}parseLineSpecOffset_(h,v){var b=h.match(/^([+-])?(\d+)/);if(b){var x=parseInt(b[2],10);b[1]=="-"?v-=x:v+=x}return v}parseCommandArgs_(h,v,b){var R;if(!h.eol()){v.argString=(R=h.match(/.*/))==null?void 0:R[0];var x=b.argDelimiter||/\s+/,k=Zn(v.argString||"").split(x);k.length&&k[0]&&(v.args=k)}}matchCommand_(h){for(var v=h.length;v>0;v--){var b=h.substring(0,v);if(this.commandMap_[b]){var x=this.commandMap_[b];if(x.name.indexOf(h)===0)return x}}}buildCommandMap_(){this.commandMap_={};for(var h=0;h<d.length;h++){var v=d[h],b=v.shortName||v.name;this.commandMap_[b]=v}}map(h,v,b,x){if(h!=":"&&h.charAt(0)==":"){if(b)throw Error("Mode not supported for ex mappings");var k=h.substring(1);v!=":"&&v.charAt(0)==":"?this.commandMap_[k]={name:k,type:"exToEx",toInput:v.substring(1),user:!0}:this.commandMap_[k]={name:k,type:"exToKey",toKeys:v,user:!0}}else{var R={keys:h,type:"keyToKey",toKeys:v,noremap:!!x};b&&(R.context=b),Na(R)}}unmap(h,v){if(h!=":"&&h.charAt(0)==":"){if(v)throw Error("Mode not supported for ex mappings");var b=h.substring(1);if(this.commandMap_[b]&&this.commandMap_[b].user)return delete this.commandMap_[b],!0}else for(var x=h,k=0;k<o.length;k++)if(x==o[k].keys&&o[k].context===v)return o.splice(k,1),Aa(x),!0}}var Ao={colorscheme:function(u,h){if(!h.args||h.args.length<1){He(u,u.getOption("theme"));return}u.setOption("theme",h.args[0])},map:function(u,h,v,b){var x=h.args;if(!x||x.length<2){u&&He(u,"Invalid mapping: "+h.input);return}Gt.map(x[0],x[1],v,b)},imap:function(u,h){this.map(u,h,"insert")},nmap:function(u,h){this.map(u,h,"normal")},vmap:function(u,h){this.map(u,h,"visual")},omap:function(u,h){this.map(u,h,"operatorPending")},noremap:function(u,h){this.map(u,h,void 0,!0)},inoremap:function(u,h){this.map(u,h,"insert",!0)},nnoremap:function(u,h){this.map(u,h,"normal",!0)},vnoremap:function(u,h){this.map(u,h,"visual",!0)},onoremap:function(u,h){this.map(u,h,"operatorPending",!0)},unmap:function(u,h,v){var b=h.args;(!b||b.length<1||!Gt.unmap(b[0],v))&&u&&He(u,"No such mapping: "+h.input)},mapclear:function(u,h){Be.mapclear()},imapclear:function(u,h){Be.mapclear("insert")},nmapclear:function(u,h){Be.mapclear("normal")},vmapclear:function(u,h){Be.mapclear("visual")},omapclear:function(u,h){Be.mapclear("operatorPending")},move:function(u,h){In.processCommand(u,u.state.vim,{keys:"",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:h.line+1})},set:function(u,h){var v=h.args,b=h.setCfg||{};if(!v||v.length<1){u&&He(u,"Invalid mapping: "+h.input);return}var x=v[0].split("="),k=x.shift()||"",R=x.length>0?x.join("="):void 0,D=!1,M=!1;if(k.charAt(k.length-1)=="?"){if(R)throw Error("Trailing characters: "+h.argString);k=k.substring(0,k.length-1),D=!0}else k.charAt(k.length-1)=="!"&&(k=k.substring(0,k.length-1),M=!0);R===void 0&&k.substring(0,2)=="no"&&(k=k.substring(2),R=!1);var z=fe[k]&&fe[k].type=="boolean";if(z&&(M?R=!we(k,u,b):R??(R=!0)),!z&&R===void 0||D){var j=we(k,u,b);j instanceof Error?He(u,j.message):j===!0||j===!1?He(u," "+(j?"":"no")+k):He(u,"  "+k+"="+j)}else{var se=Y(k,R,u,b);se instanceof Error&&He(u,se.message)}},setlocal:function(u,h){h.setCfg={scope:"local"},this.set(u,h)},setglobal:function(u,h){h.setCfg={scope:"global"},this.set(u,h)},registers:function(u,h){var v=h.args,b=K.registerController.registers,x=`----------Registers----------

`;if(v)for(var k=v.join(""),R=0;R<k.length;R++){var D=k.charAt(R);if(K.registerController.isValidRegister(D)){var M=b[D]||new yn;x+='"'+D+"    "+M.toString()+`
`}}else for(var D in b){var z=b[D].toString();z.length&&(x+='"'+D+"    "+z+`
`)}He(u,x,!0)},marks:function(u,h){var v=h.args,b=u.state.vim.marks,x=`-----------Marks-----------
mark	line	col

`;if(v)for(var k=v.join(""),R=0;R<k.length;R++){var D=k.charAt(R),M=b[D]&&b[D].find();M&&(x+=D+"	"+M.line+"	"+M.ch+`
`)}else for(var D in b){var M=b[D]&&b[D].find();M&&(x+=D+"	"+M.line+"	"+M.ch+`
`)}He(u,x,!0)},sort:function(u,h){var v,b,x,k,R;function D(){if(h.argString){var ze=new e.StringStream(h.argString);if(ze.eat("!")&&(v=!0),ze.eol())return;if(!ze.eatSpace())return"Invalid arguments";var Ke=ze.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!Ke||!ze.eol())return"Invalid arguments";if(Ke[1]){b=Ke[1].indexOf("i")!=-1,x=Ke[1].indexOf("u")!=-1;var Jt=Ke[1].indexOf("d")!=-1||Ke[1].indexOf("n")!=-1,Xt=Ke[1].indexOf("x")!=-1,cn=Ke[1].indexOf("o")!=-1;if(Number(Jt)+Number(Xt)+Number(cn)>1)return"Invalid arguments";k=Jt&&"decimal"||Xt&&"hex"||cn&&"octal"}Ke[2]&&(R=new RegExp(Ke[2].substr(1,Ke[2].length-2),b?"i":""))}}var M=D();if(M){He(u,M+": "+h.argString);return}var z=h.line||u.firstLine(),j=h.lineEnd||h.line||u.lastLine();if(z==j)return;var se=new n(z,0),ae=new n(j,St(u,j)),Z=u.getRange(se,ae).split(`
`),ee=k=="decimal"?/(-?)([\d]+)/:k=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:k=="octal"?/([0-7]+)/:null,_e=k=="decimal"?10:k=="hex"?16:k=="octal"?8:void 0,xe=[],je=[];if(k||R)for(var Te=0;Te<Z.length;Te++){var Ie=R?Z[Te].match(R):null;Ie&&Ie[0]!=""?xe.push(Ie):ee&&ee.exec(Z[Te])?xe.push(Z[Te]):je.push(Z[Te])}else je=Z;function ct(ze,Ke){if(v){var Jt=ze;ze=Ke,Ke=Jt}b&&(ze=ze.toLowerCase(),Ke=Ke.toLowerCase());var Xt=ee&&ee.exec(ze),cn=ee&&ee.exec(Ke);return!Xt||!cn?ze<Ke?-1:1:parseInt((Xt[1]+Xt[2]).toLowerCase(),_e)-parseInt((cn[1]+cn[2]).toLowerCase(),_e)}function Xe(ze,Ke){if(v){var Jt=ze;ze=Ke,Ke=Jt}return b&&(ze[0]=ze[0].toLowerCase(),Ke[0]=Ke[0].toLowerCase()),ze[0]<Ke[0]?-1:1}if(xe.sort(R?Xe:ct),R)for(var Te=0;Te<xe.length;Te++)xe[Te]=xe[Te].input;else k||je.sort(ct);if(Z=v?xe.concat(je):je.concat(xe),x){var Dt=Z,Pt;Z=[];for(var Te=0;Te<Dt.length;Te++)Dt[Te]!=Pt&&Z.push(Dt[Te]),Pt=Dt[Te]}u.replaceRange(Z.join(`
`),se,ae)},vglobal:function(u,h){this.global(u,h)},normal:function(u,h){var v=!1,b=h.argString;if(b&&b[0]=="!"&&(b=b.slice(1),v=!0),b=b.trimStart(),!b){He(u,"Argument is required.");return}var x=h.line;if(typeof x=="number")for(var k=isNaN(h.lineEnd)?x:h.lineEnd,R=x;R<=k;R++)u.setCursor(R,0),It(u,h.argString.trimStart(),{noremap:v}),u.state.vim.insertMode&&Ir(u,!0);else It(u,h.argString.trimStart(),{noremap:v}),u.state.vim.insertMode&&Ir(u,!0)},global:function(u,h){var v=h.argString;if(!v){He(u,"Regular Expression missing from global");return}var b=h.commandName[0]==="v";v[0]==="!"&&h.commandName[0]==="g"&&(b=!0,v=v.slice(1));var x=h.line===void 0?u.firstLine():h.line,k=h.lineEnd||h.line||u.lastLine(),R=Ss(v),D=v,M="";if(R&&R.length&&(D=R[0],M=R.slice(1,R.length).join("/")),D)try{hr(u,D,!0,!0)}catch{He(u,"Invalid regex: "+D);return}for(var z=bn(u).getQuery(),j=[],se=x;se<=k;se++){var ae=u.getLine(se);z.test(ae)!==b&&j.push(M?u.getLineHandle(se):ae)}if(!M){He(u,j.join(`
`));return}var Z=0,ee=function(){if(Z<j.length){var _e=j[Z++],xe=u.getLineNumber(_e);if(xe==null){ee();return}var je=xe+1+M;Gt.processCommand(u,je,{callback:ee})}else u.releaseLineHandles&&u.releaseLineHandles()};ee()},substitute:function(u,h){if(!u.getSearchCursor)throw Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var v=h.argString,b=v?oc(v,v[0]):[],x="",k="",R,D,M,z=!1,j=!1;if(b&&b.length)x=b[0],we("pcre")&&x!==""&&(x=new RegExp(x).source),k=b[1],k!==void 0&&(k=we("pcre")?sc(k.replace(/([^\\])&/g,"$1$$&")):uf(k),K.lastSubstituteReplacePart=k),R=b[2]?b[2].split(" "):[];else if(v&&v.length){He(u,"Substitutions should be of the form :s/pattern/replace/");return}if(R&&(D=R[0],M=parseInt(R[1]),D&&(D.indexOf("c")!=-1&&(z=!0),D.indexOf("g")!=-1&&(j=!0),x=we("pcre")?x+"/"+D:x.replace(/\//g,"\\/")+"/"+D)),x)try{hr(u,x,!0,!0)}catch{He(u,"Invalid regex: "+x);return}if(k||(k=K.lastSubstituteReplacePart),k===void 0){He(u,"No previous substitute regular expression");return}var se=bn(u).getQuery(),ae=h.line===void 0?u.getCursor().line:h.line,Z=h.lineEnd||ae;ae==u.firstLine()&&Z==u.lastLine()&&(Z=1/0),M&&(ae=Z,Z=ae+M-1);var ee=yt(u,new n(ae,0)),_e=u.getSearchCursor(se,ee);Ui(u,z,j,ae,Z,_e,se,k,h.callback)},startinsert:function(u,h){It(u,h.argString=="!"?"A":"i",{})},redo:e.commands.redo,undo:e.commands.undo,write:function(u){e.commands.save?e.commands.save(u):u.save&&u.save()},nohlsearch:function(u){mi(u)},yank:function(u){var h=Ge(u.getCursor()).line,v=u.getLine(h);K.registerController.pushText("0","yank",v,!0,!0)},delete:function(u,h){var v=h.selectionLine,b=isNaN(h.selectionLineEnd)?v:h.selectionLineEnd;Nr.delete(u,{linewise:!0},[{anchor:new n(v,0),head:new n(b+1,0)}])},join:function(u,h){var v=h.selectionLine,b=isNaN(h.selectionLineEnd)?v:h.selectionLineEnd;u.setCursor(new n(v,0)),Vt.joinLines(u,{repeat:b-v},u.state.vim)},delmarks:function(u,h){if(!h.argString||!Zn(h.argString)){He(u,"Argument required");return}for(var v=u.state.vim,b=new e.StringStream(Zn(h.argString));!b.eol();){b.eatSpace();var x=b.pos;if(!b.match(/[a-zA-Z]/,!1)){He(u,"Invalid argument: "+h.argString.substring(x));return}var k=b.next();if(b.match("-",!0)){if(!b.match(/[a-zA-Z]/,!1)){He(u,"Invalid argument: "+h.argString.substring(x));return}var R=k,D=b.next();if(R&&D&&N(R)==N(D)){var M=R.charCodeAt(0),z=D.charCodeAt(0);if(M>=z){He(u,"Invalid argument: "+h.argString.substring(x));return}for(var j=0;j<=z-M;j++){var se=String.fromCharCode(M+j);delete v.marks[se]}}else{He(u,"Invalid argument: "+R+"-");return}}else k&&delete v.marks[k]}}},Gt=new Ms;Be.defineEx("version","ve",u=>{He(u,"Codemirror-vim version: 6.3.0")});function Ui(u,h,v,b,x,k,R,D,M){u.state.vim.exMode=!0;var z=!1,j=0,se,ae,Z;function ee(){u.operation(function(){for(;!z;)_e(),je();Te()})}function _e(){var ct="",Xe=k.match||k.pos&&k.pos.match;ct=Xe?D.replace(/\$(\d{1,3}|[$&])/g,function(Pt,ze){if(ze=="$")return"$";if(ze=="&")return Xe[0];for(var Ke=ze;parseInt(Ke)>=Xe.length&&Ke.length>0;)Ke=Ke.slice(0,Ke.length-1);return Ke?Xe[Ke]+ze.slice(Ke.length,ze.length):Pt}):u.getRange(k.from(),k.to()).replace(R,D);var Dt=k.to().line;k.replace(ct),ae=k.to().line,x+=ae-Dt,Z=ae<Dt}function xe(){var ct=se&&Ge(k.to()),Xe=k.findNext();return Xe&&!Xe[0]&&ct&&Ht(k.from(),ct)&&(Xe=k.findNext()),Xe&&j++,Xe}function je(){for(;xe()&&Ps(k.from(),b,x);)if(!(!v&&k.from().line==ae&&!Z)){u.scrollIntoView(k.from(),30),u.setSelection(k.from(),k.to()),se=k.from(),z=!1;return}z=!0}function Te(ct){if(ct&&ct(),u.focus(),se){u.setCursor(se);var Xe=u.state.vim;Xe.exMode=!1,Xe.lastHPos=Xe.lastHSPos=se.ch}M?M():z&&He(u,(j?"Found "+j+" matches":"No matches found")+" for pattern: "+R+(we("pcre")?" (set nopcre to use Vim regexps)":""))}function Ie(ct,Xe,Dt){switch(e.e_stop(ct),nn(ct)){case"y":_e(),je();break;case"n":je();break;case"a":var Pt=M;M=void 0,u.operation(ee),M=Pt;break;case"l":_e();case"q":case"<Esc>":case"<C-c>":case"<C-[>":Te(Dt);break}return z&&Te(Dt),!0}if(je(),z){He(u,"No matches for "+R+(we("pcre")?" (set nopcre to use vim regexps)":""));return}if(!h){ee(),M&&M();return}La(u,{prefix:nr("span","replace with ",nr("strong",D)," (y/n/a/q/l)"),onKeyDown:Ie})}function Ir(u,h){var v=u.state.vim,b=K.macroModeState,x=K.registerController.getRegister("."),k=b.isPlaying,R=b.lastInsertModeChanges;k||(u.off("change",ja),v.insertEnd&&v.insertEnd.clear(),v.insertEnd=void 0,e.off(u.getInputField(),"keydown",za)),!k&&v.insertModeRepeat&&v.insertModeRepeat>1&&(js(u,v,v.insertModeRepeat-1,!0),v.lastEditInputState.repeatOverride=v.insertModeRepeat),delete v.insertModeRepeat,v.insertMode=!1,h||u.setCursor(u.getCursor().line,u.getCursor().ch-1),u.setOption("keyMap","vim"),u.setOption("disableInput",!0),u.toggleOverwrite(!1),x.setText(R.changes.join("")),e.signal(u,"vim-mode-change",{mode:"normal"}),b.isRecording&&Xr(b)}function Na(u){o.unshift(u),u.keys&&dc(u.keys)}function dc(u){u.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(h){h&&(s[h]||(s[h]=0),s[h]++)})}function Aa(u){u.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(h){s[h]&&s[h]--})}function jr(u,h,v,b,x){var k={keys:u,type:h};for(var R in k[h]=v,k[h+"Args"]=b,x)k[R]=x[R];Na(k)}be("insertModeEscKeysTimeout",200,"number");function Ns(u,h,v,b){var x=K.registerController.getRegister(b);if(b==":"){x.keyBuffer[0]&&Gt.processCommand(u,x.keyBuffer[0]),v.isPlaying=!1;return}var k=x.keyBuffer,R=0;v.isPlaying=!0,v.replaySearchQueries=x.searchQueries.slice(0);for(var D=0;D<k.length;D++)for(var M=k[D],z,j,se=/<(?:[CSMA]-)*\w+>|./gi;z=se.exec(M);)if(j=z[0],Be.handleKey(u,j,"macro"),h.insertMode){var ae=x.insertModeChanges[R++].changes;K.macroModeState.lastInsertModeChanges.changes=ae,Yr(u,ae,1),Ir(u)}v.isPlaying=!1}function Ia(u,h){if(!u.isPlaying){var v=u.latestRegister,b=K.registerController.getRegister(v);b&&b.pushText(h)}}function Xr(u){if(!u.isPlaying){var h=u.latestRegister,v=K.registerController.getRegister(h);v&&v.pushInsertModeChanges&&v.pushInsertModeChanges(u.lastInsertModeChanges)}}function As(u,h){if(!u.isPlaying){var v=u.latestRegister,b=K.registerController.getRegister(v);b&&b.pushSearchQuery&&b.pushSearchQuery(h)}}function ja(u,h){var v=K.macroModeState,b=v.lastInsertModeChanges;if(!v.isPlaying)for(var x=u.state.vim;h;){if(b.expectCursorActivityForChange=!0,b.ignoreCount>1)b.ignoreCount--;else if(h.origin=="+input"||h.origin=="paste"||h.origin===void 0){var k=u.listSelections().length;k>1&&(b.ignoreCount=k);var R=h.text.join(`
`);if(b.maybeReset&&(b.maybeReset=(b.changes=[],!1)),R)if(u.state.overwrite&&!/\n/.test(R))b.changes.push([R]);else{if(R.length>1){var D=x&&x.insertEnd&&x.insertEnd.find(),M=u.getCursor();if(D&&D.line==M.line){var z=D.ch-M.ch;z>0&&z<R.length&&(b.changes.push([R,z]),R="")}}R&&b.changes.push(R)}}h=h.next}}function Is(u){var x;var h=u.state.vim;if(h.insertMode){var v=K.macroModeState;if(v.isPlaying)return;var b=v.lastInsertModeChanges;b.expectCursorActivityForChange?b.expectCursorActivityForChange=!1:(b.maybeReset=!0,h.insertEnd&&h.insertEnd.clear(),h.insertEnd=u.setBookmark(u.getCursor(),{insertLeft:!0}))}else(x=u.curOp)!=null&&x.isVimOp||qa(u,h)}function qa(u,h){var v=u.getCursor("anchor"),b=u.getCursor("head");if(h.visualMode&&!u.somethingSelected()?Je(u,!1):!h.visualMode&&!h.insertMode&&u.somethingSelected()&&(h.visualMode=!0,h.visualLine=!1,e.signal(u,"vim-mode-change",{mode:"visual"})),h.visualMode){var x=lt(b,v)?0:-1,k=lt(b,v)?-1:0;b=Ct(b,0,x),v=Ct(v,0,k),h.sel={anchor:v,head:b},pr(u,h,"<",vt(b,v)),pr(u,h,">",Dn(b,v))}else h.insertMode||(h.lastHPos=u.getCursor().ch)}function za(u){var h=K.macroModeState.lastInsertModeChanges,v=e.keyName?e.keyName(u):u.key;v&&(v.indexOf("Delete")!=-1||v.indexOf("Backspace")!=-1)&&(h.maybeReset&&(h.maybeReset=(h.changes=[],!1)),h.changes.push(new Qe(v,u)))}function js(u,h,v,b){var x=K.macroModeState;x.isPlaying=!0;var k=h.lastEditActionCommand,R=h.inputState;function D(){k?In.processAction(u,h,k):In.evalInput(u,h)}function M(j){if(x.lastInsertModeChanges.changes.length>0){j=h.lastEditActionCommand?j:1;var se=x.lastInsertModeChanges;Yr(u,se.changes,j)}}if(h.inputState=h.lastEditInputState,k&&k.interlaceInsertRepeat)for(var z=0;z<v;z++)D(),M(1);else b||D(),M(v);h.inputState=R,h.insertMode&&!b&&Ir(u),x.isPlaying=!1}function Cn(u,h){e.lookupKey(h,"vim-insert",function(v){return typeof v=="string"?e.commands[v](u):v(u),!0})}function Yr(u,h,v){var b=u.getCursor("head"),x=K.macroModeState.lastInsertModeChanges.visualBlock;x&&(Vn(u,b,x+1),v=u.listSelections().length,u.setCursor(b));for(var k=0;k<v;k++){x&&u.setCursor(Ct(b,k,0));for(var R=0;R<h.length;R++){var D=h[R];if(D instanceof Qe)Cn(u,D.keyName);else if(typeof D=="string")u.replaceSelection(D);else{var M=u.getCursor(),z=Ct(M,0,D[0].length-(D[1]||0));u.replaceRange(D[0],M,D[1]?M:z),u.setCursor(z)}}}x&&u.setCursor(Ct(b,0,1))}function Ki(u){var h=new u.constructor;return Object.keys(u).forEach(function(v){if(v!="insertEnd"){var b=u[v];Array.isArray(b)?b=b.slice():b&&typeof b=="object"&&b.constructor!=Object&&(b=Ki(b)),h[v]=b}}),u.sel&&(h.sel={head:u.sel.head&&Ge(u.sel.head),anchor:u.sel.anchor&&Ge(u.sel.anchor)}),h}function Fa(u,h,v){var k=G(u),b=u,x=!1,k=Be.maybeInitVimState_(b),R=k.visualBlock||k.wasInVisualBlock;if(b.state.closeVimNotification){var D=b.state.closeVimNotification;if(b.state.closeVimNotification=null,D(),h=="<CR>")return kt(b),!0}var M=b.isInMultiSelectMode();if(k.wasInVisualBlock&&!M?k.wasInVisualBlock=!1:M&&k.visualBlock&&(k.wasInVisualBlock=!0),h=="<Esc>"&&!k.insertMode&&!k.visualMode&&M&&k.status=="<Esc>")kt(b);else if(R||!M||b.inVirtualSelectionMode)x=Be.handleKey(b,h,v);else{var z=Ki(k),j=k.inputState.changeQueueList||[];b.operation(function(){var ae;b.curOp&&(b.curOp.isVimOp=!0);var se=0;b.forEachSelection(function(){b.state.vim.inputState.changeQueue=j[se];var Z=b.getCursor("head"),ee=b.getCursor("anchor"),_e=lt(Z,ee)?0:-1,xe=lt(Z,ee)?-1:0;Z=Ct(Z,0,_e),ee=Ct(ee,0,xe),b.state.vim.sel.head=Z,b.state.vim.sel.anchor=ee,x=Be.handleKey(b,h,v),b.virtualSelection&&(j[se]=b.state.vim.inputState.changeQueue,b.state.vim=Ki(z)),se++}),(ae=b.curOp)!=null&&ae.cursorActivity&&!x&&(b.curOp.cursorActivity=!1),b.state.vim=k,k.inputState.changeQueueList=j,k.inputState.changeQueue=null},!0)}return x&&!k.visualMode&&!k.insertMode&&k.visualMode!=b.somethingSelected()&&qa(b,k),x}return Le(),Be}function Gn(e,n){var i=n.ch,o=n.line+1;o<1&&(o=1,i=0),o>e.lines&&(o=e.lines,i=Number.MAX_VALUE);var s=e.line(o);return Math.min(s.from+Math.max(0,i),s.to)}function Or(e,n){let i=e.lineAt(n);return{line:i.number-1,ch:n-i.from}}var Hr=class{constructor(e,n){this.line=e,this.ch=n}};function f0(e,n,i){if(e.addEventListener)e.addEventListener(n,i,!1);else{var o=e._handlers||(e._handlers={});o[n]=(o[n]||[]).concat(i)}}function p0(e,n,i){if(e.removeEventListener)e.removeEventListener(n,i,!1);else{var o=e._handlers,s=o&&o[n];if(s){var c=s.indexOf(i);c>-1&&(o[n]=s.slice(0,c).concat(s.slice(c+1)))}}}function m0(e,n,...i){var c;var o=(c=e._handlers)==null?void 0:c[n];if(o)for(var s=0;s<o.length;++s)o[s](...i)}function h0(e,...n){if(e)for(var i=0;i<e.length;++i)e[i](...n)}var kd;try{kd=RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{kd=/[\w]/}function ys(e,n){var i=e.cm6;if(!i.state.readOnly){var o="input.type.compose";if(e.curOp&&(e.curOp.lastChange||(o="input.type.compose.start")),n.annotations)try{n.annotations.some(function(s){s.value=="input"&&(s.value=o)})}catch(s){console.error(s)}else n.userEvent=o;return i.dispatch(n)}}function g0(e,n){var o;e.curOp&&(e.curOp.$changeStart=void 0),(n?C4:g4)(e.cm6);let i=(o=e.curOp)==null?void 0:o.$changeStart;i!=null&&e.cm6.dispatch({selection:{anchor:i}})}var rk={Left:e=>us(e.cm6,{key:"Left"},"editor"),Right:e=>us(e.cm6,{key:"Right"},"editor"),Up:e=>us(e.cm6,{key:"Up"},"editor"),Down:e=>us(e.cm6,{key:"Down"},"editor"),Backspace:e=>us(e.cm6,{key:"Backspace"},"editor"),Delete:e=>us(e.cm6,{key:"Delete"},"editor")},Ze=class w_{openDialog(n,i,o){return ak(this,n,i,o)}openNotification(n,i){return ik(this,n,i)}constructor(n){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=n,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}on(n,i){f0(this,n,i)}off(n,i){p0(this,n,i)}signal(n,i,o){m0(this,n,i,o)}indexFromPos(n){return Gn(this.cm6.state.doc,n)}posFromIndex(n){return Or(this.cm6.state.doc,n)}foldCode(n){let i=this.cm6,o=i.state.selection.ranges,s=this.cm6.state.doc,c=Gn(s,n),d=fn.create([fn.range(c,c)],0).ranges;i.state.selection.ranges=d,i4(i),i.state.selection.ranges=o}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(n,i){typeof n=="object"&&(i=n.ch,n=n.line);var o=Gn(this.cm6.state.doc,{line:n,ch:i||0});this.cm6.dispatch({selection:{anchor:o}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(n){var i=this.cm6.state.selection.main,o=n=="head"||!n?i.head:n=="anchor"?i.anchor:n=="start"?i.from:n=="end"?i.to:null;if(o==null)throw Error("Invalid cursor type");return this.posFromIndex(o)}listSelections(){var n=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(i=>({anchor:Or(n,i.anchor),head:Or(n,i.head)}))}setSelections(n,i){var o=this.cm6.state.doc,s=n.map(c=>{var d=Gn(o,c.head),f=Gn(o,c.anchor);return d==f?fn.cursor(d,1):fn.range(f,d)});this.cm6.dispatch({selection:fn.create(s,i)})}setSelection(n,i,o){this.setSelections([{anchor:n,head:i}],0),o&&o.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(n){var i=this.cm6.state.doc;return n<0||n>=i.lines?"":this.cm6.state.doc.line(n+1).text}getLineHandle(n){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:n,index:this.indexFromPos(new Hr(n,0))}}getLineNumber(n){var i=this.$lineHandleChanges;if(!i)return null;for(var o=n.index,s=0;s<i.length;s++)if(o=i[s].changes.mapPos(o,1,f2.TrackAfter),o==null)return null;var c=this.posFromIndex(o);return c.ch==0?c.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(n,i){var o=this.cm6.state.doc;return this.cm6.state.sliceDoc(Gn(o,n),Gn(o,i))}replaceRange(n,i,o,s){o||(o=i);var c=this.cm6.state.doc,d=Gn(c,i),f=Gn(c,o);ys(this,{changes:{from:d,to:f,insert:n}})}replaceSelection(n){ys(this,this.cm6.state.replaceSelection(n))}replaceSelections(n){var i=this.cm6.state.selection.ranges.map((o,s)=>({from:o.from,to:o.to,insert:n[s]||""}));ys(this,{changes:i})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var n=this.cm6;return n.state.selection.ranges.map(i=>n.state.sliceDoc(i.from,i.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(n=>!n.empty)}getInputField(){return this.cm6.contentDOM}clipPos(n){var i=this.cm6.state.doc,o=n.ch,s=n.line+1;s<1&&(s=1,o=0),s>i.lines&&(s=i.lines,o=Number.MAX_VALUE);var c=i.line(s);return o=Math.min(Math.max(0,o),c.to-c.from),new Hr(s-1,o)}getValue(){return this.cm6.state.doc.toString()}setValue(n){var i=this.cm6;return i.dispatch({changes:{from:0,to:i.state.doc.length,insert:n},selection:fn.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(n,i){var o=this.cm6.state,s=Gn(o.doc,n),c=m2(o,s+1,-1);return c&&c.end||(c=m2(o,s,1),c&&c.end)?{to:Or(o.doc,c.end.from)}:{to:void 0}}scanForBracket(n,i,o,s){return lk(this,n,i,o,s)}indentLine(n,i){i?this.indentMore():this.indentLess()}indentMore(){L4(this.cm6)}indentLess(){w4(this.cm6)}execCommand(n){if(n=="indentAuto")w_.commands.indentAuto(this);else if(n=="goLineLeft")S4(this.cm6);else if(n=="goLineRight"){x4(this.cm6);let i=this.cm6.state,o=i.selection.main.head;o<i.doc.length&&i.sliceDoc(o,o+1)!==`
`&&_4(this.cm6)}else console.log(n+" is not implemented")}setBookmark(n,i){var o=i!=null&&i.insertLeft?1:-1,s=this.indexFromPos(n);return new dk(this,s,o)}addOverlay({query:n}){let i=new R4({regexp:!0,search:n.source,caseSensitive:!/i/.test(n.flags)});if(i.valid){i.forVim=!0,this.cm6Query=i;let o=im.of(i);return this.cm6.dispatch({effects:o}),i}}removeOverlay(n){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let i=im.of(this.cm6Query);this.cm6.dispatch({effects:i})}getSearchCursor(n,i){var o=this,s=null,c=null,d=!1;i.ch??(i.ch=Number.MAX_VALUE);var f=Gn(o.cm6.state.doc,i),m=n.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(E,T){return T||"\\"+E});function g(E,T=0,A=E.length){return new E4(E,m,{ignoreCase:n.ignoreCase},T,A)}function w(E){var T=o.cm6.state.doc;if(E>T.length)return null;let A=g(T,E).next();return A.done?null:A.value}var _=1e4;function C(E,T){var A=o.cm6.state.doc;for(let V=1;;V++){let H=Math.max(E,T-V*_),W=g(A,H,T),N=null;for(;!W.next().done;)N=W.value;if(N&&(H==E||N.from>H+10))return N;if(H==E)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(E){var T=o.cm6.state.doc;return s=E?C(0,s?d?s.to-1:s.from:f):w(s?d?s.to+1:s.to:f),c=s&&{from:Or(T,s.from),to:Or(T,s.to),match:s.match},d=s?s.from==s.to:!1,s&&s.match},from:function(){return c==null?void 0:c.from},to:function(){return c==null?void 0:c.to},replace:function(E){s&&(ys(o,{changes:{from:s.from,to:s.to,insert:E}}),s.to=s.from+E.length,c&&(c.to=Or(o.cm6.state.doc,s.to)))},get match(){return c&&c.match}}}findPosV(n,i,o,s){let{cm6:c}=this,d=c.state.doc,f=o=="page"?c.dom.clientHeight:0,m=Gn(d,n),g=fn.cursor(m,1,void 0,s),w=Math.round(Math.abs(i));for(let C=0;C<w;C++)o=="page"?g=c.moveVertically(g,i>0,f):o=="line"&&(g=c.moveVertically(g,i>0));let _=Or(d,g.head);return(i<0&&g.head==0&&s!=0&&n.line==0&&n.ch!=0||i>0&&g.head==d.length&&_.ch!=s&&n.line==_.line)&&(_.hitSide=!0),_}charCoords(n,i){var o=this.cm6.contentDOM.getBoundingClientRect(),s=Gn(this.cm6.state.doc,n),c=this.cm6.coordsAtPos(s),d=-o.top;return{left:((c==null?void 0:c.left)||0)-o.left,top:((c==null?void 0:c.top)||0)+d,bottom:((c==null?void 0:c.bottom)||0)+d}}coordsChar(n,i){var o=this.cm6.contentDOM.getBoundingClientRect(),s=this.cm6.posAtCoords({x:n.left+o.left,y:n.top+o.top})||0;return Or(this.cm6.state.doc,s)}getScrollInfo(){var n=this.cm6.scrollDOM;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight,width:n.scrollWidth,clientHeight:n.clientHeight,clientWidth:n.clientWidth}}scrollTo(n,i){n!=null&&(this.cm6.scrollDOM.scrollLeft=n),i!=null&&(this.cm6.scrollDOM.scrollTop=i)}scrollIntoView(n,i){if(n){var o=this.indexFromPos(n);this.cm6.dispatch({effects:en.scrollIntoView(o)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(n,i){this.cm6.dom.style.width=n+4+"px",this.cm6.dom.style.height=i+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(n){for(let o in this.$lineHandleChanges&&this.$lineHandleChanges.push(n),this.marks)this.marks[o].update(n.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(o=>o.map(n.changes)));var i=this.curOp=this.curOp||{};n.changes.iterChanges((o,s,c,d,f)=>{(i.$changeStart==null||i.$changeStart>c)&&(i.$changeStart=c),this.$lastChangeEndOffset=d;var m={text:f.toJSON()};i.lastChange?i.lastChange.next=i.lastChange=m:i.lastChange=i.change=m},!0),i.changeHandlers||(i.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var n=this.curOp=this.curOp||{};n.cursorActivityHandlers||(n.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(n,i){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var o=n()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return o}onBeforeEndOperation(){var n=this.curOp,i=!1;n&&(n.change&&h0(n.changeHandlers,this,n.change),n&&n.cursorActivity&&(h0(n.cursorActivityHandlers,this,null),n.isVimOp&&(i=!0)),this.curOp=null),i&&this.scrollIntoView()}moveH(n,i){if(i=="char"){var o=this.getCursor();this.setCursor(o.line,o.ch+n)}}setOption(n,i){switch(n){case"keyMap":this.state.keyMap=i;break;case"textwidth":this.state.textwidth=i;break}}getOption(n){switch(n){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readOnly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(p2)=="	";case"indentUnit":return this.cm6.state.facet(p2).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(n){this.state.overwrite=n}getTokenTypeAt(n){var s,c,d;var i=this.indexFromPos(n),o=((d=(c=(s=v2(this.cm6.state,i))==null?void 0:s.resolve(i))==null?void 0:c.type)==null?void 0:d.name)||"";return/comment/i.test(o)?"comment":/string/i.test(o)?"string":""}overWriteSelection(n){var i=this.cm6.state.doc,o=this.cm6.state.selection,s=o.ranges.map(c=>{if(c.empty){var d=c.to<i.length?i.sliceString(c.from,c.to+1):"";if(d&&!/\n/.test(d))return fn.range(c.from,c.to+1)}return c});this.cm6.dispatch({selection:fn.create(s,o.mainIndex)}),this.replaceSelection(n)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(n){var i=this.cm6.state.selection;this.virtualSelection=fn.create(i.ranges,i.mainIndex);for(var o=0;o<this.virtualSelection.ranges.length;o++){var s=this.virtualSelection.ranges[o];s&&(this.cm6.dispatch({selection:fn.create([s])}),n(),this.virtualSelection.ranges[o]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(n){return fk(this,n)}};Ze.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ze.Pos=Hr,Ze.StringStream=h4,Ze.commands={cursorCharLeft:function(e){T4(e.cm6)},redo:function(e){g0(e,!1)},undo:function(e){g0(e,!0)},newlineAndIndent:function(e){P4({state:e.cm6.state,dispatch:n=>ys(e,n)})},indentAuto:function(e){y4(e.cm6)},newlineAndIndentContinueComment:void 0,save:void 0},Ze.isWordChar=function(e){return kd.test(e)},Ze.keys=rk,Ze.addClass=function(e,n){},Ze.rmClass=function(e,n){},Ze.e_preventDefault=function(e){e.preventDefault()},Ze.e_stop=function(e){var n,i;(n=e==null?void 0:e.stopPropagation)==null||n.call(e),(i=e==null?void 0:e.preventDefault)==null||i.call(e)},Ze.lookupKey=function(e,n,i){var o=Ze.keys[e];!o&&/^Arrow/.test(e)&&(o=Ze.keys[e.slice(5)]),o&&i(o)},Ze.on=f0,Ze.off=p0,Ze.signal=m0,Ze.findMatchingTag=ck,Ze.findEnclosingTag=uk,Ze.keyName=void 0;function y0(e,n,i){var o=document.createElement("div");return o.appendChild(n),o}function v0(e,n){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=n}function ik(e,n,i){v0(e,f);var o=y0(e,n,i&&i.bottom),s=!1,c,d=i&&i.duration!==void 0?i.duration:5e3;function f(){s||(s=!0,clearTimeout(c),o.remove(),w0(e,o))}return o.onclick=function(m){m.preventDefault(),f()},b0(e,o),d&&(c=setTimeout(f,d)),f}function b0(e,n){var i=e.state.dialog;e.state.dialog=n,n.style.flex="1",n&&i!==n&&(i&&i.contains(document.activeElement)&&e.focus(),i&&i.parentElement?i.parentElement.replaceChild(n,i):i&&i.remove(),Ze.signal(e,"dialog"))}function w0(e,n){e.state.dialog==n&&(e.state.dialog=null,Ze.signal(e,"dialog"))}function ak(e,n,i,o){o||(o={}),v0(e,void 0);var s=y0(e,n,o.bottom),c=!1;b0(e,s);function d(m){if(typeof m=="string")f.value=m;else{if(c)return;c=!0,w0(e,s),e.state.dialog||e.focus(),o.onClose&&o.onClose(s)}}var f=s.getElementsByTagName("input")[0];return f&&(o.value&&(f.value=o.value,o.selectValueOnOpen!==!1&&f.select()),o.onInput&&Ze.on(f,"input",function(m){o.onInput(m,f.value,d)}),o.onKeyUp&&Ze.on(f,"keyup",function(m){o.onKeyUp(m,f.value,d)}),Ze.on(f,"keydown",function(m){o&&o.onKeyDown&&o.onKeyDown(m,f.value,d)||(m.keyCode==13&&i&&i(f.value),(m.keyCode==27||o.closeOnEnter!==!1&&m.keyCode==13)&&(f.blur(),Ze.e_stop(m),d()))}),o.closeOnBlur!==!1&&Ze.on(f,"blur",function(){setTimeout(function(){document.activeElement!==f&&d()})}),f.focus()),d}var ok={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function sk(e){return e&&e.bracketRegex||/[(){}[\]]/}function lk(e,n,i,o,s){for(var c=s&&s.maxScanLineLength||1e4,d=s&&s.maxScanLines||1e3,f=[],m=sk(s),g=i>0?Math.min(n.line+d,e.lastLine()+1):Math.max(e.firstLine()-1,n.line-d),w=n.line;w!=g;w+=i){var _=e.getLine(w);if(_){var C=i>0?0:_.length-1,E=i>0?_.length:-1;if(!(_.length>c))for(w==n.line&&(C=n.ch-(i<0?1:0));C!=E;C+=i){var T=_.charAt(C);if(m.test(T)){var A=ok[T];if(A&&A.charAt(1)==">"==i>0)f.push(T);else if(f.length)f.pop();else return{pos:new Hr(w,C),ch:T}}}}}return w-i==(i>0?e.lastLine():e.firstLine())?!1:null}function ck(e,n){return null}function uk(e,n){var c,d,f;var i=e.cm6.state,o=e.indexFromPos(n);o<i.doc.length&&i.sliceDoc(o,o+1)=="<"&&o++;for(var s=((c=v2(i,o))==null?void 0:c.resolve(o))||null;s;){if(((d=s.firstChild)==null?void 0:d.type.name)=="OpenTag"&&((f=s.lastChild)==null?void 0:f.type.name)=="CloseTag")return{open:_0(i.doc,s.firstChild),close:_0(i.doc,s.lastChild)};s=s.parent}}function _0(e,n){return{from:Or(e,n.from),to:Or(e,n.to)}}var dk=class{constructor(e,n,i){this.cm=e,this.id=e.$mid++,this.offset=n,this.assoc=i,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,f2.TrackDel))}};function fk(e,n){var T;for(var i=n.column||e.getOption("textwidth")||80,o=n.allowMerge!=0,s=Math.min(n.from,n.to),c=Math.max(n.from,n.to);s<=c;){var d=e.getLine(s);if(d.length>i){var f=E(d,i,5);if(f){var m=(T=/^\s*/.exec(d))==null?void 0:T[0];e.replaceRange(`
`+m,new Hr(s,f.start),new Hr(s,f.end))}c++}else if(o&&/\S/.test(d)&&s!=c){var g=e.getLine(s+1);if(g&&/\S/.test(g)){var w=d.replace(/\s+$/,""),_=g.replace(/^\s+/,""),C=w+" "+_,f=E(C,i,5);f&&f.start>w.length||C.length<i?(e.replaceRange(" ",new Hr(s,w.length),new Hr(s+1,g.length-_.length)),s--,c--):w.length<d.length&&e.replaceRange("",new Hr(s,w.length),new Hr(s,d.length))}}s++}return s;function E(A,V,H){if(!(A.length<V)){var W=A.slice(0,V),N=A.slice(V),Q=/^(?:(\s+)|(\S+)(\s+))/.exec(N),pe=/(?:(\s+)|(\s+)(\S+))$/.exec(W),P=0,I=0;if(pe&&!pe[2]&&(P=V-pe[1].length,I=V),Q&&!Q[2]&&(P||(P=V),I=V+Q[1].length),P)return{start:P,end:I};if(pe&&pe[2]&&pe.index>H)return{start:pe.index,end:pe.index+pe[2].length};if(Q&&Q[2])return P=V+Q[2].length,{start:P,end:P+Q[3].length}}}}var Cd=u4||(function(){let e={cursorBlinkRate:1200};return function(){return e}})(),pk=class{constructor(e,n,i,o,s,c,d,f,m,g){this.left=e,this.top=n,this.height=i,this.fontFamily=o,this.fontSize=s,this.fontWeight=c,this.color=d,this.className=f,this.letter=m,this.partial=g}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}},mk=class{constructor(e,n){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=n,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let e=Cd(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=e+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),hk(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,n=[];for(let i of e.selection.ranges){let o=i==e.selection.main,s=vk(this.cm,this.view,i,o);s&&n.push(s)}return{cursors:n}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((n,i)=>!n.eq(this.cursors[i]))){let n=this.cursorLayer.children;if(n.length!==e.length){this.cursorLayer.textContent="";for(let i of e)this.cursorLayer.appendChild(i.draw())}else e.forEach((i,o)=>i.adjust(n[o]));this.cursors=e}}destroy(){this.cursorLayer.remove()}};function hk(e){return Cd(e.startState)!=Cd(e.state)}var gk=vu.highest(en.theme({".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}}));function yk(e){let n=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==m4.LTR?n.left:n.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft*e.scaleX,top:n.top-e.scrollDOM.scrollTop*e.scaleY}}function vk(e,n,i,o){var w,_,C;var s;let c=i.head,d=!1,f=1,m=e.state.vim;if(m&&(!m.insertMode||e.state.overwrite)){if(d=!0,m.visualBlock&&!o)return null;i.anchor<i.head&&(c<n.state.doc.length&&n.state.sliceDoc(c,c+1))!=`
`&&c--,e.state.overwrite?f=.2:m.status&&(f=.5)}if(d){let E=c<n.state.doc.length&&n.state.sliceDoc(c,c+1);E&&/[\uDC00-\uDFFF]/.test(E)&&c>1&&(c--,E=n.state.sliceDoc(c,c+1));let T=n.coordsAtPos(c,1);if(!T)return null;let A=yk(n),V=n.domAtPos(c),H=V?V.node:n.contentDOM;for(H instanceof Text&&V.offset>=H.data.length&&((w=H.parentElement)==null?void 0:w.nextSibling)&&(H=(_=H.parentElement)==null?void 0:_.nextSibling,V={node:H,offset:0});V&&V.node instanceof HTMLElement;)H=V.node,V={node:V.node.childNodes[V.offset],offset:0};if(!(H instanceof HTMLElement)){if(!H.parentNode)return null;H=H.parentNode}let W=getComputedStyle(H),N=T.left,Q=(C=(s=n).coordsForChar)==null?void 0:C.call(s,c);if(Q&&(N=Q.left),!E||E==`
`||E=="\r")E="\xA0";else if(E=="	"){E="\xA0";var g=n.coordsAtPos(c+1,-1);g&&(N=g.left-(g.left-T.left)/parseInt(W.tabSize))}else/[\uD800-\uDBFF]/.test(E)&&c<n.state.doc.length-1&&(E+=n.state.sliceDoc(c+1,c+2));let pe=T.bottom-T.top;return new pk((N-A.left)/n.scaleX,(T.top-A.top+pe*(1-f))/n.scaleY,pe*f/n.scaleY,W.fontFamily,W.fontSize,W.fontWeight,W.color,o?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",E,f!=1)}else return null}let x0,k0,C0,S0;x0=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent),Li=nk(Ze),k0=250,C0=en.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em",display:"flex"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),S0=oo.fromClass(class{constructor(e){this.status="",this.query=null,this.decorations=Di.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.compositionText="",this.view=e;let n=this.cm=new Ze(e);Li.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new mk(e,n),this.updateClass(),this.cm.on("vim-command-done",()=>{n.state.vim&&(n.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",i=>{n.state.vim&&(n.state.vim.mode=i.mode,i.subMode&&(n.state.vim.mode+=" block"),n.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus())}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():e.dispatch({effects:E0.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.spacer=document.createElement("span"),this.spacer.style.flex="1",this.statusButton=document.createElement("span"),this.statusButton.onclick=i=>{Li.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(e){var n;if((e.viewportChanged||e.docChanged)&&this.query&&this.highlight(this.query),e.docChanged&&this.cm.onChange(e),e.selectionSet&&this.cm.onSelectionChange(),e.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),e.transactions){for(let i of e.transactions)for(let o of i.effects)if(o.is(im))if(!((n=o.value)!=null&&n.forVim))this.highlight(null);else{let s=o.value.create();this.highlight(s)}}this.blockCursor.update(e)}updateClass(){let e=this.cm.state;!e.vim||e.vim.insertMode&&!e.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let e=this.cm.state.statusbar,n=this.cm.state.vim;if(!e||!n)return;let i=this.cm.state.dialog;if(i)i.parentElement!=e&&(e.textContent="",e.appendChild(i));else{e.textContent="";var o=(n.mode||"normal").toUpperCase();n.insertModeReturn&&(o+="(C-O)"),this.statusButton.textContent=`--${o}--`,e.appendChild(this.statusButton),e.appendChild(this.spacer)}this.dom.textContent=n.status,e.appendChild(this.dom)}destroy(){Li.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(e){if(this.query=e,!e)return this.decorations=Di.none;let{view:n}=this,i=new g2;for(let o=0,s=n.visibleRanges,c=s.length;o<c;o++){let{from:d,to:f}=s[o];for(;o<c-1&&f>s[o+1].from-2*k0;)f=s[++o].to;e.highlight(n.state,d,f,(m,g)=>{i.add(m,g,wk)})}return this.decorations=i.finish()}handleKey(e,n){let i=this.cm,o=i.state.vim;if(!o)return;let s=Li.vimKeyFromEvent(e,o);if(Ze.signal(this.cm,"inputEvent",{type:"handleKey",key:s}),!s)return;if(s=="<Esc>"&&!o.insertMode&&!o.visualMode&&this.query){let d=o.searchState_;d&&(i.removeOverlay(d.getOverlay()),d.setOverlay(null))}if(s==="<C-c>"&&!Ze.isMac&&i.somethingSelected())return this.waitForCopy=!0,!0;o.status=(o.status||"")+s;let c=Li.multiSelectHandleKey(i,s,"user");return o=Li.maybeInitVimState_(i),!c&&o.insertMode&&i.state.overwrite&&(e.key&&e.key.length==1&&!/\n/.test(e.key)?(c=!0,i.overWriteSelection(e.key)):e.key=="Backspace"&&(c=!0,Ze.commands.cursorCharLeft(i))),c&&(Ze.signal(this.cm,"vim-keypress",s),e.preventDefault(),e.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!c}},{eventHandlers:{copy:function(e,n){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var i=this.cm,o=i.state.vim;o&&(o.insertMode?i.setSelection(i.getCursor(),i.getCursor()):i.operation(()=>{i.curOp&&(i.curOp.isVimOp=!0),Li.handleKey(i,"<Esc>","user")}))}))},compositionstart:function(e,n){this.useNextTextInput=!0,Ze.signal(this.cm,"inputEvent",e)},compositionupdate:function(e,n){Ze.signal(this.cm,"inputEvent",e)},compositionend:function(e,n){Ze.signal(this.cm,"inputEvent",e)},keypress:function(e,n){Ze.signal(this.cm,"inputEvent",e),this.lastKeydown=="Dead"&&this.handleKey(e,n)},keydown:function(e,n){Ze.signal(this.cm,"inputEvent",e),this.lastKeydown=e.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(e,n))}},provide:()=>[en.inputHandler.of((e,n,i,o)=>{var w,_;var s=Nl(e);if(!s)return!1;var c=(w=s.state)==null?void 0:w.vim,d=s.state.vimPlugin;if(c&&!c.insertMode&&!((_=s.curOp)!=null&&_.isVimOp)){if(o==="\0\0")return!0;if(Ze.signal(s,"inputEvent",{type:"text",text:o,from:n,to:i}),o.length==1&&d.useNextTextInput){if(c.expectLiteralNext&&e.composing)return d.compositionText=o,!1;if(d.compositionText){var f=d.compositionText;d.compositionText="";var m=e.state.selection.main.head;if(f===e.state.sliceDoc(m-f.length,m)){var g=s.getCursor();s.replaceRange("",s.posFromIndex(m-f.length),g)}}return d.handleKey({key:o,preventDefault:()=>{},stopPropagation:()=>{}}),bk(e),!0}}return!1})],decorations:e=>e.decorations});function bk(e){var n=e.scrollDOM.parentElement;if(n){if(x0){e.contentDOM.textContent="\0\0",e.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var i=e.scrollDOM.nextSibling,o=window.getSelection(),s=o&&{anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset};e.scrollDOM.remove(),n.insertBefore(e.scrollDOM,i);try{s&&o&&(o.setPosition(s.anchorNode,s.anchorOffset),s.focusNode&&o.extend(s.focusNode,s.focusOffset))}catch(c){console.error(c)}e.focus(),e.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}var wk=Di.mark({class:"cm-searchMatch"}),E0=ma.define(),_k=El.define({create:()=>!1,update(e,n){for(let i of n.effects)i.is(E0)&&(e=i.value);return e},provide:e=>nm.from(e,n=>n?xk:null)});function xk(e){let n=document.createElement("div");n.className="cm-vim-panel";let i=e.cm;return i.state.dialog&&n.appendChild(i.state.dialog),{top:!1,dom:n}}function kk(e){let n=document.createElement("div");n.className="cm-vim-panel";let i=e.cm;return i.state.statusbar=n,i.state.vimPlugin.updateStatus(),{dom:n}}dw=function(e={}){return[C0,S0,gk,e.status?nm.of(kk):_k]},Nl=function(e){return e.cm||null},hm=function(e){let n=e.state.selection.main;return n.from===0&&n.to===0},gm=function(e,n=!1){let i=e.state.selection.main,o=e.state.doc.length;return n&&i.from===o-1&&i.to===o-1?!0:i.from===o&&i.to===o},z2=function(e){e&&e.dispatch({selection:{anchor:e.state.doc.length,head:e.state.doc.length}})},lw=function(e){var n;return((n=Nl(e))==null?void 0:n.state.vim)!=null},Qw=function(e){var i;let n=(i=Nl(e))==null?void 0:i.state.vim;return n?!n.mode&&!n.insertMode&&!n.visualMode?!0:n.mode==="normal":!1},Ww=function(e){e&&e.dispatch({selection:{anchor:0,head:e.state.doc.length}})};function T0(e,n){if(!(n!=null&&n.length))return Di.none;let i=new g2,o=e.facet(uo),s=n.filter(c=>c.kind==="cell"&&c.cellId===o).sort((c,d)=>c.lineNumber-d.lineNumber);for(let c of s){let d=e.doc.line(c.lineNumber),f=Di.line({class:"cm-error-line"});i.add(d.from,d.from,f)}return i.finish()}var Ck=class{constructor(e,n){this.decorations=T0(e.state,n.get()),this.unsubscribe=n.sub(i=>{let o=this.decorations.size;this.decorations=T0(e.state,i),o!==this.decorations.size&&e.dispatch({userEvent:"marimo.error-decoration-update"})})}update(e){this.decorations=this.decorations.map(e.changes)}destroy(){this.unsubscribe()}};function Sk(e){return oo.define(n=>new Ck(n,e),{decorations:n=>n.decorations})}function Ek(e){return[Sk(e),en.theme({".cm-error-line":{backgroundColor:"color-mix(in srgb, var(--red-4) 40%, transparent)"},"&.cm-focused .cm-error-line.cm-activeLine":{backgroundColor:"color-mix(in srgb, var(--red-6) 40%, transparent)"}})]}function Tk({cellId:e,hotkeys:n}){let i=[];return i.push({key:n.getHotkey("cell.run").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).onRun(),!0)},{key:n.getHotkey("cell.runAndNewBelow").key,preventDefault:!0,stopPropagation:!0,run:o=>{let s=o.state.facet(Ot);return s.onRun(),e==="__scratch__"||(o.contentDOM.blur(),s.moveToNextCell({cellId:e,before:!1})),!0}},{key:n.getHotkey("cell.runAndNewAbove").key,preventDefault:!0,stopPropagation:!0,run:o=>{let s=o.state.facet(Ot);return s.onRun(),e==="__scratch__"||(o.contentDOM.blur(),s.moveToNextCell({cellId:e,before:!0})),!0}},{key:n.getHotkey("cell.aiCompletion").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).aiCellCompletion()&&o.contentDOM.focus(),!0)}),e!=="__scratch__"&&i.push({key:n.getHotkey("cell.goToDefinition").key,preventDefault:!0,stopPropagation:!0,run:o=>(Sm(o),!0)},{key:n.getHotkey("cell.delete").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.doc.length===0&&o.state.facet(Ot).deleteCell(),!0)},{key:n.getHotkey("cell.moveUp").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).moveCell({cellId:e,before:!0}),!0)},{key:n.getHotkey("cell.moveDown").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).moveCell({cellId:e,before:!1}),!0)},{key:n.getHotkey("cell.moveLeft").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).moveCell({cellId:e,before:!0,direction:"left"}),!0)},{key:n.getHotkey("cell.moveRight").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).moveCell({cellId:e,before:!1,direction:"right"}),!0)},{key:"ArrowUp",preventDefault:!0,stopPropagation:!0,run:o=>T2(o.state)?!1:hm(o)?(o.state.facet(Ot).moveToNextCell({cellId:e,before:!0,noCreate:!0}),!0):!1},{key:"ArrowDown",preventDefault:!0,stopPropagation:!0,run:o=>T2(o.state)?!1:gm(o)?(o.state.facet(Ot).moveToNextCell({cellId:e,before:!1,noCreate:!0}),!0):!1},{key:n.getHotkey("cell.focusDown").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).moveToNextCell({cellId:e,before:!1,noCreate:!0}),!0)},{key:n.getHotkey("cell.focusUp").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).moveToNextCell({cellId:e,before:!0,noCreate:!0}),!0)},{key:n.getHotkey("cell.sendToBottom").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).sendToBottom({cellId:e}),!0)},{key:n.getHotkey("cell.sendToTop").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Ot).sendToTop({cellId:e}),!0)},{key:n.getHotkey("cell.createAbove").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.contentDOM.blur(),o.state.facet(Ot).createNewCell({cellId:e,before:!0}),!0)},{key:n.getHotkey("cell.createBelow").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.contentDOM.blur(),o.state.facet(Ot).createNewCell({cellId:e,before:!1}),!0)},{key:n.getHotkey("cell.hideCode").key,preventDefault:!0,stopPropagation:!0,run:o=>{var c;let s=o.state.facet(Ot).toggleHideCode();return R2(o),s?(o.contentDOM.blur(),(c=document.getElementById(ur.create(e)))==null||c.focus()):o.contentDOM.focus(),!0}},{key:n.getHotkey("cell.splitCell").key,preventDefault:!0,stopPropagation:!0,run:o=>{let s=o.state.facet(Ot);return s.splitCell({cellId:e}),s.moveToNextCell&&requestAnimationFrame(()=>{o.contentDOM.blur(),s.moveToNextCell({cellId:e,before:!1})}),!0}}),[vu.high(ao.of(i))]}function Rk(e){return[en.updateListener.of(n=>{if(n.docChanged){let i=n.transactions.some(d=>d.effects.some(f=>f.is(vo))),o=oi(n.view),s=n.view.state.facet(Ot),c=n.view.state.facet(uo);s.updateCellCode({cellId:c,code:o,formattingChange:i})}}),Px(e)]}function Ok({predicate:e}){return en.updateListener.of(n=>{n.docChanged&&n.view.hasFocus&&e()&&(n.transactions.some(i=>i.effects.some(o=>o.is(vo)))||n.view.state.facet(Ot).onRun())})}yw=function({cellId:e,hotkeys:n,cellActions:i}){return[Ot.of(i),uo.of(e),Tk({cellId:e,hotkeys:n}),Rk(n),Ek(Rx(r3(e),st))]};const R0=async e=>{let n=e.state.doc.sliceString(0,e.pos),i=document.activeElement,o=null;if(i!==null){let d=ur.findElement(i);d!==null&&(o=ur.parse(d.id))}if(o===null)return Pe.error("Failed to find active cell."),null;let s=await Cu.request({document:n,cellId:o});if(!s)return null;let c=xd.asHoverTooltip({position:e.pos,message:s,limitToType:"tooltip"});return c&&st.set(Au,{documentation:c.html??null}),c?null:xd.asCompletionResult(e.pos,s)};function Dk(e){return n=>e.predicate(n.state)?e.completion(n):null}var Pk=async e=>{let n=e.matchBefore(/:\w*$/);if(!e.explicit&&!n)return null;let i=await Lk();return{from:(n==null?void 0:n.from)??e.pos,options:i,validFor:/^[\w:]*$/}},Lk=ri(async()=>{let e=await fetch("https://unpkg.com/emojilib@3.0.11/dist/emoji-en-US.json").then(n=>{if(!n.ok)throw Error("Failed to fetch emoji list");return n.json()}).catch(()=>({}));return Object.entries(e).map(([n,i])=>({shortcode:i[0],label:i.map(o=>`:${o}`).join(" "),emoji:n,displayLabel:`${n} ${i[0].replaceAll("_"," ")}`,apply:n,type:"emoji"}))}),Mk=async e=>{let n=e.matchBefore(/::[\w-:]*$/);if(!e.explicit&&!n)return null;let i=await Nk();return{from:(n==null?void 0:n.from)??e.pos,options:i,validFor:/^[\w-:]*$/}},Nk=ri(async()=>{let e=await fetch("https://unpkg.com/lucide-static@0.452.0/tags.json").then(i=>{if(!i.ok)throw Error("Failed to fetch Lucide icon list");return i.json()}).catch(()=>({})),n=i=>`https://cdn.jsdelivr.net/npm/lucide-static@0.452.0/icons/${i}.svg`;return Object.entries(e).map(([i,o])=>({label:`::${i}`,displayLabel:i,type:"lucide-icon",boost:10,apply:`::lucide:${i}::`,detail:o.join(", "),info:()=>{let s=document.createElement("img");return s.src=n(i),s.style.width="24px",s.style.height="24px",s}}))}),Ak=e=>{let n=e.matchBefore(/\\\w*$/);return!e.explicit&&!n?null:{from:(n==null?void 0:n.from)??e.pos,options:Ik(),validFor:/^[\w\\]*$/}},Ik=ri(()=>[["alpha","\u03B1","Greek small letter alpha"],["beta","\u03B2","Greek small letter beta"],["gamma","\u03B3","Greek small letter gamma"],["delta","\u03B4","Greek small letter delta"],["epsilon","\u03B5","Greek small letter epsilon"],["zeta","\u03B6","Greek small letter zeta"],["eta","\u03B7","Greek small letter eta"],["theta","\u03B8","Greek small letter theta"],["iota","\u03B9","Greek small letter iota"],["kappa","\u03BA","Greek small letter kappa"],["lambda","\u03BB","Greek small letter lambda"],["mu","\u03BC","Greek small letter mu"],["nu","\u03BD","Greek small letter nu"],["xi","\u03BE","Greek small letter xi"],["omicron","\u03BF","Greek small letter omicron"],["pi","\u03C0","Greek small letter pi"],["rho","\u03C1","Greek small letter rho"],["sigma","\u03C3","Greek small letter sigma"],["tau","\u03C4","Greek small letter tau"],["upsilon","\u03C5","Greek small letter upsilon"],["phi","\u03C6","Greek small letter phi"],["chi","\u03C7","Greek small letter chi"],["psi","\u03C8","Greek small letter psi"],["omega","\u03C9","Greek small letter omega"],["Gamma","\u0393","Greek capital letter gamma"],["Delta","\u0394","Greek capital letter delta"],["Theta","\u0398","Greek capital letter theta"],["Lambda","\u039B","Greek capital letter lambda"],["Xi","\u039E","Greek capital letter xi"],["Pi","\u03A0","Greek capital letter pi"],["Sigma","\u03A3","Greek capital letter sigma"],["Phi","\u03A6","Greek capital letter phi"],["Psi","\u03A8","Greek capital letter psi"],["Omega","\u03A9","Greek capital letter omega"],["pm","\xB1","Plus-minus sign"],["mp","\u2213","Minus-plus sign"],["times","\xD7","Multiplication sign"],["div","\xF7","Division sign"],["cdot","\u22C5","Dot operator"],["ast","\u2217","Asterisk operator"],["star","\u22C6","Star operator"],["circ","\u2218","Ring operator"],["bullet","\u2022","Bullet"],["cap","\u2229","Intersection"],["cup","\u222A","Union"],["uplus","\u228E","Multiset union"],["sqcap","\u2293","Square cap"],["sqcup","\u2294","Square cup"],["vee","\u2228","Logical or"],["wedge","\u2227","Logical and"],["setminus","\u2216","Set minus"],["oplus","\u2295","Circled plus"],["ominus","\u2296","Circled minus"],["otimes","\u2297","Circled times"],["oslash","\u2298","Circled division slash"],["odot","\u2299","Circled dot operator"],["leq","\u2264","Less than or equal to"],["geq","\u2265","Greater than or equal to"],["equiv","\u2261","Identical to"],["prec","\u227A","Precedes"],["succ","\u227B","Succeeds"],["sim","\u223C","Tilde operator"],["perp","\u22A5","Up tack"],["mid","\u2223","Divides"],["parallel","\u2225","Parallel to"],["subset","\u2282","Subset of"],["supset","\u2283","Superset of"],["subseteq","\u2286","Subset of or equal to"],["supseteq","\u2287","Superset of or equal to"],["cong","\u2245","Approximately equal to"],["approx","\u2248","Almost equal to"],["neq","\u2260","Not equal to"],["ne","\u2260","Not equal to"],["propto","\u221D","Proportional to"],["leftarrow","\u2190","Leftward arrow"],["rightarrow","\u2192","Rightward arrow"],["Leftarrow","\u21D0","Leftward double arrow"],["Rightarrow","\u21D2","Rightward double arrow"],["leftrightarrow","\u2194","Left right arrow"],["Leftrightarrow","\u21D4","Left right double arrow"],["uparrow","\u2191","Upward arrow"],["downarrow","\u2193","Downward arrow"],["Uparrow","\u21D1","Upward double arrow"],["Downarrow","\u21D3","Downward double arrow"],["infty","\u221E","Infinity"],["nabla","\u2207","Nabla"],["partial","\u2202","Partial differential"],["forall","\u2200","For all"],["exists","\u2203","There exists"],["nexists","\u2204","There does not exist"],["emptyset","\u2205","Empty set"],["in","\u2208","Element of"],["notin","\u2209","Not an element of"],["sum","\u2211","N-ary summation"],["prod","\u220F","N-ary product"],["int","\u222B","Integral"],["oint","\u222E","Contour integral"],["sqrt","\u221A","Square root"],["hbar","\u210F","Planck constant over 2pi"],["ldots","\u2026","Horizontal ellipsis"],["cdots","\u22EF","Midline horizontal ellipsis"],["vdots","\u22EE","Vertical ellipsis"],["ddots","\u22F1","Down right diagonal ellipsis"]].map(([e,n,i])=>({label:`\\${e} ${i}`,displayLabel:e,type:"latex-symbol",boost:10,apply:`\\${e}`,info:()=>{let o=document.createElement("div");return o.textContent=`${n} ${i}`,o},detail:n})));let O0;O0=[Pk,Mk,Ak],Zu={isAbsolute:e=>e.startsWith("/")||e.startsWith("\\")||e.startsWith("C:\\"),dirname:e=>Ll.guessDeliminator(e).dirname(e),basename:e=>Ll.guessDeliminator(e).basename(e),rest:(e,n)=>Ll.guessDeliminator(e).rest(e,n),extension:e=>{let n=e.split(".");return n.length===1?"":n.at(-1)??""}},Ll=class ah{constructor(n){this.deliminator=n}static guessDeliminator(n){return n.includes("/")?new ah("/"):new ah("\\")}join(...n){return n.filter(Boolean).join(this.deliminator)}basename(n){return n.split(this.deliminator).pop()??""}rest(n,i){let o=n.split(this.deliminator),s=i.split(this.deliminator),c=0;for(;c<o.length&&c<s.length&&o[c]===s[c];++c);return o.slice(c).join(this.deliminator)}dirname(n){let i=n.split(this.deliminator);return i.pop(),i.join(this.deliminator)}};function bo(e){return!e.state.selection.main.empty}function Sd({view:e,selection:n,markup:i}){let o=[],s=!0;for(let c=n.from;c<=n.to;c++)if(!e.state.doc.lineAt(c).text.startsWith(i)){s=!1;break}for(let c=n.from;c<=n.to;){let d=e.state.doc.lineAt(c),f=d.text.startsWith(i);s?o.push({from:d.from,to:d.from+i.length,insert:so.of([""])}):(f&&o.push({from:d.from,to:d.from+i.length,insert:so.of([""])}),o.push({from:d.from,insert:so.of([i])})),c=d.to+1}return o}function Ed({view:e,range:n,markupAfter:i,markupBefore:o}){if(n.empty){let g=e.state.wordAt(n.head);g&&(n=g)}let s=e.state.sliceDoc(n.from-o.length,n.from)===o,c=e.state.sliceDoc(n.to,n.to+i.length)===i,d=[];d.push(s?{from:n.from-o.length,to:n.from,insert:so.of([""])}:{from:n.from,insert:so.of(o.split(`
`))},c?{from:n.to,to:n.to+i.length,insert:so.of([""])}:{from:n.to,insert:so.of(i.split(`
`))});let f=s?-o.length:o.length,m=c?-i.length:i.length;return{changes:d,range:fn.range(n.from+f,n.to+m)}}function jk(e){if(!bo(e))return!1;let n=Sd({view:e,selection:e.state.selection.main,markup:"> "});return n.length>0&&e.dispatch(e.state.update({changes:n,scrollIntoView:!0,userEvent:"input"})),e.focus(),!0}function qk(e){if(!bo(e))return!1;let n=e.state.changeByRange(i=>{if(i.empty){let o=e.state.wordAt(i.head);o&&(i=o)}return Ed({view:e,range:i,markupBefore:"**",markupAfter:"**"})});return e.dispatch(e.state.update(n,{scrollIntoView:!0,annotations:ds.userEvent.of("input")})),e.focus(),!0}function D0(e){if(!bo(e))return!1;let n=e.state.changeByRange(i=>{if(i.empty){let s=e.state.wordAt(i.head);s&&(i=s)}let o=e.state.doc.lineAt(i.from).number!==e.state.doc.lineAt(i.to).number;return Ed({view:e,range:i,markupBefore:o?"```\n":"`",markupAfter:o?"\n```":"`"})});return e.dispatch(e.state.update(n,{scrollIntoView:!0,annotations:ds.userEvent.of("input")})),e.focus(),!0}function zk(e){let n=e.state.changeByRange(i=>{if(i.empty){let o=e.state.wordAt(i.head);o&&(i=o)}return Ed({view:e,range:i,markupBefore:"_",markupAfter:"_"})});return e.dispatch(e.state.update(n,{scrollIntoView:!0,annotations:ds.userEvent.of("input")})),e.focus(),!0}function P0(e,n="http://"){if(!bo(e))return!1;let i=e.state.changeByRange(s=>{let c=e.state.sliceDoc(s.from,s.to);return{changes:[{from:s.from,to:s.to,insert:`[${c}](${n})`}],range:s}});e.dispatch(e.state.update(i,{scrollIntoView:!0,annotations:ds.userEvent.of("input")}));let{to:o}=i.selection.main;try{e.dispatch({selection:fn.create([fn.range(o+3,o+3+n.length),fn.cursor(o+3+n.length)])})}catch{}return e.focus(),!0}nh=async function(e,n){var f;let i=new FileReader,o=await new Promise(m=>{i.onload=()=>m(i.result),i.readAsDataURL(n)}),s;try{if(o.startsWith("data:")){let m=o.split(",")[1],g=prompt("We can save your image as a file. Enter a filename.",n.name),w=n.type.split("/")[1];if(g!==null){g.trim()===""?g=n.name:g.endsWith(`.${w}`)||(g=`${g}.${w}`);let _=st.get(ms),C=_?Zu.dirname(_):null,E=C?`${C}/public`:"public",T=await Pi().sendCreateFileOrFolder({path:E,type:"file",name:g,contents:m});T.success?(s=(f=T.info)==null?void 0:f.path,_u({title:"Image uploaded successfully",description:`We've uploaded your image at ${s}`})):_u({title:"Failed to upload image. Using raw base64 string."})}}}catch{_u({title:"Failed to upload image. Using raw base64 string."})}let c=e.state.changeByRange(m=>{let g=e.state.sliceDoc(m.from,m.to);return{changes:[{from:m.from,to:m.to,insert:`![${g}](${s??o})`}],range:m}});e.dispatch(e.state.update(c,{scrollIntoView:!0,annotations:ds.userEvent.of("input")}));let{to:d}=c.selection.main;try{e.dispatch({selection:fn.create([fn.range(d+4,d+4+o.length),fn.cursor(d+4+o.length)])})}catch{}return e.focus(),!0},Pm=async function(e,n){let i=await n.text(),o=e.state.changeByRange(s=>({changes:[{from:s.from,to:s.from,insert:i}],range:s}));return e.dispatch(e.state.update(o,{scrollIntoView:!0,annotations:ds.userEvent.of("input")})),e.focus(),!0};function Fk(e){if(!bo(e))return!1;let{changes:n}=e.state.changeByRange(i=>({range:i,changes:Sd({view:e,selection:i,markup:e.state.sliceDoc(i.from,i.to+2).startsWith("* ")?"* ":"- "})}));return n.length>0&&e.dispatch(e.state.update({changes:n,scrollIntoView:!0,userEvent:"input"})),e.focus(),!0}function Bk(e){if(!bo(e))return!1;let{changes:n}=e.state.changeByRange(i=>({range:i,changes:Sd({view:e,selection:i,markup:"1. "})}));return n.length>0&&e.dispatch(e.state.update({changes:n,scrollIntoView:!0,userEvent:"input"})),e.focus(),!0}function Vk(e){return[vu.highest(ao.of([{key:e.getHotkey("markdown.bold").key,stopPropagation:!0,run:qk},{key:e.getHotkey("markdown.italic").key,stopPropagation:!0,run:zk},{key:e.getHotkey("markdown.link").key,stopPropagation:!0,run:n=>P0(n)},{key:e.getHotkey("markdown.orderedList").key,run:Bk},{key:e.getHotkey("markdown.unorderedList").key,run:Fk},{key:e.getHotkey("markdown.blockquote").key,run:jk},{key:e.getHotkey("markdown.code").key,run:D0},{key:"`",run:D0}])),en.domEventHandlers({paste:(n,i)=>{var s;if(i.state.selection.main.empty)return!1;let o=(s=n.clipboardData)==null?void 0:s.getData("text/plain");o!=null&&o.startsWith("http")&&(n.preventDefault(),P0(i,o))}}),en.domEventHandlers({paste:(n,i)=>{var s;let o=(s=n.clipboardData)==null?void 0:s.files[0];if(!o)return!1;if(o.type.startsWith("image/"))return n.preventDefault(),nh(i,o),!0;if(o.type.startsWith("text/"))return n.preventDefault(),Pm(i,o),!0}})]}function Hk(e,n,i=3,o=""){return Object.values(e).flatMap(s=>n.has(s.name)?[]:{label:`${o}${s.name}`,displayLabel:s.name,detail:s.dataType??"",boost:i,type:"variable",apply:`${o}${s.name}`,section:"Variable",info:()=>jm(s)})}jm=function(e){let n=document.createElement("div");n.classList.add("mo-cm-tooltip","docs-documentation","min-w-[200px]","flex","flex-col","gap-1","p-2");let i=document.createElement("div");i.classList.add("flex","items-center","gap-2");let o=document.createElement("span");if(o.classList.add("font-bold","text-base"),o.textContent=e.name,i.append(o),e.dataType){let s=document.createElement("span");s.classList.add("text-xs","px-1.5","py-0.5","rounded-full","bg-purple-100","text-purple-800","dark:bg-purple-900","dark:text-purple-200"),s.textContent=e.dataType,i.append(s)}if(n.append(i),e.value){let s=document.createElement("div");s.classList.add("flex","flex-col","gap-1");let c=document.createElement("div");c.classList.add("text-xs","text-muted-foreground"),c.textContent="Value:",s.append(c);let d=document.createElement("div");d.classList.add("text-xs","font-mono","bg-muted","p-2","rounded","overflow-auto","max-h-40"),d.textContent=e.value,s.append(d),n.append(s)}return n};var wo="Python",Td=123,L0=125,Rd=1,$k={mark:`${wo}Mark`,resolve:wo};function Wk(e,n){return{defineNodes:[{name:wo,style:gu.emphasis},{name:`${wo}Mark`,style:gu.processingInstruction}],parseInline:[{name:wo,parse(i,o,s){return!n()||o!==Td&&o!==L0||o===Td&&i.slice(s-1,s)==="{"?-1:i.addDelimiter($k,s,s+Rd,o===Td,o===L0)}}],wrap:b2(i=>{if(!n()||i.type.name!==wo)return null;let o=i.from+Rd,s=i.to-Rd;return o>=s||o<0||s<0?null:{parser:e,overlay:[{from:o,to:s}],extensions:[D2().support]}})}}const Uk=e=>{let n=e.state.doc.sliceString(0,e.pos),i=n.lastIndexOf("{");if(n.at(i-1)==="{"||i===-1||n.indexOf("}",i)>i)return null;let o=e.matchBefore(/\w*$/);if(!o)return null;let s=Hk(st.get(ya),new Set,99);return{from:o.from,options:s,validFor:/^\w*$/}};var Hl="InlineMathDollar",_o="InlineMathBracket",$l="BlockMathDollar",xo="BlockMathBracket",xa={[Hl]:1,[_o]:3,[$l]:2,[xo]:3},Mt={DOLLAR:36,BACKSLASH:92,OPEN_PAREN:40,CLOSE_PAREN:41,OPEN_BRACKET:91,CLOSE_BRACKET:93},ko=Object.keys(xa).reduce((e,n)=>(e[n]={mark:`${n}Mark`,resolve:n},e),{});function Kk(e){let n=[];return Object.keys(xa).forEach(i=>{n.push({name:i,style:gu.emphasis},{name:`${i}Mark`,style:gu.processingInstruction})}),{defineNodes:n,parseInline:[{name:$l,parse(i,o,s){return o!==Mt.DOLLAR||i.char(s+1)!==Mt.DOLLAR?-1:i.addDelimiter(ko[$l],s,s+xa[$l],!0,!0)}},{name:Hl,parse(i,o,s){return o!==Mt.DOLLAR||i.char(s+1)===Mt.DOLLAR?-1:i.addDelimiter(ko[Hl],s,s+xa[Hl],!0,!0)}},{name:_o,before:"Escape",parse(i,o,s){return o!==Mt.BACKSLASH||i.char(s+1)!==Mt.BACKSLASH||![Mt.OPEN_PAREN,Mt.CLOSE_PAREN].includes(i.char(s+2))?-1:i.addDelimiter(ko[_o],s,s+xa[_o],i.char(s+2)===Mt.OPEN_PAREN,i.char(s+2)===Mt.CLOSE_PAREN)}},{name:xo,before:"Escape",parse(i,o,s){return o!==Mt.BACKSLASH||i.char(s+1)!==Mt.BACKSLASH||![Mt.OPEN_BRACKET,Mt.CLOSE_BRACKET].includes(i.char(s+2))?-1:i.addDelimiter(ko[xo],s,s+xa[xo],i.char(s+2)===Mt.OPEN_BRACKET,i.char(s+2)===Mt.CLOSE_BRACKET)}},{name:_o,before:"Escape",parse(i,o,s){return o!==Mt.BACKSLASH||![Mt.OPEN_PAREN,Mt.CLOSE_PAREN].includes(i.char(s+1))?-1:i.addDelimiter(ko[_o],s,s+2,i.char(s+1)===Mt.OPEN_PAREN,i.char(s+1)===Mt.CLOSE_PAREN)}},{name:xo,before:"Escape",parse(i,o,s){return o!==Mt.BACKSLASH||![Mt.OPEN_BRACKET,Mt.CLOSE_BRACKET].includes(i.char(s+1))?-1:i.addDelimiter(ko[xo],s,s+2,i.char(s+1)===Mt.OPEN_BRACKET,i.char(s+1)===Mt.CLOSE_BRACKET)}}],wrap:b2(i=>{let o=xa[i.type.name];if(o){let s=i.from+o,c=i.to-o;return s>=c||s<0||c<0?null:{parser:e,overlay:[{from:s,to:c}]}}return null})}}Xu=ma.define(),td=ma.define(),ai=El.define({create:()=>({}),update:(e,n)=>{for(let i of n.effects){if(i.is(Xu))return i.value;if(i.is(td))return{...e,...i.value}}return e}});let Od,M0,Co,N0,So,A0;Fu=class{constructor(){Ce(this,"parser",new Yh);Ce(this,"type","markdown");Ce(this,"defaultCode",this.parser.defaultCode);Ce(this,"defaultMetadata",this.parser.defaultMetadata)}static fromMarkdown(e){return Yh.fromMarkdown(e)}transformIn(e){let n=this.parser.transformIn(e);return[n.code,n.offset,n.metadata]}transformOut(e,n){let i=this.parser.transformOut(e,n);return[i.code,i.offset]}isSupported(e){return this.parser.isSupported(e)}getExtension(e,n,i,o){let s=O2().language.data,c,d=()=>{var m;if(!c)return!0;let f=c==null?void 0:c.state.field(ai);return f===void 0?!1:((m=f.quotePrefix)==null?void 0:m.includes("f"))??!1};return[oo.define(f=>(c=f,{})),O2({base:j4,codeLanguages:rx,extensions:[Kk(w2.define(B4).parser),Wk(om.parser,d)]}),Vk(i),O0.map(f=>s.of({autocomplete:f})),D2().language.data.of({autocomplete:Dk({completion:R0,predicate:d})}),bu({defaultKeymap:!1,activateOnTyping:!0}),Ok({predicate:()=>!d()})]}},Od=ke(((e,n)=>{var i=typeof Reflect=="object"?Reflect:null,o=i&&typeof i.apply=="function"?i.apply:function(P,I,$){return Function.prototype.apply.call(P,I,$)},s=i&&typeof i.ownKeys=="function"?i.ownKeys:Object.getOwnPropertySymbols?function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:function(P){return Object.getOwnPropertyNames(P)};function c(P){console&&console.warn&&console.warn(P)}var d=Number.isNaN||function(P){return P!==P};function f(){f.init.call(this)}n.exports=f,n.exports.once=N,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var m=10;function g(P){if(typeof P!="function")throw TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(P){if(typeof P!="number"||P<0||d(P))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");m=P}}),f.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||d(P))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function w(P){return P._maxListeners===void 0?f.defaultMaxListeners:P._maxListeners}f.prototype.getMaxListeners=function(){return w(this)},f.prototype.emit=function(P){for(var I=[],$=1;$<arguments.length;$++)I.push(arguments[$]);var de=P==="error",fe=this._events;if(fe!==void 0)de&&(de=fe.error===void 0);else if(!de)return!1;if(de){var be;if(I.length>0&&(be=I[0]),be instanceof Error)throw be;var Y=Error("Unhandled error."+(be?" ("+be.message+")":""));throw Y.context=be,Y}var we=fe[P];if(we===void 0)return!1;if(typeof we=="function")o(we,this,I);else for(var Ee=we.length,ie=V(we,Ee),$=0;$<Ee;++$)o(ie[$],this,I);return!0};function _(P,I,$,de){var fe,be,Y;if(g($),be=P._events,be===void 0?(be=P._events=Object.create(null),P._eventsCount=0):(be.newListener!==void 0&&(P.emit("newListener",I,$.listener?$.listener:$),be=P._events),Y=be[I]),Y===void 0)Y=be[I]=$,++P._eventsCount;else if(typeof Y=="function"?Y=be[I]=de?[$,Y]:[Y,$]:de?Y.unshift($):Y.push($),fe=w(P),fe>0&&Y.length>fe&&!Y.warned){Y.warned=!0;var we=Error("Possible EventEmitter memory leak detected. "+Y.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");we.name="MaxListenersExceededWarning",we.emitter=P,we.type=I,we.count=Y.length,c(we)}return P}f.prototype.addListener=function(P,I){return _(this,P,I,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(P,I){return _(this,P,I,!0)};function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(P,I,$){var de={fired:!1,wrapFn:void 0,target:P,type:I,listener:$},fe=C.bind(de);return fe.listener=$,de.wrapFn=fe,fe}f.prototype.once=function(P,I){return g(I),this.on(P,E(this,P,I)),this},f.prototype.prependOnceListener=function(P,I){return g(I),this.prependListener(P,E(this,P,I)),this},f.prototype.removeListener=function(P,I){var $,de,fe,be,Y;if(g(I),de=this._events,de===void 0||($=de[P],$===void 0))return this;if($===I||$.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete de[P],de.removeListener&&this.emit("removeListener",P,$.listener||I));else if(typeof $!="function"){for(fe=-1,be=$.length-1;be>=0;be--)if($[be]===I||$[be].listener===I){Y=$[be].listener,fe=be;break}if(fe<0)return this;fe===0?$.shift():H($,fe),$.length===1&&(de[P]=$[0]),de.removeListener!==void 0&&this.emit("removeListener",P,Y||I)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(P){var I,$=this._events,de;if($===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[P]),this;if(arguments.length===0){var fe=Object.keys($),be;for(de=0;de<fe.length;++de)be=fe[de],be!=="removeListener"&&this.removeAllListeners(be);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=$[P],typeof I=="function")this.removeListener(P,I);else if(I!==void 0)for(de=I.length-1;de>=0;de--)this.removeListener(P,I[de]);return this};function T(P,I,$){var de=P._events;if(de===void 0)return[];var fe=de[I];return fe===void 0?[]:typeof fe=="function"?$?[fe.listener||fe]:[fe]:$?W(fe):V(fe,fe.length)}f.prototype.listeners=function(P){return T(this,P,!0)},f.prototype.rawListeners=function(P){return T(this,P,!1)},f.listenerCount=function(P,I){return typeof P.listenerCount=="function"?P.listenerCount(I):A.call(P,I)},f.prototype.listenerCount=A;function A(P){var I=this._events;if(I!==void 0){var $=I[P];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}f.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function V(P,I){for(var $=Array(I),de=0;de<I;++de)$[de]=P[de];return $}function H(P,I){for(;I+1<P.length;I++)P[I]=P[I+1];P.pop()}function W(P){for(var I=Array(P.length),$=0;$<I.length;++$)I[$]=P[$].listener||P[$];return I}function N(P,I){return new Promise(function($,de){function fe(Y){P.removeListener(I,be),de(Y)}function be(){typeof P.removeListener=="function"&&P.removeListener("error",fe),$([].slice.call(arguments))}pe(P,I,be,{once:!0}),I!=="error"&&Q(P,fe,{once:!0})})}function Q(P,I,$){typeof P.on=="function"&&pe(P,"error",I,$)}function pe(P,I,$,de){if(typeof P.on=="function")de.once?P.once(I,$):P.on(I,$);else if(typeof P.addEventListener=="function")P.addEventListener(I,function fe(be){de.once&&P.removeEventListener(I,fe),$(be)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}})),M0=ke((e=>{var n=e&&e.__awaiter||function(s,c,d,f){function m(g){return g instanceof d?g:new d(function(w){w(g)})}return new(d||(d=Promise))(function(g,w){function _(T){try{E(f.next(T))}catch(A){w(A)}}function C(T){try{E(f.throw(T))}catch(A){w(A)}}function E(T){T.done?g(T.value):m(T.value).then(_,C)}E((f=f.apply(s,c||[])).next())})},i=e&&e.__generator||function(s,c){var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,m,g,w;return w={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function _(E){return function(T){return C([E,T])}}function C(E){if(f)throw TypeError("Generator is already executing.");for(;d;)try{if(f=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return d.label++,{value:E[1],done:!1};case 5:d.label++,m=E[1],E=[0];continue;case 7:E=d.ops.pop(),d.trys.pop();continue;default:if(g=d.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){d=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){d.label=E[1];break}if(E[0]===6&&d.label<g[1]){d.label=g[1],g=E;break}if(g&&d.label<g[2]){d.label=g[2],d.ops.push(E);break}g[2]&&d.ops.pop(),d.trys.pop();continue}E=c.call(s,d)}catch(T){E=[6,T],m=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultNextRequest=void 0;var o=Od();e.defaultNextRequest=function(){var s=-1;return function(){return++s}},e.default=(function(){function s(c,d){d===void 0&&(d=e.defaultNextRequest()),this.batch=[],this.batchStarted=!1,this.lastId=-1,this.transports=c,this.requests={},this.connectPromise=this.connect(),this.requestChannel=new o.EventEmitter,this.nextID=d}return s.prototype.connect=function(){var c=this;return Promise.all(this.transports.map(function(d){return n(c,void 0,void 0,function(){return i(this,function(f){switch(f.label){case 0:return d.subscribe("error",this.handleError.bind(this)),d.subscribe("notification",this.handleNotification.bind(this)),[4,d.connect()];case 1:return f.sent(),[2]}})})}))},s.prototype.getPrimaryTransport=function(){return this.transports[0]},s.prototype.request=function(c,d,f){return d===void 0&&(d=!1),n(this,void 0,void 0,function(){var m,g,w,_,C=this;return i(this,function(E){return m=this.nextID().toString(),g=d?null:m,w={request:this.makeRequest(c.method,c.params||[],g),internalID:m},this.batchStarted?(_=new Promise(function(T,A){C.batch.push({resolve:T,reject:A,request:w})}),[2,_]):[2,this.getPrimaryTransport().sendData(w,f)]})})},s.prototype.close=function(){this.requestChannel.removeAllListeners(),this.transports.forEach(function(c){c.unsubscribe(),c.close()})},s.prototype.startBatch=function(){this.batchStarted=!0},s.prototype.stopBatch=function(){if(this.batchStarted===!1)throw Error("cannot end that which has never started");if(this.batch.length===0){this.batchStarted=!1;return}this.getPrimaryTransport().sendData(this.batch),this.batch=[],this.batchStarted=!1},s.prototype.makeRequest=function(c,d,f){return f?{jsonrpc:"2.0",id:f,method:c,params:d}:{jsonrpc:"2.0",method:c,params:d}},s.prototype.handleError=function(c){this.requestChannel.emit("error",c)},s.prototype.handleNotification=function(c){this.requestChannel.emit("notification",c)},s})()})),Co=ke((e=>{var n=e&&e.__extends||(function(){var o=function(s,c){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m])},o(s,c)};return function(s,c){o(s,c);function d(){this.constructor=s}s.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}})();Object.defineProperty(e,"__esModule",{value:!0}),e.convertJSONToRPCError=e.JSONRPCError=e.ERR_UNKNOWN=e.ERR_MISSIING_ID=e.ERR_TIMEOUT=void 0,e.ERR_TIMEOUT=7777,e.ERR_MISSIING_ID=7878,e.ERR_UNKNOWN=7979;var i=(function(o){n(s,o);function s(c,d,f){var m=this.constructor,g=o.call(this,c)||this;return g.message=c,g.code=d,g.data=f,Object.setPrototypeOf(g,m.prototype),g}return s})(Error);e.JSONRPCError=i,e.convertJSONToRPCError=function(o){if(o.error){var s=o.error,c=s.message,d=s.code,f=s.data;return new i(c,d,f)}return new i("Unknown error",e.ERR_UNKNOWN,o)}})),N0=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Od(),i=Co();e.TransportRequestManager=(function(){function o(){this.pendingRequest={},this.pendingBatchRequest={},this.transportEventChannel=new n.EventEmitter}return o.prototype.addRequest=function(s,c){return this.transportEventChannel.emit("pending",s),s instanceof Array?(this.addBatchReq(s,c),Promise.resolve()):this.addReq(s.internalID,c)},o.prototype.settlePendingRequest=function(s,c){var d=this;s.forEach(function(f){var m=d.pendingRequest[f.internalID];if(delete d.pendingBatchRequest[f.internalID],m!==void 0){if(c){m.reject(c);return}m.resolve(),(f.request.id===null||f.request.id===void 0)&&delete d.pendingRequest[f.internalID]}})},o.prototype.isPendingRequest=function(s){return this.pendingRequest.hasOwnProperty(s)},o.prototype.resolveResponse=function(s,c){c===void 0&&(c=!0);var d=s;try{return d=JSON.parse(s),this.checkJSONRPC(d)===!1?void 0:d instanceof Array?this.resolveBatch(d,c):this.resolveRes(d,c)}catch{var f=new i.JSONRPCError("Bad response format",i.ERR_UNKNOWN,s);return c&&this.transportEventChannel.emit("error",f),f}},o.prototype.addBatchReq=function(s,c){var d=this;return s.forEach(function(f){var m=f.resolve,g=f.reject,w=f.request.internalID;d.pendingBatchRequest[w]=!0,d.pendingRequest[w]={resolve:m,reject:g}}),Promise.resolve()},o.prototype.addReq=function(s,c){var d=this;return new Promise(function(f,m){c!==null&&c&&d.setRequestTimeout(s,c,m),d.pendingRequest[s]={resolve:f,reject:m}})},o.prototype.checkJSONRPC=function(s){var c=[s];return s instanceof Array&&(c=s),c.every(function(d){return d.result!==void 0||d.error!==void 0||d.method!==void 0})},o.prototype.processResult=function(s,c){if(s.error){var d=i.convertJSONToRPCError(s);c.reject(d);return}c.resolve(s.result)},o.prototype.resolveBatch=function(s,c){var d=this,f=s.map(function(m){return d.resolveRes(m,c)}).filter(function(m){return m});if(f.length>0)return f[0]},o.prototype.resolveRes=function(s,c){var d=s.id,f=s.error,m=this.pendingRequest[d];if(m){delete this.pendingRequest[d],this.processResult(s,m),this.transportEventChannel.emit("response",s);return}if(d===void 0&&f===void 0){this.transportEventChannel.emit("notification",s);return}var g;return f&&(g=i.convertJSONToRPCError(s)),c&&f&&g&&this.transportEventChannel.emit("error",g),g},o.prototype.setRequestTimeout=function(s,c,d){var f=this;setTimeout(function(){delete f.pendingRequest[s],d(new i.JSONRPCError("Request timeout request took longer than "+c+" ms to resolve",i.ERR_TIMEOUT))},c)},o})()})),ba=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=N0();e.Transport=(function(){function i(){this.transportRequestManager=new n.TransportRequestManager,this.transportRequestManager.transportEventChannel.on("error",function(){})}return i.prototype.subscribe=function(o,s){this.transportRequestManager.transportEventChannel.addListener(o,s)},i.prototype.unsubscribe=function(o,s){if(!o)return this.transportRequestManager.transportEventChannel.removeAllListeners();o&&s&&this.transportRequestManager.transportEventChannel.removeListener(o,s)},i.prototype.parseData=function(o){return o instanceof Array?o.map(function(s){return s.request.request}):o.request},i})()})),So=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getNotifications=e.getBatchRequests=e.isNotification=void 0,e.isNotification=function(n){return n.request.id===void 0||n.request.id===null},e.getBatchRequests=function(n){return n instanceof Array?n.filter(function(i){return i.request.request.id!=null}).map(function(i){return i.request}):[]},e.getNotifications=function(n){return n instanceof Array?n.filter(function(i){return e.isNotification(i.request)}).map(function(i){return i.request}):e.isNotification(n)?[n]:[]}})),A0=ke((e=>{var n=e&&e.__extends||(function(){var c=function(d,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var w in g)g.hasOwnProperty(w)&&(m[w]=g[w])},c(d,f)};return function(d,f){c(d,f);function m(){this.constructor=d}d.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}})();Object.defineProperty(e,"__esModule",{value:!0});var i=ba(),o=So(),s=Co();e.default=(function(c){n(d,c);function d(f,m,g){var w=c.call(this)||this;return w.connection=f,w.reqUri=m,w.resUri=g,w}return d.prototype.connect=function(){var f=this;return this.connection.on(this.resUri,function(m){f.transportRequestManager.resolveResponse(m)}),Promise.resolve()},d.prototype.sendData=function(f,m){m===void 0&&(m=null);var g=this.transportRequestManager.addRequest(f,m),w=o.getNotifications(f),_=this.parseData(f);try{return this.connection.emit(this.reqUri,_),this.transportRequestManager.settlePendingRequest(w),g}catch(E){var C=new s.JSONRPCError(E.message,s.ERR_UNKNOWN,E);return this.transportRequestManager.settlePendingRequest(w,C),Promise.reject(C)}},d.prototype.close=function(){this.connection.removeAllListeners()},d})(i.Transport)}));function Qk(e){return e&&DataView.prototype.isPrototypeOf(e)}function Eo(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Dd(e){return typeof e!="string"&&(e=String(e)),e}function Pd(e){var n={next:function(){var i=e.shift();return{done:i===void 0,value:i}}};return Rn.iterable&&(n[Symbol.iterator]=function(){return n}),n}function sn(e){this.map={},e instanceof sn?e.forEach(function(n,i){this.append(i,n)},this):Array.isArray(e)?e.forEach(function(n){if(n.length!=2)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+n.length);this.append(n[0],n[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(n){this.append(n,e[n])},this)}function Ld(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function I0(e){return new Promise(function(n,i){e.onload=function(){n(e.result)},e.onerror=function(){i(e.error)}})}function Gk(e){var n=new FileReader,i=I0(n);return n.readAsArrayBuffer(e),i}function Jk(e){var n=new FileReader,i=I0(n),o=/charset=([A-Za-z0-9_-]+)/.exec(e.type),s=o?o[1]:"utf-8";return n.readAsText(e,s),i}function Xk(e){for(var n=new Uint8Array(e),i=Array(n.length),o=0;o<n.length;o++)i[o]=String.fromCharCode(n[o]);return i.join("")}function j0(e){if(e.slice)return e.slice(0);var n=new Uint8Array(e.byteLength);return n.set(new Uint8Array(e)),n.buffer}function q0(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Rn.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Rn.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Rn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Rn.arrayBuffer&&Rn.blob&&Qk(e)?(this._bodyArrayBuffer=j0(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Rn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||B0(e))?this._bodyArrayBuffer=j0(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Rn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Rn.blob&&(this.blob=function(){var e=Ld(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return Ld(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(Rn.blob)return this.blob().then(Gk);throw Error("could not read as ArrayBuffer")},this.text=function(){var e=Ld(this);if(e)return e;if(this._bodyBlob)return Jk(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Xk(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Rn.formData&&(this.formData=function(){return this.text().then(Zk)}),this.json=function(){return this.text().then(JSON.parse)},this}function Yk(e){var n=e.toUpperCase();return V0.indexOf(n)>-1?n:e}function ka(e,n){if(!(this instanceof ka))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');n||(n={});var i=n.body;if(e instanceof ka){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new sn(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!i&&e._bodyInit!=null&&(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=n.credentials||this.credentials||"same-origin",(n.headers||!this.headers)&&(this.headers=new sn(n.headers)),this.method=Yk(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal||(function(){if("AbortController"in pn)return new AbortController().signal})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&i)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),(this.method==="GET"||this.method==="HEAD")&&(n.cache==="no-store"||n.cache==="no-cache")){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function Zk(e){var n=new FormData;return e.trim().split("&").forEach(function(i){if(i){var o=i.split("="),s=o.shift().replace(/\+/g," "),c=o.join("=").replace(/\+/g," ");n.append(decodeURIComponent(s),decodeURIComponent(c))}}),n}function eC(e){var n=new sn;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(i){return i.indexOf(`
`)===0?i.substr(1,i.length):i}).forEach(function(i){var o=i.split(":"),s=o.shift().trim();if(s){var c=o.join(":").trim();try{n.append(s,c)}catch(d){console.warn("Response "+d.message)}}}),n}function $r(e,n){if(!(this instanceof $r))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(n||(n={}),this.type="default",this.status=n.status===void 0?200:n.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=n.statusText===void 0?"":""+n.statusText,this.headers=new sn(n.headers),this.url=n.url||"",this._initBody(e)}function z0(e,n){return new Promise(function(i,o){var s=new ka(e,n);if(s.signal&&s.signal.aborted)return o(new ji("Aborted","AbortError"));var c=new XMLHttpRequest;function d(){c.abort()}c.onload=function(){var g={statusText:c.statusText,headers:eC(c.getAllResponseHeaders()||"")};s.url.indexOf("file://")===0&&(c.status<200||c.status>599)?g.status=200:g.status=c.status,g.url="responseURL"in c?c.responseURL:g.headers.get("X-Request-URL");var w="response"in c?c.response:c.responseText;setTimeout(function(){i(new $r(w,g))},0)},c.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},c.onabort=function(){setTimeout(function(){o(new ji("Aborted","AbortError"))},0)};function f(g){try{return g===""&&pn.location.href?pn.location.href:g}catch{return g}}if(c.open(s.method,f(s.url),!0),s.credentials==="include"?c.withCredentials=!0:s.credentials==="omit"&&(c.withCredentials=!1),"responseType"in c&&(Rn.blob?c.responseType="blob":Rn.arrayBuffer&&(c.responseType="arraybuffer")),n&&typeof n.headers=="object"&&!(n.headers instanceof sn||pn.Headers&&n.headers instanceof pn.Headers)){var m=[];Object.getOwnPropertyNames(n.headers).forEach(function(g){m.push(Eo(g)),c.setRequestHeader(g,Dd(n.headers[g]))}),s.headers.forEach(function(g,w){m.indexOf(w)===-1&&c.setRequestHeader(w,g)})}else s.headers.forEach(function(g,w){c.setRequestHeader(w,g)});s.signal&&(s.signal.addEventListener("abort",d),c.onreadystatechange=function(){c.readyState===4&&s.signal.removeEventListener("abort",d)}),c.send(s._bodyInit===void 0?null:s._bodyInit)})}let pn,Rn,F0,B0,V0,H0,ji,$0,W0,U0,K0,Ca,Q0,G0,J0,X0,Y0,Z0,To,Md,Nd,eg,qi,Ro,Wl,tg,Ad,ng,rg,ig,ag,Ul,og,Sa,Id,qt,Kl,sg,lg,cg,ug,dg,fg,pg,mg,hg,gg,yg,vg,bg,wg,_g,xg,kg,Cg,Sg,Eg,Tg,Rg,Og,Dg;$0=i2((()=>{pn=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Rn={searchParams:"URLSearchParams"in pn,iterable:"Symbol"in pn&&"iterator"in Symbol,blob:"FileReader"in pn&&"Blob"in pn&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in pn,arrayBuffer:"ArrayBuffer"in pn},Rn.arrayBuffer&&(F0=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],B0=ArrayBuffer.isView||function(e){return e&&F0.indexOf(Object.prototype.toString.call(e))>-1}),sn.prototype.append=function(e,n){e=Eo(e),n=Dd(n);var i=this.map[e];this.map[e]=i?i+", "+n:n},sn.prototype.delete=function(e){delete this.map[Eo(e)]},sn.prototype.get=function(e){return e=Eo(e),this.has(e)?this.map[e]:null},sn.prototype.has=function(e){return this.map.hasOwnProperty(Eo(e))},sn.prototype.set=function(e,n){this.map[Eo(e)]=Dd(n)},sn.prototype.forEach=function(e,n){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(n,this.map[i],i,this)},sn.prototype.keys=function(){var e=[];return this.forEach(function(n,i){e.push(i)}),Pd(e)},sn.prototype.values=function(){var e=[];return this.forEach(function(n){e.push(n)}),Pd(e)},sn.prototype.entries=function(){var e=[];return this.forEach(function(n,i){e.push([i,n])}),Pd(e)},Rn.iterable&&(sn.prototype[Symbol.iterator]=sn.prototype.entries),V0=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"],ka.prototype.clone=function(){return new ka(this,{body:this._bodyInit})},q0.call(ka.prototype),q0.call($r.prototype),$r.prototype.clone=function(){return new $r(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new sn(this.headers),url:this.url})},$r.error=function(){var e=new $r(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e},H0=[301,302,303,307,308],$r.redirect=function(e,n){if(H0.indexOf(n)===-1)throw RangeError("Invalid status code");return new $r(null,{status:n,headers:{location:e}})},ji=pn.DOMException;try{new ji}catch{ji=function(e,n){this.message=e,this.name=n,this.stack=Error(e).stack},ji.prototype=Object.create(Error.prototype),ji.prototype.constructor=ji}z0.polyfill=!0,pn.fetch||(pn.fetch=z0,pn.Headers=sn,pn.Request=ka,pn.Response=$r)})),W0=ke(((e,n)=>{$0(),n.exports=self.fetch.bind(self)})),U0=ke((e=>{var n=e&&e.__extends||(function(){var w=function(_,C){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var A in T)T.hasOwnProperty(A)&&(E[A]=T[A])},w(_,C)};return function(_,C){w(_,C);function E(){this.constructor=_}_.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}})(),i=e&&e.__awaiter||function(w,_,C,E){function T(A){return A instanceof C?A:new C(function(V){V(A)})}return new(C||(C=Promise))(function(A,V){function H(Q){try{N(E.next(Q))}catch(pe){V(pe)}}function W(Q){try{N(E.throw(Q))}catch(pe){V(pe)}}function N(Q){Q.done?A(Q.value):T(Q.value).then(H,W)}N((E=E.apply(w,_||[])).next())})},o=e&&e.__generator||function(w,_){var C={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},E,T,A,V;return V={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function H(N){return function(Q){return W([N,Q])}}function W(N){if(E)throw TypeError("Generator is already executing.");for(;C;)try{if(E=1,T&&(A=N[0]&2?T.return:N[0]?T.throw||((A=T.return)&&A.call(T),0):T.next)&&!(A=A.call(T,N[1])).done)return A;switch(T=0,A&&(N=[N[0]&2,A.value]),N[0]){case 0:case 1:A=N;break;case 4:return C.label++,{value:N[1],done:!1};case 5:C.label++,T=N[1],N=[0];continue;case 7:N=C.ops.pop(),C.trys.pop();continue;default:if(A=C.trys,!(A=A.length>0&&A[A.length-1])&&(N[0]===6||N[0]===2)){C=0;continue}if(N[0]===3&&(!A||N[1]>A[0]&&N[1]<A[3])){C.label=N[1];break}if(N[0]===6&&C.label<A[1]){C.label=A[1],A=N;break}if(A&&C.label<A[2]){C.label=A[2],C.ops.push(N);break}A[2]&&C.ops.pop(),C.trys.pop();continue}N=_.call(w,C)}catch(Q){N=[6,Q],T=0}finally{E=A=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},s=e&&e.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var c=s(W0()),d=ba(),f=So(),m=Co(),g=(function(w){n(_,w);function _(C,E){var T=w.call(this)||this;return T.onlyNotifications=function(A){return A instanceof Array?A.every(function(V){return V.request.request.id===null||V.request.request.id===void 0}):A.request.id===null||A.request.id===void 0},T.uri=C,T.credentials=E&&E.credentials,T.headers=_.setupHeaders(E&&E.headers),T.injectedFetcher=E==null?void 0:E.fetcher,T}return _.prototype.connect=function(){return Promise.resolve()},_.prototype.sendData=function(C,E){return E===void 0&&(E=null),i(this,void 0,void 0,function(){var T,A,V,H,W,N,pe,Q,pe;return o(this,function(P){switch(P.label){case 0:T=this.transportRequestManager.addRequest(C,E),A=f.getNotifications(C),V=f.getBatchRequests(C),H=this.injectedFetcher||c.default,P.label=1;case 1:return P.trys.push([1,4,,5]),[4,H(this.uri,{method:"POST",headers:this.headers,body:JSON.stringify(this.parseData(C)),credentials:this.credentials})];case 2:return W=P.sent(),this.transportRequestManager.settlePendingRequest(A),this.onlyNotifications(C)?[2,Promise.resolve()]:[4,W.text()];case 3:return N=P.sent(),pe=this.transportRequestManager.resolveResponse(N),pe?(this.transportRequestManager.settlePendingRequest(V,pe),[2,Promise.reject(pe)]):[3,5];case 4:return Q=P.sent(),pe=new m.JSONRPCError(Q.message,m.ERR_UNKNOWN,Q),this.transportRequestManager.settlePendingRequest(A,pe),this.transportRequestManager.settlePendingRequest(f.getBatchRequests(C),pe),[2,Promise.reject(pe)];case 5:return[2,T]}})})},_.prototype.close=function(){},_.setupHeaders=function(C){var E=new Headers(C);return E.set("Content-Type","application/json"),E},_})(d.Transport);e.HTTPTransport=g,e.default=g})),K0=jT({default:()=>Q0}),G0=i2((()=>{Ca=null,typeof WebSocket<"u"?Ca=WebSocket:typeof MozWebSocket<"u"?Ca=MozWebSocket:typeof global<"u"?Ca=global.WebSocket||global.MozWebSocket:typeof window<"u"?Ca=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Ca=self.WebSocket||self.MozWebSocket),Q0=Ca})),J0=ke((e=>{var n=e&&e.__extends||(function(){var g=function(w,_){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var T in E)E.hasOwnProperty(T)&&(C[T]=E[T])},g(w,_)};return function(w,_){g(w,_);function C(){this.constructor=w}w.prototype=_===null?Object.create(_):(C.prototype=_.prototype,new C)}})(),i=e&&e.__awaiter||function(g,w,_,C){function E(T){return T instanceof _?T:new _(function(A){A(T)})}return new(_||(_=Promise))(function(T,A){function V(N){try{W(C.next(N))}catch(Q){A(Q)}}function H(N){try{W(C.throw(N))}catch(Q){A(Q)}}function W(N){N.done?T(N.value):E(N.value).then(V,H)}W((C=C.apply(g,w||[])).next())})},o=e&&e.__generator||function(g,w){var _={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},C,E,T,A;return A={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function V(W){return function(N){return H([W,N])}}function H(W){if(C)throw TypeError("Generator is already executing.");for(;_;)try{if(C=1,E&&(T=W[0]&2?E.return:W[0]?E.throw||((T=E.return)&&T.call(E),0):E.next)&&!(T=T.call(E,W[1])).done)return T;switch(E=0,T&&(W=[W[0]&2,T.value]),W[0]){case 0:case 1:T=W;break;case 4:return _.label++,{value:W[1],done:!1};case 5:_.label++,E=W[1],W=[0];continue;case 7:W=_.ops.pop(),_.trys.pop();continue;default:if(T=_.trys,!(T=T.length>0&&T[T.length-1])&&(W[0]===6||W[0]===2)){_=0;continue}if(W[0]===3&&(!T||W[1]>T[0]&&W[1]<T[3])){_.label=W[1];break}if(W[0]===6&&_.label<T[1]){_.label=T[1],T=W;break}if(T&&_.label<T[2]){_.label=T[2],_.ops.push(W);break}T[2]&&_.ops.pop(),_.trys.pop();continue}W=w.call(g,_)}catch(N){W=[6,N],E=0}finally{C=T=0}if(W[0]&5)throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}},s=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var c=s((G0(),fu(K0))),d=ba(),f=So(),m=Co();e.default=(function(g){n(w,g);function w(_){var C=g.call(this)||this;return C.uri=_,C.connection=new c.default(_),C}return w.prototype.connect=function(){var _=this;return new Promise(function(C,E){var T=function(){_.connection.removeEventListener("open",T),C()};_.connection.addEventListener("open",T),_.connection.addEventListener("message",function(A){var V=A.data;_.transportRequestManager.resolveResponse(V)})})},w.prototype.sendData=function(_,C){return C===void 0&&(C=5e3),i(this,void 0,void 0,function(){var E,T,A;return o(this,function(V){E=this.transportRequestManager.addRequest(_,C),T=f.getNotifications(_);try{this.connection.send(JSON.stringify(this.parseData(_))),this.transportRequestManager.settlePendingRequest(T)}catch(H){A=new m.JSONRPCError(H.message,m.ERR_UNKNOWN,H),this.transportRequestManager.settlePendingRequest(T,A),this.transportRequestManager.settlePendingRequest(f.getBatchRequests(_),A),E=Promise.reject(A)}return[2,E]})})},w.prototype.close=function(){this.connection.close()},w})(d.Transport)})),X0=ke((e=>{var n=e&&e.__extends||(function(){var f=function(m,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,_){w.__proto__=_}||function(w,_){for(var C in _)_.hasOwnProperty(C)&&(w[C]=_[C])},f(m,g)};return function(m,g){f(m,g);function w(){this.constructor=m}m.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}})(),i=e&&e.__awaiter||function(f,m,g,w){function _(C){return C instanceof g?C:new g(function(E){E(C)})}return new(g||(g=Promise))(function(C,E){function T(H){try{V(w.next(H))}catch(W){E(W)}}function A(H){try{V(w.throw(H))}catch(W){E(W)}}function V(H){H.done?C(H.value):_(H.value).then(T,A)}V((w=w.apply(f,m||[])).next())})},o=e&&e.__generator||function(f,m){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},w,_,C,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(V){return function(H){return A([V,H])}}function A(V){if(w)throw TypeError("Generator is already executing.");for(;g;)try{if(w=1,_&&(C=V[0]&2?_.return:V[0]?_.throw||((C=_.return)&&C.call(_),0):_.next)&&!(C=C.call(_,V[1])).done)return C;switch(_=0,C&&(V=[V[0]&2,C.value]),V[0]){case 0:case 1:C=V;break;case 4:return g.label++,{value:V[1],done:!1};case 5:g.label++,_=V[1],V=[0];continue;case 7:V=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(V[0]===6||V[0]===2)){g=0;continue}if(V[0]===3&&(!C||V[1]>C[0]&&V[1]<C[3])){g.label=V[1];break}if(V[0]===6&&g.label<C[1]){g.label=C[1],C=V;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(V);break}C[2]&&g.ops.pop(),g.trys.pop();continue}V=m.call(f,g)}catch(H){V=[6,H],_=0}finally{w=C=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var s=ba(),c=So(),d=function(f){var m=400,g=window.screen.height;return window.open(f,"inspector:popup","left=0,top=0,width="+m+",height="+g+",resizable,scrollbars=yes,status=1")};e.default=(function(f){n(m,f);function m(g){var w=f.call(this)||this;return w.messageHandler=function(_){w.transportRequestManager.resolveResponse(JSON.stringify(_.data))},w.uri=g,w.postMessageID="post-message-transport-"+Math.random(),w}return m.prototype.createWindow=function(g){return new Promise(function(w,_){var C=d(g);setTimeout(function(){w(C)},3e3)})},m.prototype.connect=function(){var g=this,w=/^(http|https):\/\/.*$/;return new Promise(function(_,C){return i(g,void 0,void 0,function(){var E;return o(this,function(T){switch(T.label){case 0:return w.test(this.uri)||C(Error("Bad URI")),E=this,[4,this.createWindow(this.uri)];case 1:return E.frame=T.sent(),window.addEventListener("message",this.messageHandler),_(),[2]}})})})},m.prototype.sendData=function(g,w){return w===void 0&&(w=5e3),i(this,void 0,void 0,function(){var _,C;return o(this,function(E){return _=this.transportRequestManager.addRequest(g,null),C=c.getNotifications(g),this.frame&&(this.frame.postMessage(g.request,this.uri),this.transportRequestManager.settlePendingRequest(C)),[2,_]})})},m.prototype.close=function(){this.frame&&(window.removeEventListener("message",this.messageHandler),this.frame.close())},m})(s.Transport)})),Y0=ke((e=>{var n=e&&e.__extends||(function(){var d=function(f,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var _ in w)w.hasOwnProperty(_)&&(g[_]=w[_])},d(f,m)};return function(f,m){d(f,m);function g(){this.constructor=f}f.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}})(),i=e&&e.__awaiter||function(d,f,m,g){function w(_){return _ instanceof m?_:new m(function(C){C(_)})}return new(m||(m=Promise))(function(_,C){function E(V){try{A(g.next(V))}catch(H){C(H)}}function T(V){try{A(g.throw(V))}catch(H){C(H)}}function A(V){V.done?_(V.value):w(V.value).then(E,T)}A((g=g.apply(d,f||[])).next())})},o=e&&e.__generator||function(d,f){var m={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},g,w,_,C;return C={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function E(A){return function(V){return T([A,V])}}function T(A){if(g)throw TypeError("Generator is already executing.");for(;m;)try{if(g=1,w&&(_=A[0]&2?w.return:A[0]?w.throw||((_=w.return)&&_.call(w),0):w.next)&&!(_=_.call(w,A[1])).done)return _;switch(w=0,_&&(A=[A[0]&2,_.value]),A[0]){case 0:case 1:_=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++,w=A[1],A=[0];continue;case 7:A=m.ops.pop(),m.trys.pop();continue;default:if(_=m.trys,!(_=_.length>0&&_[_.length-1])&&(A[0]===6||A[0]===2)){m=0;continue}if(A[0]===3&&(!_||A[1]>_[0]&&A[1]<_[3])){m.label=A[1];break}if(A[0]===6&&m.label<_[1]){m.label=_[1],_=A;break}if(_&&m.label<_[2]){m.label=_[2],m.ops.push(A);break}_[2]&&m.ops.pop(),m.trys.pop();continue}A=f.call(d,m)}catch(V){A=[6,V],w=0}finally{g=_=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var s=ba(),c=So();e.default=(function(d){n(f,d);function f(m){var g=d.call(this)||this;return g.messageHandler=function(w){g.transportRequestManager.resolveResponse(JSON.stringify(w.data))},g.uri=m,g.postMessageID="post-message-transport-"+Math.random(),g}return f.prototype.createWindow=function(m){var g=this;return new Promise(function(w,_){var C,E=document.createElement("iframe");E.setAttribute("id",g.postMessageID),E.setAttribute("width","0px"),E.setAttribute("height","0px"),E.setAttribute("style","visiblity:hidden;border:none;outline:none;"),E.addEventListener("load",function(){w(C)}),E.setAttribute("src",m),window.document.body.appendChild(E),C=E.contentWindow})},f.prototype.connect=function(){var m=this,g=/^(http|https):\/\/.*$/;return new Promise(function(w,_){return i(m,void 0,void 0,function(){var C;return o(this,function(E){switch(E.label){case 0:return g.test(this.uri)||_(Error("Bad URI")),C=this,[4,this.createWindow(this.uri)];case 1:return C.frame=E.sent(),window.addEventListener("message",this.messageHandler),w(),[2]}})})})},f.prototype.sendData=function(m,g){return g===void 0&&(g=5e3),i(this,void 0,void 0,function(){var w,_;return o(this,function(C){return w=this.transportRequestManager.addRequest(m,null),_=c.getNotifications(m),this.frame&&(this.frame.postMessage(m.request,"*"),this.transportRequestManager.settlePendingRequest(_)),[2,w]})})},f.prototype.close=function(){var m;(m=document.getElementById(this.postMessageID))==null||m.remove(),window.removeEventListener("message",this.messageHandler)},f})(s.Transport)})),Z0=ke((e=>{var n=e&&e.__awaiter||function(o,s,c,d){function f(m){return m instanceof c?m:new c(function(g){g(m)})}return new(c||(c=Promise))(function(m,g){function w(E){try{C(d.next(E))}catch(T){g(T)}}function _(E){try{C(d.throw(E))}catch(T){g(T)}}function C(E){E.done?m(E.value):f(E.value).then(w,_)}C((d=d.apply(o,s||[])).next())})},i=e&&e.__generator||function(o,s){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,f,m,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(C){return function(E){return _([C,E])}}function _(C){if(d)throw TypeError("Generator is already executing.");for(;c;)try{if(d=1,f&&(m=C[0]&2?f.return:C[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,C[1])).done)return m;switch(f=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,f=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){c.label=C[1];break}if(C[0]===6&&c.label<m[1]){c.label=m[1],m=C;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(C);break}m[2]&&c.ops.pop(),c.trys.pop();continue}C=s.call(o,c)}catch(E){C=[6,E],f=0}finally{d=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=(function(){function o(s){this.requestManager=s}return o.prototype.startBatch=function(){return this.requestManager.startBatch()},o.prototype.stopBatch=function(){return this.requestManager.stopBatch()},o.prototype.request=function(s,c){return n(this,void 0,void 0,function(){return i(this,function(d){switch(d.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2,this.requestManager.request(s,!1,c)]}})})},o.prototype.notify=function(s){return n(this,void 0,void 0,function(){return i(this,function(c){switch(c.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2,this.requestManager.request(s,!0,null)]}})})},o.prototype.onNotification=function(s){this.requestManager.requestChannel.addListener("notification",s)},o.prototype.onError=function(s){this.requestManager.requestChannel.addListener("error",s)},o.prototype.close=function(){this.requestManager.close()},o})()})),zl=ke((e=>{var n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.PostMessageIframeTransport=e.PostMessageWindowTransport=e.JSONRPCError=e.WebSocketTransport=e.EventEmitterTransport=e.HTTPTransport=e.RequestManager=e.Client=void 0,e.RequestManager=n(M0()).default,e.EventEmitterTransport=n(A0()).default,e.HTTPTransport=n(U0()).default,e.WebSocketTransport=n(J0()).default,e.PostMessageWindowTransport=n(X0()).default,e.PostMessageIframeTransport=n(Y0()).default;var i=Co();Object.defineProperty(e,"JSONRPCError",{enumerable:!0,get:function(){return i.JSONRPCError}});var o=n(Z0());e.Client=o.default,e.default=o.default})),To=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});function n(m){return m===!0||m===!1}e.boolean=n;function i(m){return typeof m=="string"||m instanceof String}e.string=i;function o(m){return typeof m=="number"||m instanceof Number}e.number=o;function s(m){return m instanceof Error}e.error=s;function c(m){return typeof m=="function"}e.func=c;function d(m){return Array.isArray(m)}e.array=d;function f(m){return d(m)&&m.every(g=>i(g))}e.stringArray=f})),Md=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=To(),i;(function(d){d.ParseError=-32700,d.InvalidRequest=-32600,d.MethodNotFound=-32601,d.InvalidParams=-32602,d.InternalError=-32603,d.jsonrpcReservedErrorRangeStart=-32099,d.serverErrorStart=-32099,d.MessageWriteError=-32099,d.MessageReadError=-32098,d.PendingResponseRejected=-32097,d.ConnectionInactive=-32096,d.ServerNotInitialized=-32002,d.UnknownErrorCode=-32001,d.jsonrpcReservedErrorRangeEnd=-32e3,d.serverErrorEnd=-32e3})(i||(e.ErrorCodes=i={})),e.ResponseError=class __ extends Error{constructor(f,m,g){super(m),this.code=n.number(f)?f:i.UnknownErrorCode,this.data=g,Object.setPrototypeOf(this,__.prototype)}toJson(){let f={code:this.code,message:this.message};return this.data!==void 0&&(f.data=this.data),f}};var o=class nd{constructor(f){this.kind=f}static is(f){return f===nd.auto||f===nd.byName||f===nd.byPosition}toString(){return this.kind}};e.ParameterStructures=o,o.auto=new o("auto"),o.byPosition=new o("byPosition"),o.byName=new o("byName");var s=class{constructor(d,f){this.method=d,this.numberOfParams=f}get parameterStructures(){return o.auto}};e.AbstractMessageSignature=s,e.RequestType0=class extends s{constructor(d){super(d,0)}},e.RequestType=class extends s{constructor(d,f=o.auto){super(d,1),this._parameterStructures=f}get parameterStructures(){return this._parameterStructures}},e.RequestType1=class extends s{constructor(d,f=o.auto){super(d,1),this._parameterStructures=f}get parameterStructures(){return this._parameterStructures}},e.RequestType2=class extends s{constructor(d){super(d,2)}},e.RequestType3=class extends s{constructor(d){super(d,3)}},e.RequestType4=class extends s{constructor(d){super(d,4)}},e.RequestType5=class extends s{constructor(d){super(d,5)}},e.RequestType6=class extends s{constructor(d){super(d,6)}},e.RequestType7=class extends s{constructor(d){super(d,7)}},e.RequestType8=class extends s{constructor(d){super(d,8)}},e.RequestType9=class extends s{constructor(d){super(d,9)}},e.NotificationType=class extends s{constructor(d,f=o.auto){super(d,1),this._parameterStructures=f}get parameterStructures(){return this._parameterStructures}},e.NotificationType0=class extends s{constructor(d){super(d,0)}},e.NotificationType1=class extends s{constructor(d,f=o.auto){super(d,1),this._parameterStructures=f}get parameterStructures(){return this._parameterStructures}},e.NotificationType2=class extends s{constructor(d){super(d,2)}},e.NotificationType3=class extends s{constructor(d){super(d,3)}},e.NotificationType4=class extends s{constructor(d){super(d,4)}},e.NotificationType5=class extends s{constructor(d){super(d,5)}},e.NotificationType6=class extends s{constructor(d){super(d,6)}},e.NotificationType7=class extends s{constructor(d){super(d,7)}},e.NotificationType8=class extends s{constructor(d){super(d,8)}},e.NotificationType9=class extends s{constructor(d){super(d,9)}};var c;(function(d){function f(w){let _=w;return _&&n.string(_.method)&&(n.string(_.id)||n.number(_.id))}d.isRequest=f;function m(w){let _=w;return _&&n.string(_.method)&&w.id===void 0}d.isNotification=m;function g(w){let _=w;return _&&(_.result!==void 0||!!_.error)&&(n.string(_.id)||n.number(_.id)||_.id===null)}d.isResponse=g})(c||(e.Message=c={}))})),Nd=ke((e=>{var n;Object.defineProperty(e,"__esModule",{value:!0});var i;(function(s){s.None=0,s.First=1,s.AsOld=s.First,s.Last=2,s.AsNew=s.Last})(i||(e.Touch=i={}));var o=class{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)==null?void 0:s.value}get last(){var s;return(s=this._tail)==null?void 0:s.value}has(s){return this._map.has(s)}get(s,c=i.None){let d=this._map.get(s);if(d)return c!==i.None&&this.touch(d,c),d.value}set(s,c,d=i.None){let f=this._map.get(s);if(f)f.value=c,d!==i.None&&this.touch(f,d);else{switch(f={key:s,value:c,next:void 0,previous:void 0},d){case i.None:this.addItemLast(f);break;case i.First:this.addItemFirst(f);break;case i.Last:this.addItemLast(f);break;default:this.addItemLast(f);break}this._map.set(s,f),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){let c=this._map.get(s);if(c)return this._map.delete(s),this.removeItem(c),this._size--,c.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw Error("Invalid list");let s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,c){let d=this._state,f=this._head;for(;f;){if(c?s.bind(c)(f.value,f.key,this):s(f.value,f.key,this),this._state!==d)throw Error("LinkedMap got modified during iteration.");f=f.next}}keys(){let s=this._state,c=this._head,d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==s)throw Error("LinkedMap got modified during iteration.");if(c){let f={value:c.key,done:!1};return c=c.next,f}else return{value:void 0,done:!0}}};return d}values(){let s=this._state,c=this._head,d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==s)throw Error("LinkedMap got modified during iteration.");if(c){let f={value:c.value,done:!1};return c=c.next,f}else return{value:void 0,done:!0}}};return d}entries(){let s=this._state,c=this._head,d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==s)throw Error("LinkedMap got modified during iteration.");if(c){let f={value:[c.key,c.value],done:!1};return c=c.next,f}else return{value:void 0,done:!0}}};return d}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let c=this._head,d=this.size;for(;c&&d>s;)this._map.delete(c.key),c=c.next,d--;this._head=c,this._size=d,c&&(c.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{let c=s.next,d=s.previous;if(!c||!d)throw Error("Invalid list");c.previous=d,d.next=c}s.next=void 0,s.previous=void 0,this._state++}touch(s,c){if(!this._head||!this._tail)throw Error("Invalid list");if(!(c!==i.First&&c!==i.Last)){if(c===i.First){if(s===this._head)return;let d=s.next,f=s.previous;s===this._tail?(f.next=void 0,this._tail=f):(d.previous=f,f.next=d),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(c===i.Last){if(s===this._tail)return;let d=s.next,f=s.previous;s===this._head?(d.previous=void 0,this._head=d):(d.previous=f,f.next=d),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){let s=[];return this.forEach((c,d)=>{s.push([d,c])}),s}fromJSON(s){this.clear();for(let[c,d]of s)this.set(c,d)}};e.LinkedMap=o,e.LRUCache=class extends o{constructor(s,c=1){super(),this._limit=s,this._ratio=Math.min(Math.max(0,c),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,c=i.AsNew){return super.get(s,c)}peek(s){return super.get(s,i.None)}set(s,c){return super.set(s,c,i.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}})),eg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n;(function(i){function o(s){return{dispose:s}}i.create=o})(n||(e.Disposable=n={}))})),qi=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n;function i(){if(n===void 0)throw Error("No runtime abstraction layer installed");return n}(function(o){function s(c){if(c===void 0)throw Error("No runtime abstraction layer provided");n=c}o.install=s})(i||(i={})),e.default=i})),Ro=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi(),i;(function(c){let d={dispose(){}};c.None=function(){return d}})(i||(e.Event=i={}));var o=class{add(c,d=null,f){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(c),this._contexts.push(d),Array.isArray(f)&&f.push({dispose:()=>this.remove(c,d)})}remove(c,d=null){if(!this._callbacks)return;let f=!1;for(let m=0,g=this._callbacks.length;m<g;m++)if(this._callbacks[m]===c)if(this._contexts[m]===d){this._callbacks.splice(m,1),this._contexts.splice(m,1);return}else f=!0;if(f)throw Error("When adding a listener with a context, you should remove it with the same context")}invoke(...c){if(!this._callbacks)return[];let d=[],f=this._callbacks.slice(0),m=this._contexts.slice(0);for(let g=0,w=f.length;g<w;g++)try{d.push(f[g].apply(m[g],c))}catch(_){(0,n.default)().console.error(_)}return d}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},s=class x_{constructor(d){this._options=d}get event(){return this._event||(this._event=(d,f,m)=>{this._callbacks||(this._callbacks=new o),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(d,f);let g={dispose:()=>{this._callbacks&&(this._callbacks.remove(d,f),g.dispose=x_._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(m)&&m.push(g),g}),this._event}fire(d){this._callbacks&&this._callbacks.invoke.call(this._callbacks,d)}dispose(){this._callbacks&&(this._callbacks=(this._callbacks.dispose(),void 0))}};e.Emitter=s,s._noop=function(){}})),Wl=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi(),i=To(),o=Ro(),s;(function(f){f.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),f.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None});function m(g){let w=g;return w&&(w===f.None||w===f.Cancelled||i.boolean(w.isCancellationRequested)&&!!w.onCancellationRequested)}f.is=m})(s||(e.CancellationToken=s={}));var c=Object.freeze(function(f,m){let g=(0,n.default)().timer.setTimeout(f.bind(m),0);return{dispose(){g.dispose()}}}),d=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?c:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter=(this._emitter.dispose(),void 0))}};e.CancellationTokenSource=class{get token(){return this._token||(this._token=new d),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof d&&this._token.dispose():this._token=s.None}}})),tg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Wl(),i;(function(c){c.Continue=0,c.Cancelled=1})(i||(i={})),e.SharedArraySenderStrategy=class{constructor(){this.buffers=new Map}enableCancellation(c){if(c.id===null)return;let d=new SharedArrayBuffer(4),f=new Int32Array(d,0,1);f[0]=i.Continue,this.buffers.set(c.id,d),c.$cancellationData=d}async sendCancellation(c,d){let f=this.buffers.get(d);if(f===void 0)return;let m=new Int32Array(f,0,1);Atomics.store(m,0,i.Cancelled)}cleanup(c){this.buffers.delete(c)}dispose(){this.buffers.clear()}};var o=class{constructor(c){this.data=new Int32Array(c,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===i.Cancelled}get onCancellationRequested(){throw Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},s=class{constructor(c){this.token=new o(c)}cancel(){}dispose(){}};e.SharedArrayReceiverStrategy=class{constructor(){this.kind="request"}createCancellationTokenSource(c){let d=c.$cancellationData;return d===void 0?new n.CancellationTokenSource:new s(d)}}})),Ad=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi();e.Semaphore=class{constructor(i=1){if(i<=0)throw Error("Capacity must be greater than 0");this._capacity=i,this._active=0,this._waiting=[]}lock(i){return new Promise((o,s)=>{this._waiting.push({thunk:i,resolve:o,reject:s}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,n.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let i=this._waiting.shift();if(this._active++,this._active>this._capacity)throw Error("To many thunks active");try{let o=i.thunk();o instanceof Promise?o.then(s=>{this._active--,i.resolve(s),this.runNext()},s=>{this._active--,i.reject(s),this.runNext()}):(this._active--,i.resolve(o),this.runNext())}catch(o){this._active--,i.reject(o),this.runNext()}}}})),ng=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi(),i=To(),o=Ro(),s=Ad(),c;(function(m){function g(w){let _=w;return _&&i.func(_.listen)&&i.func(_.dispose)&&i.func(_.onError)&&i.func(_.onClose)&&i.func(_.onPartialMessage)}m.is=g})(c||(e.MessageReader=c={}));var d=class{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(m){this.errorEmitter.fire(this.asError(m))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(m){this.partialMessageEmitter.fire(m)}asError(m){return m instanceof Error?m:Error(`Reader received error. Reason: ${i.string(m.message)?m.message:"unknown"}`)}};e.AbstractMessageReader=d;var f;(function(m){function g(w){let _,C,E=new Map,T,A=new Map;if(w===void 0||typeof w=="string")_=w??"utf-8";else{if(_=w.charset??"utf-8",w.contentDecoder!==void 0&&(C=w.contentDecoder,E.set(C.name,C)),w.contentDecoders!==void 0)for(let V of w.contentDecoders)E.set(V.name,V);if(w.contentTypeDecoder!==void 0&&(T=w.contentTypeDecoder,A.set(T.name,T)),w.contentTypeDecoders!==void 0)for(let V of w.contentTypeDecoders)A.set(V.name,V)}return T===void 0&&(T=(0,n.default)().applicationJson.decoder,A.set(T.name,T)),{charset:_,contentDecoder:C,contentDecoders:E,contentTypeDecoder:T,contentTypeDecoders:A}}m.fromOptions=g})(f||(f={})),e.ReadableStreamMessageReader=class extends d{constructor(m,g){super(),this.readable=m,this.options=f.fromOptions(g),this.buffer=(0,n.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new s.Semaphore(1)}set partialMessageTimeout(m){this._partialMessageTimeout=m}get partialMessageTimeout(){return this._partialMessageTimeout}listen(m){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=m;let g=this.readable.onData(w=>{this.onData(w)});return this.readable.onError(w=>this.fireError(w)),this.readable.onClose(()=>this.fireClose()),g}onData(m){try{for(this.buffer.append(m);;){if(this.nextMessageLength===-1){let w=this.buffer.tryReadHeaders(!0);if(!w)return;let _=w.get("content-length");if(!_){this.fireError(Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(w))}`));return}let C=parseInt(_);if(isNaN(C)){this.fireError(Error(`Content-Length value must be a number. Got ${_}`));return}this.nextMessageLength=C}let g=this.buffer.tryReadBody(this.nextMessageLength);if(g===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let w=this.options.contentDecoder===void 0?g:await this.options.contentDecoder.decode(g),_=await this.options.contentTypeDecoder.decode(w,this.options);this.callback(_)}).catch(w=>{this.fireError(w)})}}catch(g){this.fireError(g)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer=(this.partialMessageTimer.dispose(),void 0))}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,n.default)().timer.setTimeout((m,g)=>{this.partialMessageTimer=void 0,m===this.messageToken&&(this.firePartialMessage({messageToken:m,waitingTime:g}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}})),rg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qi(),i=To(),o=Ad(),s=Ro(),c="Content-Length: ",d=`\r
`,f;(function(w){function _(C){let E=C;return E&&i.func(E.dispose)&&i.func(E.onClose)&&i.func(E.onError)&&i.func(E.write)}w.is=_})(f||(e.MessageWriter=f={}));var m=class{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(w,_,C){this.errorEmitter.fire([this.asError(w),_,C])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(w){return w instanceof Error?w:Error(`Writer received error. Reason: ${i.string(w.message)?w.message:"unknown"}`)}};e.AbstractMessageWriter=m;var g;(function(w){function _(C){return C===void 0||typeof C=="string"?{charset:C??"utf-8",contentTypeEncoder:(0,n.default)().applicationJson.encoder}:{charset:C.charset??"utf-8",contentEncoder:C.contentEncoder,contentTypeEncoder:C.contentTypeEncoder??(0,n.default)().applicationJson.encoder}}w.fromOptions=_})(g||(g={})),e.WriteableStreamMessageWriter=class extends m{constructor(w,_){super(),this.writable=w,this.options=g.fromOptions(_),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError(C=>this.fireError(C)),this.writable.onClose(()=>this.fireClose())}async write(w){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(w,this.options).then(_=>this.options.contentEncoder===void 0?_:this.options.contentEncoder.encode(_)).then(_=>{let C=[];return C.push(c,_.byteLength.toString(),d),C.push(d),this.doWrite(w,C,_)},_=>{throw this.fireError(_),_}))}async doWrite(w,_,C){try{return await this.writable.write(_.join(""),"ascii"),this.writable.write(C)}catch(E){return this.handleError(E,w),Promise.reject(E)}}handleError(w,_){this.errorCount++,this.fireError(w,_,this.errorCount)}end(){this.writable.end()}}})),ig=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=13,i=10,o=`\r
`;e.AbstractMessageBuffer=class{constructor(s="utf-8"){this._encoding=s,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(s){let c=typeof s=="string"?this.fromString(s,this._encoding):s;this._chunks.push(c),this._totalLength+=c.byteLength}tryReadHeaders(s=!1){if(this._chunks.length===0)return;let c=0,d=0,f=0,m=0;e:for(;d<this._chunks.length;){let C=this._chunks[d];for(f=0;f<C.length;){switch(C[f]){case n:switch(c){case 0:c=1;break;case 2:c=3;break;default:c=0}break;case i:switch(c){case 1:c=2;break;case 3:c=4,f++;break e;default:c=0}break;default:c=0}f++}m+=C.byteLength,d++}if(c!==4)return;let g=this._read(m+f),w=new Map,_=this.toString(g,"ascii").split(o);if(_.length<2)return w;for(let C=0;C<_.length-2;C++){let E=_[C],T=E.indexOf(":");if(T===-1)throw Error(`Message header must separate key and value using ':'
${E}`);let A=E.substr(0,T),V=E.substr(T+1).trim();w.set(s?A.toLowerCase():A,V)}return w}tryReadBody(s){if(!(this._totalLength<s))return this._read(s)}get numberOfBytes(){return this._totalLength}_read(s){if(s===0)return this.emptyBuffer();if(s>this._totalLength)throw Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===s){let f=this._chunks[0];return this._chunks.shift(),this._totalLength-=s,this.asNative(f)}if(this._chunks[0].byteLength>s){let f=this._chunks[0],m=this.asNative(f,s);return this._chunks[0]=f.slice(s),this._totalLength-=s,m}let c=this.allocNative(s),d=0;for(;s>0;){let f=this._chunks[0];if(f.byteLength>s){let m=f.slice(0,s);c.set(m,d),d+=s,this._chunks[0]=f.slice(s),this._totalLength-=s,s-=s}else c.set(f,d),d+=f.byteLength,this._chunks.shift(),this._totalLength-=f.byteLength,s-=f.byteLength}return c}}})),ag=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;var n=qi(),i=To(),o=Md(),s=Nd(),c=Ro(),d=Wl(),f;(function(Y){Y.type=new o.NotificationType("$/cancelRequest")})(f||(f={}));var m;(function(Y){function we(Ee){return typeof Ee=="string"||typeof Ee=="number"}Y.is=we})(m||(e.ProgressToken=m={}));var g;(function(Y){Y.type=new o.NotificationType("$/progress")})(g||(g={})),e.ProgressType=class{constructor(){}};var w;(function(Y){function we(Ee){return i.func(Ee)}Y.is=we})(w||(w={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var _;(function(Y){Y[Y.Off=0]="Off",Y[Y.Messages=1]="Messages",Y[Y.Compact=2]="Compact",Y[Y.Verbose=3]="Verbose"})(_||(e.Trace=_={}));var C;(function(Y){Y.Off="off",Y.Messages="messages",Y.Compact="compact",Y.Verbose="verbose"})(C||(e.TraceValues=C={})),(function(Y){function we(ie){if(!i.string(ie))return Y.Off;switch(ie=ie.toLowerCase(),ie){case"off":return Y.Off;case"messages":return Y.Messages;case"compact":return Y.Compact;case"verbose":return Y.Verbose;default:return Y.Off}}Y.fromString=we;function Ee(ie){switch(ie){case Y.Off:return"off";case Y.Messages:return"messages";case Y.Compact:return"compact";case Y.Verbose:return"verbose";default:return"off"}}Y.toString=Ee})(_||(e.Trace=_={}));var E;(function(Y){Y.Text="text",Y.JSON="json"})(E||(e.TraceFormat=E={})),(function(Y){function we(Ee){return i.string(Ee)?(Ee=Ee.toLowerCase(),Ee==="json"?Y.JSON:Y.Text):Y.Text}Y.fromString=we})(E||(e.TraceFormat=E={}));var T;(function(Y){Y.type=new o.NotificationType("$/setTrace")})(T||(e.SetTraceNotification=T={}));var A;(function(Y){Y.type=new o.NotificationType("$/logTrace")})(A||(e.LogTraceNotification=A={}));var V;(function(Y){Y[Y.Closed=1]="Closed",Y[Y.Disposed=2]="Disposed",Y[Y.AlreadyListening=3]="AlreadyListening"})(V||(e.ConnectionErrors=V={}));var H=class k_ extends Error{constructor(we,Ee){super(Ee),this.code=we,Object.setPrototypeOf(this,k_.prototype)}};e.ConnectionError=H;var W;(function(Y){function we(Ee){let ie=Ee;return ie&&i.func(ie.cancelUndispatched)}Y.is=we})(W||(e.ConnectionStrategy=W={}));var N;(function(Y){function we(Ee){let ie=Ee;return ie&&(ie.kind===void 0||ie.kind==="id")&&i.func(ie.createCancellationTokenSource)&&(ie.dispose===void 0||i.func(ie.dispose))}Y.is=we})(N||(e.IdCancellationReceiverStrategy=N={}));var Q;(function(Y){function we(Ee){let ie=Ee;return ie&&ie.kind==="request"&&i.func(ie.createCancellationTokenSource)&&(ie.dispose===void 0||i.func(ie.dispose))}Y.is=we})(Q||(e.RequestCancellationReceiverStrategy=Q={}));var pe;(function(Y){Y.Message=Object.freeze({createCancellationTokenSource(Ee){return new d.CancellationTokenSource}});function we(Ee){return N.is(Ee)||Q.is(Ee)}Y.is=we})(pe||(e.CancellationReceiverStrategy=pe={}));var P;(function(Y){Y.Message=Object.freeze({sendCancellation(Ee,ie){return Ee.sendNotification(f.type,{id:ie})},cleanup(Ee){}});function we(Ee){let ie=Ee;return ie&&i.func(ie.sendCancellation)&&i.func(ie.cleanup)}Y.is=we})(P||(e.CancellationSenderStrategy=P={}));var I;(function(Y){Y.Message=Object.freeze({receiver:pe.Message,sender:P.Message});function we(Ee){let ie=Ee;return ie&&pe.is(ie.receiver)&&P.is(ie.sender)}Y.is=we})(I||(e.CancellationStrategy=I={}));var $;(function(Y){function we(Ee){let ie=Ee;return ie&&i.func(ie.handleMessage)}Y.is=we})($||(e.MessageStrategy=$={}));var de;(function(Y){function we(Ee){let ie=Ee;return ie&&(I.is(ie.cancellationStrategy)||W.is(ie.connectionStrategy)||$.is(ie.messageStrategy))}Y.is=we})(de||(e.ConnectionOptions=de={}));var fe;(function(Y){Y[Y.New=1]="New",Y[Y.Listening=2]="Listening",Y[Y.Closed=3]="Closed",Y[Y.Disposed=4]="Disposed"})(fe||(fe={}));function be(Y,we,Ee,ie){let X=Ee===void 0?e.NullLogger:Ee,G=0,K=0,Le=0,Qe,ut=new Map,Be,We=new Map,Oe=new Map,Me,hn=new s.LinkedMap,It=new Map,On=new Set,ln=new Map,Ue=_.Off,nn=E.Text,gt,gn=fe.New,Yn=new c.Emitter,kt=new c.Emitter,ci=new c.Emitter,yn=new c.Emitter,vn=new c.Emitter,An=ie&&ie.cancellationStrategy?ie.cancellationStrategy:I.Message;function Mr(q){if(q===null)throw Error("Can't send requests with id null since the response can't be correlated.");return"req-"+q.toString()}function In(q){return q===null?"res-unknown-"+(++Le).toString():"res-"+q.toString()}function rn(){return"not-"+(++K).toString()}function Hi(q,ne){o.Message.isRequest(ne)?q.set(Mr(ne.id),ne):o.Message.isResponse(ne)?q.set(In(ne.id),ne):q.set(rn(),ne)}function Ur(q){}function Nr(){return gn===fe.Listening}function ui(){return gn===fe.Closed}function Vt(){return gn===fe.Disposed}function Qt(){(gn===fe.New||gn===fe.Listening)&&(gn=fe.Closed,kt.fire(void 0))}function yt(q){Yn.fire([q,void 0,void 0])}function Ft(q){Yn.fire(q)}Y.onClose(Qt),Y.onError(yt),we.onClose(Qt),we.onError(Ft);function Ct(){Me||hn.size===0||(Me=(0,n.default)().timer.setImmediate(()=>{Me=void 0,$i()}))}function di(q){o.Message.isRequest(q)?fr(q):o.Message.isNotification(q)?Ht(q):o.Message.isResponse(q)?Ge(q):lt(q)}function $i(){if(hn.size===0)return;let q=hn.shift();try{let ne=ie==null?void 0:ie.messageStrategy;$.is(ne)?ne.handleMessage(q,di):di(q)}finally{Ct()}}let Ar=q=>{try{if(o.Message.isNotification(q)&&q.method===f.type.method){let ne=q.params.id,ye=Mr(ne),Se=hn.get(ye);if(o.Message.isRequest(Se)){let tt=ie==null?void 0:ie.connectionStrategy,it=tt&&tt.cancelUndispatched?tt.cancelUndispatched(Se,Ur):void 0;if(it&&(it.error!==void 0||it.result!==void 0)){hn.delete(ye),ln.delete(ne),it.id=Se.id,St(it,q.method,Date.now()),we.write(it).catch(()=>X.error("Sending response for canceled message failed."));return}}let pt=ln.get(ne);if(pt!==void 0){pt.cancel(),Qr(q);return}else On.add(ne)}Hi(hn,q)}finally{Ct()}};function fr(q){if(Vt())return;function ne($e,Ve,at){let ht={jsonrpc:"2.0",id:q.id};$e instanceof o.ResponseError?ht.error=$e.toJson():ht.result=$e===void 0?null:$e,St(ht,Ve,at),we.write(ht).catch(()=>X.error("Sending response failed."))}function ye($e,Ve,at){let ht={jsonrpc:"2.0",id:q.id,error:$e.toJson()};St(ht,Ve,at),we.write(ht).catch(()=>X.error("Sending response failed."))}function Se($e,Ve,at){$e===void 0&&($e=null);let ht={jsonrpc:"2.0",id:q.id,result:$e};St(ht,Ve,at),we.write(ht).catch(()=>X.error("Sending response failed."))}Zn(q);let pt=ut.get(q.method),tt,it;pt&&(tt=pt.type,it=pt.handler);let wt=Date.now();if(it||Qe){let $e=q.id??String(Date.now()),Ve=N.is(An.receiver)?An.receiver.createCancellationTokenSource($e):An.receiver.createCancellationTokenSource(q);q.id!==null&&On.has(q.id)&&Ve.cancel(),q.id!==null&&ln.set($e,Ve);try{let at;if(it)if(q.params===void 0){if(tt!==void 0&&tt.numberOfParams!==0){ye(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${q.method} defines ${tt.numberOfParams} params but received none.`),q.method,wt);return}at=it(Ve.token)}else if(Array.isArray(q.params)){if(tt!==void 0&&tt.parameterStructures===o.ParameterStructures.byName){ye(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${q.method} defines parameters by name but received parameters by position`),q.method,wt);return}at=it(...q.params,Ve.token)}else{if(tt!==void 0&&tt.parameterStructures===o.ParameterStructures.byPosition){ye(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${q.method} defines parameters by position but received parameters by name`),q.method,wt);return}at=it(q.params,Ve.token)}else Qe&&(at=Qe(q.method,q.params,Ve.token));let ht=at;at?ht.then?ht.then($t=>{ln.delete($e),ne($t,q.method,wt)},$t=>{ln.delete($e),$t instanceof o.ResponseError?ye($t,q.method,wt):$t&&i.string($t.message)?ye(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${q.method} failed with message: ${$t.message}`),q.method,wt):ye(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${q.method} failed unexpectedly without providing any details.`),q.method,wt)}):(ln.delete($e),ne(at,q.method,wt)):(ln.delete($e),Se(at,q.method,wt))}catch(at){ln.delete($e),at instanceof o.ResponseError?ne(at,q.method,wt):at&&i.string(at.message)?ye(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${q.method} failed with message: ${at.message}`),q.method,wt):ye(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${q.method} failed unexpectedly without providing any details.`),q.method,wt)}}else ye(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${q.method}`),q.method,wt)}function Ge(q){if(!Vt())if(q.id===null)q.error?X.error(`Received response message without id: Error is: 
${JSON.stringify(q.error,void 0,4)}`):X.error("Received response message without id. No further error information provided.");else{let ne=q.id,ye=It.get(ne);if(fi(q,ye),ye!==void 0){It.delete(ne);try{if(q.error){let Se=q.error;ye.reject(new o.ResponseError(Se.code,Se.message,Se.data))}else if(q.result!==void 0)ye.resolve(q.result);else throw Error("Should never happen.")}catch(Se){Se.message?X.error(`Response handler '${ye.method}' failed with message: ${Se.message}`):X.error(`Response handler '${ye.method}' failed unexpectedly.`)}}}}function Ht(q){if(Vt())return;let ne,ye;if(q.method===f.type.method){let Se=q.params.id;On.delete(Se),Qr(q);return}else{let Se=We.get(q.method);Se&&(ye=Se.handler,ne=Se.type)}if(ye||Be)try{if(Qr(q),ye)if(q.params===void 0)ne!==void 0&&ne.numberOfParams!==0&&ne.parameterStructures!==o.ParameterStructures.byName&&X.error(`Notification ${q.method} defines ${ne.numberOfParams} params but received none.`),ye();else if(Array.isArray(q.params)){let Se=q.params;q.method===g.type.method&&Se.length===2&&m.is(Se[0])?ye({token:Se[0],value:Se[1]}):(ne!==void 0&&(ne.parameterStructures===o.ParameterStructures.byName&&X.error(`Notification ${q.method} defines parameters by name but received parameters by position`),ne.numberOfParams!==q.params.length&&X.error(`Notification ${q.method} defines ${ne.numberOfParams} params but received ${Se.length} arguments`)),ye(...Se))}else ne!==void 0&&ne.parameterStructures===o.ParameterStructures.byPosition&&X.error(`Notification ${q.method} defines parameters by position but received parameters by name`),ye(q.params);else Be&&Be(q.method,q.params)}catch(Se){Se.message?X.error(`Notification handler '${q.method}' failed with message: ${Se.message}`):X.error(`Notification handler '${q.method}' failed unexpectedly.`)}else ci.fire(q)}function lt(q){if(!q){X.error("Received empty message.");return}X.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(q,null,4)}`);let ne=q;if(i.string(ne.id)||i.number(ne.id)){let ye=ne.id,Se=It.get(ye);Se&&Se.reject(Error("The received response has neither a result nor an error property."))}}function vt(q){if(q!=null)switch(Ue){case _.Verbose:return JSON.stringify(q,null,4);case _.Compact:return JSON.stringify(q);default:return}}function Dn(q){if(!(Ue===_.Off||!gt))if(nn===E.Text){let ne;(Ue===_.Verbose||Ue===_.Compact)&&q.params&&(ne=`Params: ${vt(q.params)}

`),gt.log(`Sending request '${q.method} - (${q.id})'.`,ne)}else jn("send-request",q)}function Kr(q){if(!(Ue===_.Off||!gt))if(nn===E.Text){let ne;(Ue===_.Verbose||Ue===_.Compact)&&(ne=q.params?`Params: ${vt(q.params)}

`:`No parameters provided.

`),gt.log(`Sending notification '${q.method}'.`,ne)}else jn("send-notification",q)}function St(q,ne,ye){if(!(Ue===_.Off||!gt))if(nn===E.Text){let Se;(Ue===_.Verbose||Ue===_.Compact)&&(q.error&&q.error.data?Se=`Error data: ${vt(q.error.data)}

`:q.result?Se=`Result: ${vt(q.result)}

`:q.error===void 0&&(Se=`No result returned.

`)),gt.log(`Sending response '${ne} - (${q.id})'. Processing request took ${Date.now()-ye}ms`,Se)}else jn("send-response",q)}function Zn(q){if(!(Ue===_.Off||!gt))if(nn===E.Text){let ne;(Ue===_.Verbose||Ue===_.Compact)&&q.params&&(ne=`Params: ${vt(q.params)}

`),gt.log(`Received request '${q.method} - (${q.id})'.`,ne)}else jn("receive-request",q)}function Qr(q){if(!(Ue===_.Off||!gt||q.method===A.type.method))if(nn===E.Text){let ne;(Ue===_.Verbose||Ue===_.Compact)&&(ne=q.params?`Params: ${vt(q.params)}

`:`No parameters provided.

`),gt.log(`Received notification '${q.method}'.`,ne)}else jn("receive-notification",q)}function fi(q,ne){if(!(Ue===_.Off||!gt))if(nn===E.Text){let ye;if((Ue===_.Verbose||Ue===_.Compact)&&(q.error&&q.error.data?ye=`Error data: ${vt(q.error.data)}

`:q.result?ye=`Result: ${vt(q.result)}

`:q.error===void 0&&(ye=`No result returned.

`)),ne){let Se=q.error?` Request failed: ${q.error.message} (${q.error.code}).`:"";gt.log(`Received response '${ne.method} - (${q.id})' in ${Date.now()-ne.timerStart}ms.${Se}`,ye)}else gt.log(`Received response ${q.id} without active response promise.`,ye)}else jn("receive-response",q)}function jn(q,ne){if(!gt||Ue===_.Off)return;let ye={isLSPMessage:!0,type:q,message:ne,timestamp:Date.now()};gt.log(ye)}function Vn(){if(ui())throw new H(V.Closed,"Connection is closed.");if(Vt())throw new H(V.Disposed,"Connection is disposed.")}function Gr(){if(Nr())throw new H(V.AlreadyListening,"Connection is already listening")}function pi(){if(!Nr())throw Error("Call listen() first.")}function er(q){return q===void 0?null:q}function Pn(q){if(q!==null)return q}function bt(q){return q!=null&&!Array.isArray(q)&&typeof q=="object"}function jt(q,ne){switch(q){case o.ParameterStructures.auto:return bt(ne)?Pn(ne):[er(ne)];case o.ParameterStructures.byName:if(!bt(ne))throw Error("Received parameters by name but param is not an object literal.");return Pn(ne);case o.ParameterStructures.byPosition:return[er(ne)];default:throw Error(`Unknown parameter structure ${q.toString()}`)}}function L(q,ne){let ye,Se=q.numberOfParams;switch(Se){case 0:ye=void 0;break;case 1:ye=jt(q.parameterStructures,ne[0]);break;default:ye=[];for(let pt=0;pt<ne.length&&pt<Se;pt++)ye.push(er(ne[pt]));if(ne.length<Se)for(let pt=ne.length;pt<Se;pt++)ye.push(null);break}return ye}let Je={sendNotification:(q,...ne)=>{Vn();let ye,Se;if(i.string(q)){ye=q;let tt=ne[0],it=0,wt=o.ParameterStructures.auto;o.ParameterStructures.is(tt)&&(it=1,wt=tt);let $e=ne.length,Ve=$e-it;switch(Ve){case 0:Se=void 0;break;case 1:Se=jt(wt,ne[it]);break;default:if(wt===o.ParameterStructures.byName)throw Error(`Received ${Ve} parameters for 'by Name' notification parameter structure.`);Se=ne.slice(it,$e).map(at=>er(at));break}}else{let tt=ne;ye=q.method,Se=L(q,tt)}let pt={jsonrpc:"2.0",method:ye,params:Se};return Kr(pt),we.write(pt).catch(tt=>{throw X.error("Sending notification failed."),tt})},onNotification:(q,ne)=>{Vn();let ye;return i.func(q)?Be=q:ne&&(i.string(q)?(ye=q,We.set(q,{type:void 0,handler:ne})):(ye=q.method,We.set(q.method,{type:q,handler:ne}))),{dispose:()=>{ye===void 0?Be=void 0:We.delete(ye)}}},onProgress:(q,ne,ye)=>{if(Oe.has(ne))throw Error(`Progress handler for token ${ne} already registered`);return Oe.set(ne,ye),{dispose:()=>{Oe.delete(ne)}}},sendProgress:(q,ne,ye)=>Je.sendNotification(g.type,{token:ne,value:ye}),onUnhandledProgress:yn.event,sendRequest:(q,...ne)=>{Vn(),pi();let ye,Se,pt;if(i.string(q)){ye=q;let $e=ne[0],Ve=ne[ne.length-1],at=0,ht=o.ParameterStructures.auto;o.ParameterStructures.is($e)&&(at=1,ht=$e);let $t=ne.length;d.CancellationToken.is(Ve)&&(--$t,pt=Ve);let tr=$t-at;switch(tr){case 0:Se=void 0;break;case 1:Se=jt(ht,ne[at]);break;default:if(ht===o.ParameterStructures.byName)throw Error(`Received ${tr} parameters for 'by Name' request parameter structure.`);Se=ne.slice(at,$t).map(ks=>er(ks));break}}else{let $e=ne;ye=q.method,Se=L(q,$e);let Ve=q.numberOfParams;pt=d.CancellationToken.is($e[Ve])?$e[Ve]:void 0}let tt=G++,it;pt&&(it=pt.onCancellationRequested(()=>{let $e=An.sender.sendCancellation(Je,tt);return $e===void 0?(X.log(`Received no promise from cancellation strategy when cancelling id ${tt}`),Promise.resolve()):$e.catch(()=>{X.log(`Sending cancellation messages for id ${tt} failed`)})}));let wt={jsonrpc:"2.0",id:tt,method:ye,params:Se};return Dn(wt),typeof An.sender.enableCancellation=="function"&&An.sender.enableCancellation(wt),new Promise(async($e,Ve)=>{let at={method:ye,timerStart:Date.now(),resolve:ht=>{$e(ht),An.sender.cleanup(tt),it==null||it.dispose()},reject:ht=>{Ve(ht),An.sender.cleanup(tt),it==null||it.dispose()}};try{await we.write(wt),It.set(tt,at)}catch(ht){throw X.error("Sending request failed."),at.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,ht.message?ht.message:"Unknown reason")),ht}})},onRequest:(q,ne)=>{Vn();let ye=null;return w.is(q)?(ye=void 0,Qe=q):i.string(q)?(ye=null,ne!==void 0&&(ye=q,ut.set(q,{handler:ne,type:void 0}))):ne!==void 0&&(ye=q.method,ut.set(q.method,{type:q,handler:ne})),{dispose:()=>{ye!==null&&(ye===void 0?Qe=void 0:ut.delete(ye))}}},hasPendingResponse:()=>It.size>0,trace:async(q,ne,ye)=>{let Se=!1,pt=E.Text;ye!==void 0&&(i.boolean(ye)?Se=ye:(Se=ye.sendNotification||!1,pt=ye.traceFormat||E.Text)),Ue=q,nn=pt,gt=Ue===_.Off?void 0:ne,Se&&!ui()&&!Vt()&&await Je.sendNotification(T.type,{value:_.toString(q)})},onError:Yn.event,onClose:kt.event,onUnhandledNotification:ci.event,onDispose:vn.event,end:()=>{we.end()},dispose:()=>{if(Vt())return;gn=fe.Disposed,vn.fire(void 0);let q=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let ne of It.values())ne.reject(q);It=new Map,ln=new Map,On=new Set,hn=new s.LinkedMap,i.func(we.dispose)&&we.dispose(),i.func(Y.dispose)&&Y.dispose()},listen:()=>{Vn(),Gr(),gn=fe.Listening,Y.listen(Ar)},inspect:()=>{(0,n.default)().console.log("inspect")}};return Je.onNotification(A.type,q=>{if(Ue===_.Off||!gt)return;let ne=Ue===_.Verbose||Ue===_.Compact;gt.log(q.message,ne?q.verbose:void 0)}),Je.onNotification(g.type,q=>{let ne=Oe.get(q.token);ne?ne(q.value):yn.fire(q)}),Je}e.createMessageConnection=be})),Ul=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;var n=Md();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return n.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return n.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return n.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return n.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return n.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return n.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return n.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return n.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return n.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return n.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return n.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return n.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return n.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return n.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return n.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return n.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return n.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return n.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return n.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return n.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return n.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return n.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return n.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return n.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return n.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return n.ParameterStructures}});var i=Nd();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return i.Touch}});var o=eg();Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});var s=Ro();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});var c=Wl();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return c.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return c.CancellationToken}});var d=tg();Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return d.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return d.SharedArrayReceiverStrategy}});var f=ng();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return f.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return f.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return f.ReadableStreamMessageReader}});var m=rg();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return m.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return m.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return m.WriteableStreamMessageWriter}});var g=ig();Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return g.AbstractMessageBuffer}});var w=ag();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return w.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return w.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return w.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return w.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return w.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return w.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return w.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return w.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return w.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return w.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return w.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return w.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return w.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return w.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return w.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return w.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return w.MessageStrategy}}),e.RAL=qi().default})),og=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Ul(),i=class C_ extends n.AbstractMessageBuffer{constructor(g="utf-8"){super(g),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return C_.emptyBuffer}fromString(g,w){return new TextEncoder().encode(g)}toString(g,w){return w==="ascii"?this.asciiDecoder.decode(g):new TextDecoder(w).decode(g)}asNative(g,w){return w===void 0?g:g.slice(0,w)}allocNative(g){return new Uint8Array(g)}};i.emptyBuffer=new Uint8Array;var o=class{constructor(m){this.socket=m,this._onData=new n.Emitter,this._messageListener=g=>{g.data.arrayBuffer().then(w=>{this._onData.fire(new Uint8Array(w))},()=>{(0,n.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(m){return this.socket.addEventListener("close",m),n.Disposable.create(()=>this.socket.removeEventListener("close",m))}onError(m){return this.socket.addEventListener("error",m),n.Disposable.create(()=>this.socket.removeEventListener("error",m))}onEnd(m){return this.socket.addEventListener("end",m),n.Disposable.create(()=>this.socket.removeEventListener("end",m))}onData(m){return this._onData.event(m)}},s=class{constructor(m){this.socket=m}onClose(m){return this.socket.addEventListener("close",m),n.Disposable.create(()=>this.socket.removeEventListener("close",m))}onError(m){return this.socket.addEventListener("error",m),n.Disposable.create(()=>this.socket.removeEventListener("error",m))}onEnd(m){return this.socket.addEventListener("end",m),n.Disposable.create(()=>this.socket.removeEventListener("end",m))}write(m,g){if(typeof m=="string"){if(g!==void 0&&g!=="utf-8")throw Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${g}`);this.socket.send(m)}else this.socket.send(m);return Promise.resolve()}end(){this.socket.close()}},c=new TextEncoder,d=Object.freeze({messageBuffer:Object.freeze({create:m=>new i(m)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(m,g)=>{if(g.charset!=="utf-8")throw Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${g.charset}`);return Promise.resolve(c.encode(JSON.stringify(m,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(m,g)=>{if(!(m instanceof Uint8Array))throw Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(g.charset).decode(m)))}})}),stream:Object.freeze({asReadableStream:m=>new o(m),asWritableStream:m=>new s(m)}),console,timer:Object.freeze({setTimeout(m,g,...w){let _=setTimeout(m,g,...w);return{dispose:()=>clearTimeout(_)}},setImmediate(m,...g){let w=setTimeout(m,0,...g);return{dispose:()=>clearTimeout(w)}},setInterval(m,g,...w){let _=setInterval(m,g,...w);return{dispose:()=>clearInterval(_)}}})});function f(){return d}(function(m){function g(){n.RAL.install(d)}m.install=g})(f||(f={})),e.default=f})),Sa=ke((e=>{var n=e&&e.__createBinding||(Object.create?(function(c,d,f,m){m===void 0&&(m=f);var g=Object.getOwnPropertyDescriptor(d,f);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,m,g)}):(function(c,d,f,m){m===void 0&&(m=f),c[m]=d[f]})),i=e&&e.__exportStar||function(c,d){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&n(d,c,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,og().default.install();var o=Ul();i(Ul(),e),e.BrowserMessageReader=class extends o.AbstractMessageReader{constructor(c){super(),this._onData=new o.Emitter,this._messageListener=d=>{this._onData.fire(d.data)},c.addEventListener("error",d=>this.fireError(d)),c.onmessage=this._messageListener}listen(c){return this._onData.event(c)}},e.BrowserMessageWriter=class extends o.AbstractMessageWriter{constructor(c){super(),this.port=c,this.errorCount=0,c.addEventListener("error",d=>this.fireError(d))}write(c){try{return this.port.postMessage(c),Promise.resolve()}catch(d){return this.handleError(d,c),Promise.reject(d)}}handleError(c,d){this.errorCount++,this.fireError(c,d,this.errorCount)}end(){}};function s(c,d,f,m){return f===void 0&&(f=o.NullLogger),o.ConnectionStrategy.is(m)&&(m={connectionStrategy:m}),(0,o.createMessageConnection)(c,d,f,m)}e.createMessageConnection=s})),Id=ke(((e,n)=>{n.exports=Sa()})),qt=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Sa(),i;(function(o){o.clientToServer="clientToServer",o.serverToClient="serverToClient",o.both="both"})(i||(e.MessageDirection=i={})),e.RegistrationType=class{constructor(o){this.method=o}},e.ProtocolRequestType0=class extends n.RequestType0{constructor(o){super(o)}},e.ProtocolRequestType=class extends n.RequestType{constructor(o){super(o,n.ParameterStructures.byName)}},e.ProtocolNotificationType0=class extends n.NotificationType0{constructor(o){super(o)}},e.ProtocolNotificationType=class extends n.NotificationType{constructor(o){super(o,n.ParameterStructures.byName)}}})),Kl=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});function n(w){return w===!0||w===!1}e.boolean=n;function i(w){return typeof w=="string"||w instanceof String}e.string=i;function o(w){return typeof w=="number"||w instanceof Number}e.number=o;function s(w){return w instanceof Error}e.error=s;function c(w){return typeof w=="function"}e.func=c;function d(w){return Array.isArray(w)}e.array=d;function f(w){return d(w)&&w.every(_=>i(_))}e.stringArray=f;function m(w,_){return Array.isArray(w)&&w.every(_)}e.typedArray=m;function g(w){return typeof w=="object"&&!!w}e.objectLiteral=g})),sg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/implementation",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.ImplementationRequest=i={}))})),lg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/typeDefinition",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.TypeDefinitionRequest=i={}))})),cg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(s){s.method="workspace/workspaceFolders",s.messageDirection=n.MessageDirection.serverToClient,s.type=new n.ProtocolRequestType0(s.method)})(i||(e.WorkspaceFoldersRequest=i={}));var o;(function(s){s.method="workspace/didChangeWorkspaceFolders",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolNotificationType(s.method)})(o||(e.DidChangeWorkspaceFoldersNotification=o={}))})),ug=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="workspace/configuration",o.messageDirection=n.MessageDirection.serverToClient,o.type=new n.ProtocolRequestType(o.method)})(i||(e.ConfigurationRequest=i={}))})),dg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(s){s.method="textDocument/documentColor",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(i||(e.DocumentColorRequest=i={}));var o;(function(s){s.method="textDocument/colorPresentation",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(o||(e.ColorPresentationRequest=o={}))})),fg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(s){s.method="textDocument/foldingRange",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(i||(e.FoldingRangeRequest=i={}));var o;(function(s){s.method="workspace/foldingRange/refresh",s.messageDirection=n.MessageDirection.serverToClient,s.type=new n.ProtocolRequestType0(s.method)})(o||(e.FoldingRangeRefreshRequest=o={}))})),pg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/declaration",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.DeclarationRequest=i={}))})),mg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/selectionRange",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.SelectionRangeRequest=i={}))})),hg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Sa(),i=qt(),o;(function(d){d.type=new n.ProgressType;function f(m){return m===d.type}d.is=f})(o||(e.WorkDoneProgress=o={}));var s;(function(d){d.method="window/workDoneProgress/create",d.messageDirection=i.MessageDirection.serverToClient,d.type=new i.ProtocolRequestType(d.method)})(s||(e.WorkDoneProgressCreateRequest=s={}));var c;(function(d){d.method="window/workDoneProgress/cancel",d.messageDirection=i.MessageDirection.clientToServer,d.type=new i.ProtocolNotificationType(d.method)})(c||(e.WorkDoneProgressCancelNotification=c={}))})),gg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(c){c.method="textDocument/prepareCallHierarchy",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(i||(e.CallHierarchyPrepareRequest=i={}));var o;(function(c){c.method="callHierarchy/incomingCalls",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(o||(e.CallHierarchyIncomingCallsRequest=o={}));var s;(function(c){c.method="callHierarchy/outgoingCalls",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(s||(e.CallHierarchyOutgoingCallsRequest=s={}))})),yg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(m){m.Relative="relative"})(i||(e.TokenFormat=i={}));var o;(function(m){m.method="textDocument/semanticTokens",m.type=new n.RegistrationType(m.method)})(o||(e.SemanticTokensRegistrationType=o={}));var s;(function(m){m.method="textDocument/semanticTokens/full",m.messageDirection=n.MessageDirection.clientToServer,m.type=new n.ProtocolRequestType(m.method),m.registrationMethod=o.method})(s||(e.SemanticTokensRequest=s={}));var c;(function(m){m.method="textDocument/semanticTokens/full/delta",m.messageDirection=n.MessageDirection.clientToServer,m.type=new n.ProtocolRequestType(m.method),m.registrationMethod=o.method})(c||(e.SemanticTokensDeltaRequest=c={}));var d;(function(m){m.method="textDocument/semanticTokens/range",m.messageDirection=n.MessageDirection.clientToServer,m.type=new n.ProtocolRequestType(m.method),m.registrationMethod=o.method})(d||(e.SemanticTokensRangeRequest=d={}));var f;(function(m){m.method="workspace/semanticTokens/refresh",m.messageDirection=n.MessageDirection.serverToClient,m.type=new n.ProtocolRequestType0(m.method)})(f||(e.SemanticTokensRefreshRequest=f={}))})),vg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="window/showDocument",o.messageDirection=n.MessageDirection.serverToClient,o.type=new n.ProtocolRequestType(o.method)})(i||(e.ShowDocumentRequest=i={}))})),bg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/linkedEditingRange",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.LinkedEditingRangeRequest=i={}))})),wg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(g){g.file="file",g.folder="folder"})(i||(e.FileOperationPatternKind=i={}));var o;(function(g){g.method="workspace/willCreateFiles",g.messageDirection=n.MessageDirection.clientToServer,g.type=new n.ProtocolRequestType(g.method)})(o||(e.WillCreateFilesRequest=o={}));var s;(function(g){g.method="workspace/didCreateFiles",g.messageDirection=n.MessageDirection.clientToServer,g.type=new n.ProtocolNotificationType(g.method)})(s||(e.DidCreateFilesNotification=s={}));var c;(function(g){g.method="workspace/willRenameFiles",g.messageDirection=n.MessageDirection.clientToServer,g.type=new n.ProtocolRequestType(g.method)})(c||(e.WillRenameFilesRequest=c={}));var d;(function(g){g.method="workspace/didRenameFiles",g.messageDirection=n.MessageDirection.clientToServer,g.type=new n.ProtocolNotificationType(g.method)})(d||(e.DidRenameFilesNotification=d={}));var f;(function(g){g.method="workspace/didDeleteFiles",g.messageDirection=n.MessageDirection.clientToServer,g.type=new n.ProtocolNotificationType(g.method)})(f||(e.DidDeleteFilesNotification=f={}));var m;(function(g){g.method="workspace/willDeleteFiles",g.messageDirection=n.MessageDirection.clientToServer,g.type=new n.ProtocolRequestType(g.method)})(m||(e.WillDeleteFilesRequest=m={}))})),_g=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(c){c.document="document",c.project="project",c.group="group",c.scheme="scheme",c.global="global"})(i||(e.UniquenessLevel=i={}));var o;(function(c){c.$import="import",c.$export="export",c.local="local"})(o||(e.MonikerKind=o={}));var s;(function(c){c.method="textDocument/moniker",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(s||(e.MonikerRequest=s={}))})),xg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(c){c.method="textDocument/prepareTypeHierarchy",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(i||(e.TypeHierarchyPrepareRequest=i={}));var o;(function(c){c.method="typeHierarchy/supertypes",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(o||(e.TypeHierarchySupertypesRequest=o={}));var s;(function(c){c.method="typeHierarchy/subtypes",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(s||(e.TypeHierarchySubtypesRequest=s={}))})),kg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(s){s.method="textDocument/inlineValue",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(i||(e.InlineValueRequest=i={}));var o;(function(s){s.method="workspace/inlineValue/refresh",s.messageDirection=n.MessageDirection.serverToClient,s.type=new n.ProtocolRequestType0(s.method)})(o||(e.InlineValueRefreshRequest=o={}))})),Cg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(c){c.method="textDocument/inlayHint",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(i||(e.InlayHintRequest=i={}));var o;(function(c){c.method="inlayHint/resolve",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(o||(e.InlayHintResolveRequest=o={}));var s;(function(c){c.method="workspace/inlayHint/refresh",c.messageDirection=n.MessageDirection.serverToClient,c.type=new n.ProtocolRequestType0(c.method)})(s||(e.InlayHintRefreshRequest=s={}))})),Sg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Sa(),i=Kl(),o=qt(),s;(function(g){function w(_){let C=_;return C&&i.boolean(C.retriggerRequest)}g.is=w})(s||(e.DiagnosticServerCancellationData=s={}));var c;(function(g){g.Full="full",g.Unchanged="unchanged"})(c||(e.DocumentDiagnosticReportKind=c={}));var d;(function(g){g.method="textDocument/diagnostic",g.messageDirection=o.MessageDirection.clientToServer,g.type=new o.ProtocolRequestType(g.method),g.partialResult=new n.ProgressType})(d||(e.DocumentDiagnosticRequest=d={}));var f;(function(g){g.method="workspace/diagnostic",g.messageDirection=o.MessageDirection.clientToServer,g.type=new o.ProtocolRequestType(g.method),g.partialResult=new n.ProgressType})(f||(e.WorkspaceDiagnosticRequest=f={}));var m;(function(g){g.method="workspace/diagnostic/refresh",g.messageDirection=o.MessageDirection.serverToClient,g.type=new o.ProtocolRequestType0(g.method)})(m||(e.DiagnosticRefreshRequest=m={}))})),Eg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=(lm(),fu(sm)),i=Kl(),o=qt(),s;(function(T){T.Markup=1,T.Code=2;function A(V){return V===1||V===2}T.is=A})(s||(e.NotebookCellKind=s={}));var c;(function(T){function A(W,N){let Q={executionOrder:W};return(N===!0||N===!1)&&(Q.success=N),Q}T.create=A;function V(W){let N=W;return i.objectLiteral(N)&&n.uinteger.is(N.executionOrder)&&(N.success===void 0||i.boolean(N.success))}T.is=V;function H(W,N){return W===N?!0:W==null||N==null?!1:W.executionOrder===N.executionOrder&&W.success===N.success}T.equals=H})(c||(e.ExecutionSummary=c={}));var d;(function(T){function A(N,Q){return{kind:N,document:Q}}T.create=A;function V(N){let Q=N;return i.objectLiteral(Q)&&s.is(Q.kind)&&n.DocumentUri.is(Q.document)&&(Q.metadata===void 0||i.objectLiteral(Q.metadata))}T.is=V;function H(N,Q){let pe=new Set;return N.document!==Q.document&&pe.add("document"),N.kind!==Q.kind&&pe.add("kind"),N.executionSummary!==Q.executionSummary&&pe.add("executionSummary"),(N.metadata!==void 0||Q.metadata!==void 0)&&!W(N.metadata,Q.metadata)&&pe.add("metadata"),(N.executionSummary!==void 0||Q.executionSummary!==void 0)&&!c.equals(N.executionSummary,Q.executionSummary)&&pe.add("executionSummary"),pe}T.diff=H;function W(N,Q){if(N===Q)return!0;if(N==null||Q==null||typeof N!=typeof Q||typeof N!="object")return!1;let pe=Array.isArray(N),P=Array.isArray(Q);if(pe!==P)return!1;if(pe&&P){if(N.length!==Q.length)return!1;for(let I=0;I<N.length;I++)if(!W(N[I],Q[I]))return!1}if(i.objectLiteral(N)&&i.objectLiteral(Q)){let I=Object.keys(N),$=Object.keys(Q);if(I.length!==$.length||(I.sort(),$.sort(),!W(I,$)))return!1;for(let de=0;de<I.length;de++){let fe=I[de];if(!W(N[fe],Q[fe]))return!1}}return!0}})(d||(e.NotebookCell=d={}));var f;(function(T){function A(H,W,N,Q){return{uri:H,notebookType:W,version:N,cells:Q}}T.create=A;function V(H){let W=H;return i.objectLiteral(W)&&i.string(W.uri)&&n.integer.is(W.version)&&i.typedArray(W.cells,d.is)}T.is=V})(f||(e.NotebookDocument=f={}));var m;(function(T){T.method="notebookDocument/sync",T.messageDirection=o.MessageDirection.clientToServer,T.type=new o.RegistrationType(T.method)})(m||(e.NotebookDocumentSyncRegistrationType=m={}));var g;(function(T){T.method="notebookDocument/didOpen",T.messageDirection=o.MessageDirection.clientToServer,T.type=new o.ProtocolNotificationType(T.method),T.registrationMethod=m.method})(g||(e.DidOpenNotebookDocumentNotification=g={}));var w;(function(T){function A(H){let W=H;return i.objectLiteral(W)&&n.uinteger.is(W.start)&&n.uinteger.is(W.deleteCount)&&(W.cells===void 0||i.typedArray(W.cells,d.is))}T.is=A;function V(H,W,N){let Q={start:H,deleteCount:W};return N!==void 0&&(Q.cells=N),Q}T.create=V})(w||(e.NotebookCellArrayChange=w={}));var _;(function(T){T.method="notebookDocument/didChange",T.messageDirection=o.MessageDirection.clientToServer,T.type=new o.ProtocolNotificationType(T.method),T.registrationMethod=m.method})(_||(e.DidChangeNotebookDocumentNotification=_={}));var C;(function(T){T.method="notebookDocument/didSave",T.messageDirection=o.MessageDirection.clientToServer,T.type=new o.ProtocolNotificationType(T.method),T.registrationMethod=m.method})(C||(e.DidSaveNotebookDocumentNotification=C={}));var E;(function(T){T.method="notebookDocument/didClose",T.messageDirection=o.MessageDirection.clientToServer,T.type=new o.ProtocolNotificationType(T.method),T.registrationMethod=m.method})(E||(e.DidCloseNotebookDocumentNotification=E={}))})),Tg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=qt(),i;(function(o){o.method="textDocument/inlineCompletion",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.InlineCompletionRequest=i={}))})),Rg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;var n=qt(),i=(lm(),fu(sm)),o=Kl(),s=sg();Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return s.ImplementationRequest}});var c=lg();Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return c.TypeDefinitionRequest}});var d=cg();Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return d.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return d.DidChangeWorkspaceFoldersNotification}});var f=ug();Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return f.ConfigurationRequest}});var m=dg();Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return m.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return m.ColorPresentationRequest}});var g=fg();Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return g.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return g.FoldingRangeRefreshRequest}});var w=pg();Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return w.DeclarationRequest}});var _=mg();Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return _.SelectionRangeRequest}});var C=hg();Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return C.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return C.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return C.WorkDoneProgressCancelNotification}});var E=gg();Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return E.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return E.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return E.CallHierarchyPrepareRequest}});var T=yg();Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return T.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return T.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return T.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return T.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return T.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return T.SemanticTokensRegistrationType}});var A=vg();Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return A.ShowDocumentRequest}});var V=bg();Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return V.LinkedEditingRangeRequest}});var H=wg();Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return H.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return H.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return H.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return H.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return H.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return H.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return H.WillDeleteFilesRequest}});var W=_g();Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return W.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return W.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return W.MonikerRequest}});var N=xg();Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return N.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return N.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return N.TypeHierarchySupertypesRequest}});var Q=kg();Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return Q.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Q.InlineValueRefreshRequest}});var pe=Cg();Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return pe.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return pe.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return pe.InlayHintRefreshRequest}});var P=Sg();Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return P.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return P.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return P.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return P.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return P.DiagnosticRefreshRequest}});var I=Eg();Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return I.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return I.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return I.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return I.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return I.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return I.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return I.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return I.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return I.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return I.DidCloseNotebookDocumentNotification}});var $=Tg();Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return $.InlineCompletionRequest}});var de;(function(L){function Je(q){let ne=q;return o.string(ne)||o.string(ne.language)||o.string(ne.scheme)||o.string(ne.pattern)}L.is=Je})(de||(e.TextDocumentFilter=de={}));var fe;(function(L){function Je(q){let ne=q;return o.objectLiteral(ne)&&(o.string(ne.notebookType)||o.string(ne.scheme)||o.string(ne.pattern))}L.is=Je})(fe||(e.NotebookDocumentFilter=fe={}));var be;(function(L){function Je(q){let ne=q;return o.objectLiteral(ne)&&(o.string(ne.notebook)||fe.is(ne.notebook))&&(ne.language===void 0||o.string(ne.language))}L.is=Je})(be||(e.NotebookCellTextDocumentFilter=be={}));var Y;(function(L){function Je(q){if(!Array.isArray(q))return!1;for(let ne of q)if(!o.string(ne)&&!de.is(ne)&&!be.is(ne))return!1;return!0}L.is=Je})(Y||(e.DocumentSelector=Y={}));var we;(function(L){L.method="client/registerCapability",L.messageDirection=n.MessageDirection.serverToClient,L.type=new n.ProtocolRequestType(L.method)})(we||(e.RegistrationRequest=we={}));var Ee;(function(L){L.method="client/unregisterCapability",L.messageDirection=n.MessageDirection.serverToClient,L.type=new n.ProtocolRequestType(L.method)})(Ee||(e.UnregistrationRequest=Ee={}));var ie;(function(L){L.Create="create",L.Rename="rename",L.Delete="delete"})(ie||(e.ResourceOperationKind=ie={}));var X;(function(L){L.Abort="abort",L.Transactional="transactional",L.TextOnlyTransactional="textOnlyTransactional",L.Undo="undo"})(X||(e.FailureHandlingKind=X={}));var G;(function(L){L.UTF8="utf-8",L.UTF16="utf-16",L.UTF32="utf-32"})(G||(e.PositionEncodingKind=G={}));var K;(function(L){function Je(q){let ne=q;return ne&&o.string(ne.id)&&ne.id.length>0}L.hasId=Je})(K||(e.StaticRegistrationOptions=K={}));var Le;(function(L){function Je(q){let ne=q;return ne&&(ne.documentSelector===null||Y.is(ne.documentSelector))}L.is=Je})(Le||(e.TextDocumentRegistrationOptions=Le={}));var Qe;(function(L){function Je(ne){let ye=ne;return o.objectLiteral(ye)&&(ye.workDoneProgress===void 0||o.boolean(ye.workDoneProgress))}L.is=Je;function q(ne){let ye=ne;return ye&&o.boolean(ye.workDoneProgress)}L.hasWorkDoneProgress=q})(Qe||(e.WorkDoneProgressOptions=Qe={}));var ut;(function(L){L.method="initialize",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(ut||(e.InitializeRequest=ut={}));var Be;(function(L){L.unknownProtocolVersion=1})(Be||(e.InitializeErrorCodes=Be={}));var We;(function(L){L.method="initialized",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolNotificationType(L.method)})(We||(e.InitializedNotification=We={}));var Oe;(function(L){L.method="shutdown",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType0(L.method)})(Oe||(e.ShutdownRequest=Oe={}));var Me;(function(L){L.method="exit",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolNotificationType0(L.method)})(Me||(e.ExitNotification=Me={}));var hn;(function(L){L.method="workspace/didChangeConfiguration",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolNotificationType(L.method)})(hn||(e.DidChangeConfigurationNotification=hn={}));var It;(function(L){L.Error=1,L.Warning=2,L.Info=3,L.Log=4,L.Debug=5})(It||(e.MessageType=It={}));var On;(function(L){L.method="window/showMessage",L.messageDirection=n.MessageDirection.serverToClient,L.type=new n.ProtocolNotificationType(L.method)})(On||(e.ShowMessageNotification=On={}));var ln;(function(L){L.method="window/showMessageRequest",L.messageDirection=n.MessageDirection.serverToClient,L.type=new n.ProtocolRequestType(L.method)})(ln||(e.ShowMessageRequest=ln={}));var Ue;(function(L){L.method="window/logMessage",L.messageDirection=n.MessageDirection.serverToClient,L.type=new n.ProtocolNotificationType(L.method)})(Ue||(e.LogMessageNotification=Ue={}));var nn;(function(L){L.method="telemetry/event",L.messageDirection=n.MessageDirection.serverToClient,L.type=new n.ProtocolNotificationType(L.method)})(nn||(e.TelemetryEventNotification=nn={}));var gt;(function(L){L.None=0,L.Full=1,L.Incremental=2})(gt||(e.TextDocumentSyncKind=gt={}));var gn;(function(L){L.method="textDocument/didOpen",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolNotificationType(L.method)})(gn||(e.DidOpenTextDocumentNotification=gn={}));var Yn;(function(L){function Je(ne){let ye=ne;return ye!=null&&typeof ye.text=="string"&&ye.range!==void 0&&(ye.rangeLength===void 0||typeof ye.rangeLength=="number")}L.isIncremental=Je;function q(ne){let ye=ne;return ye!=null&&typeof ye.text=="string"&&ye.range===void 0&&ye.rangeLength===void 0}L.isFull=q})(Yn||(e.TextDocumentContentChangeEvent=Yn={}));var kt;(function(L){L.method="textDocument/didChange",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolNotificationType(L.method)})(kt||(e.DidChangeTextDocumentNotification=kt={}));var ci;(function(L){L.method="textDocument/didClose",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolNotificationType(L.method)})(ci||(e.DidCloseTextDocumentNotification=ci={}));var yn;(function(L){L.method="textDocument/didSave",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolNotificationType(L.method)})(yn||(e.DidSaveTextDocumentNotification=yn={}));var vn;(function(L){L.Manual=1,L.AfterDelay=2,L.FocusOut=3})(vn||(e.TextDocumentSaveReason=vn={}));var An;(function(L){L.method="textDocument/willSave",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolNotificationType(L.method)})(An||(e.WillSaveTextDocumentNotification=An={}));var Mr;(function(L){L.method="textDocument/willSaveWaitUntil",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Mr||(e.WillSaveTextDocumentWaitUntilRequest=Mr={}));var In;(function(L){L.method="workspace/didChangeWatchedFiles",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolNotificationType(L.method)})(In||(e.DidChangeWatchedFilesNotification=In={}));var rn;(function(L){L.Created=1,L.Changed=2,L.Deleted=3})(rn||(e.FileChangeType=rn={}));var Hi;(function(L){function Je(q){let ne=q;return o.objectLiteral(ne)&&(i.URI.is(ne.baseUri)||i.WorkspaceFolder.is(ne.baseUri))&&o.string(ne.pattern)}L.is=Je})(Hi||(e.RelativePattern=Hi={}));var Ur;(function(L){L.Create=1,L.Change=2,L.Delete=4})(Ur||(e.WatchKind=Ur={}));var Nr;(function(L){L.method="textDocument/publishDiagnostics",L.messageDirection=n.MessageDirection.serverToClient,L.type=new n.ProtocolNotificationType(L.method)})(Nr||(e.PublishDiagnosticsNotification=Nr={}));var ui;(function(L){L.Invoked=1,L.TriggerCharacter=2,L.TriggerForIncompleteCompletions=3})(ui||(e.CompletionTriggerKind=ui={}));var Vt;(function(L){L.method="textDocument/completion",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Vt||(e.CompletionRequest=Vt={}));var Qt;(function(L){L.method="completionItem/resolve",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Qt||(e.CompletionResolveRequest=Qt={}));var yt;(function(L){L.method="textDocument/hover",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(yt||(e.HoverRequest=yt={}));var Ft;(function(L){L.Invoked=1,L.TriggerCharacter=2,L.ContentChange=3})(Ft||(e.SignatureHelpTriggerKind=Ft={}));var Ct;(function(L){L.method="textDocument/signatureHelp",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Ct||(e.SignatureHelpRequest=Ct={}));var di;(function(L){L.method="textDocument/definition",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(di||(e.DefinitionRequest=di={}));var $i;(function(L){L.method="textDocument/references",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})($i||(e.ReferencesRequest=$i={}));var Ar;(function(L){L.method="textDocument/documentHighlight",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Ar||(e.DocumentHighlightRequest=Ar={}));var fr;(function(L){L.method="textDocument/documentSymbol",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(fr||(e.DocumentSymbolRequest=fr={}));var Ge;(function(L){L.method="textDocument/codeAction",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Ge||(e.CodeActionRequest=Ge={}));var Ht;(function(L){L.method="codeAction/resolve",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Ht||(e.CodeActionResolveRequest=Ht={}));var lt;(function(L){L.method="workspace/symbol",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(lt||(e.WorkspaceSymbolRequest=lt={}));var vt;(function(L){L.method="workspaceSymbol/resolve",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(vt||(e.WorkspaceSymbolResolveRequest=vt={}));var Dn;(function(L){L.method="textDocument/codeLens",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Dn||(e.CodeLensRequest=Dn={}));var Kr;(function(L){L.method="codeLens/resolve",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Kr||(e.CodeLensResolveRequest=Kr={}));var St;(function(L){L.method="workspace/codeLens/refresh",L.messageDirection=n.MessageDirection.serverToClient,L.type=new n.ProtocolRequestType0(L.method)})(St||(e.CodeLensRefreshRequest=St={}));var Zn;(function(L){L.method="textDocument/documentLink",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Zn||(e.DocumentLinkRequest=Zn={}));var Qr;(function(L){L.method="documentLink/resolve",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Qr||(e.DocumentLinkResolveRequest=Qr={}));var fi;(function(L){L.method="textDocument/formatting",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(fi||(e.DocumentFormattingRequest=fi={}));var jn;(function(L){L.method="textDocument/rangeFormatting",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(jn||(e.DocumentRangeFormattingRequest=jn={}));var Vn;(function(L){L.method="textDocument/rangesFormatting",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Vn||(e.DocumentRangesFormattingRequest=Vn={}));var Gr;(function(L){L.method="textDocument/onTypeFormatting",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Gr||(e.DocumentOnTypeFormattingRequest=Gr={}));var pi;(function(L){L.Identifier=1})(pi||(e.PrepareSupportDefaultBehavior=pi={}));var er;(function(L){L.method="textDocument/rename",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(er||(e.RenameRequest=er={}));var Pn;(function(L){L.method="textDocument/prepareRename",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(Pn||(e.PrepareRenameRequest=Pn={}));var bt;(function(L){L.method="workspace/executeCommand",L.messageDirection=n.MessageDirection.clientToServer,L.type=new n.ProtocolRequestType(L.method)})(bt||(e.ExecuteCommandRequest=bt={}));var jt;(function(L){L.method="workspace/applyEdit",L.messageDirection=n.MessageDirection.serverToClient,L.type=new n.ProtocolRequestType("workspace/applyEdit")})(jt||(e.ApplyWorkspaceEditRequest=jt={}))})),Og=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Sa();function i(o,s,c,d){return n.ConnectionStrategy.is(d)&&(d={connectionStrategy:d}),(0,n.createMessageConnection)(o,s,c,d)}e.createProtocolConnection=i})),Dg=ke((e=>{var n=e&&e.__createBinding||(Object.create?(function(c,d,f,m){m===void 0&&(m=f);var g=Object.getOwnPropertyDescriptor(d,f);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,m,g)}):(function(c,d,f,m){m===void 0&&(m=f),c[m]=d[f]})),i=e&&e.__exportStar||function(c,d){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&n(d,c,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,i(Sa(),e),i((lm(),fu(sm)),e),i(qt(),e),i(Rg(),e);var o=Og();Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}});var s;(function(c){c.lspReservedErrorRangeStart=-32899,c.RequestFailed=-32803,c.ServerCancelled=-32802,c.ContentModified=-32801,c.RequestCancelled=-32800,c.lspReservedErrorRangeEnd=-32800})(s||(e.LSPErrorCodes=s={}))})),Uu=ke((e=>{var n=e&&e.__createBinding||(Object.create?(function(c,d,f,m){m===void 0&&(m=f);var g=Object.getOwnPropertyDescriptor(d,f);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,m,g)}):(function(c,d,f,m){m===void 0&&(m=f),c[m]=d[f]})),i=e&&e.__exportStar||function(c,d){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&n(d,c,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;var o=Id();i(Id(),e),i(Dg(),e);function s(c,d,f,m){return(0,o.createMessageConnection)(c,d,f,m)}e.createProtocolConnection=s}));function mn(e,n){if(n.line>=e.lines)return n.character===0?e.length:void 0;let i=e.line(n.line+1).from+n.character;if(!(i>e.length))return i}function Dr(e,n){return mn(e,n)||0}function zi(e,n){let i=e.lineAt(n);return{character:n-i.from,line:i.number-1}}var Ql=new P2.Renderer,tC=Ql.code;Ql.code=e=>e.text.trim()?tC.call(Ql,e):"";function Pg(e){return P2(e,{async:!1,gfm:!0,breaks:!0,renderer:Ql})}function Pr(e,n=Pg){if(!e)return"";if(aC(e)){let i=e.value;return e.kind==="markdown"&&(i=n(i.trim())),i}return Array.isArray(e)?e.map(i=>Pr(i,n)).filter(Boolean).join(`

`):typeof e=="string"?e:""}function nC(e){if(e.length===0)return"";if(e.length===1)return e[0]||"";e.sort();let n=e[0]||"",i=e[e.length-1]||"",o=0;for(;o<n.length&&n[o]===i[o];)o++;return n.substring(0,o)}function rC(e){if(e.length===0)return;let n=nC(e.map(s=>{var c;return((c=s.textEdit)==null?void 0:c.newText)||s.label}));if(n==="")return;let i=[];for(let s=0;s<n.length;s++){let c=n.slice(0,s+1);if(c.length>0){let d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");i.push(d)}}let o=i.join("|");return RegExp(`(${o})$`)}function iC(e){return(e==null?void 0:e.range)!==void 0}function aC(e){return e.kind!==void 0}function Jn(e,n){let i=document.createElement("div");i.className="cm-error-message",i.style.cssText=`
  position: absolute;
  padding: 8px;
  background: #fee;
  border: 1px solid #fcc;
  border-radius: 4px;
  color: #c00;
  font-size: 14px;
  z-index: 100;
  max-width: 300px;
  box-shadow: 0 2px 8px rgba(0,0,0,.15);
`,i.textContent=n;let o=e.coordsAtPos(e.state.selection.main.head);o&&(i.style.left=`${o.left}px`,i.style.top=`${o.bottom+5}px`),document.body.appendChild(i),setTimeout(()=>{i.style.opacity="0",i.style.transition="opacity 0.2s",setTimeout(()=>i.remove(),200)},3e3)}function Gl(e){if(e==null)return!0;if(Array.isArray(e))return e.length===0||e.every(Gl);if(typeof e=="string")return Lg(e);let n=e.value;return typeof n=="string"?Lg(n):!1}function Lg(e){return e==null?!0:typeof e=="string"?e.trim()===""||/^[\s\n`]*$/.test(e):!1}function oC(e,n){let i=[];return n.iterChanges((o,s,c,d,f)=>{let m=f.toString();if(o===0&&s===e.length){i.push({text:m});return}let g=zi(e,o),w=zi(e,s);i.push({range:{start:g,end:w},text:m})}),i.sort((o,s)=>{if(!o.range)return 1;if(!s.range)return-1;let c=o.range.start.line??-1,d=s.range.start.line??-1;if(c!==d)return d-c;let f=o.range.start.character??-1;return(s.range.start.character??-1)-f}),i}var sC=Kt(Uu(),1),lC=Object.fromEntries(Object.entries(sC.CompletionItemKind).map(([e,n])=>[n,e])),Mg;(function(e){e.PlainText=1,e.Snippet=2})(Mg||(Mg={}));function cC(e){return e.replaceAll(/\\\\/g,"").replaceAll(/(\$(\d+))/g,(n,i,o)=>"${"+o+"}")}function uC(e,n){let{detail:i,labelDetails:o,label:s,kind:c,textEdit:d,insertText:f,documentation:m,additionalTextEdits:g,insertTextFormat:w}=e,_={label:s,detail:(o==null?void 0:o.detail)||i,apply(C,E,T,A){if(d&&iC(d)?C.dispatch(E2(C.state,d.newText,Dr(C.state.doc,d.range.start),Dr(C.state.doc,d.range.end))):f&&w===Mg.Snippet&&n.useSnippetOnCompletion?I4(cC(f))(C,null,T,A):C.dispatch(E2(C.state,s,T,A)),!g)return;let V=g.sort(({range:{end:H}},{range:{end:W}})=>Dr(C.state.doc,H)<Dr(C.state.doc,W)?1:Dr(C.state.doc,H)>Dr(C.state.doc,W)?-1:0);for(let H of V)C.dispatch(C.state.update({changes:{from:Dr(C.state.doc,H.range.start),to:mn(C.state.doc,H.range.end),insert:H.newText}}))},type:c&&lC[c].toLowerCase()};return n.hasResolveProvider&&n.resolveItem?_.info=async()=>{var C;try{let E=await((C=n.resolveItem)==null?void 0:C.call(n,e)),T=document.createElement("div");T.classList.add("documentation");let A=(E==null?void 0:E.documentation)||m;return!A||Gl(A)?null:(n.allowHTMLContent?T.innerHTML=Pr(A,n.markdownRenderer):T.textContent=Pr(A,n.markdownRenderer),T)}catch(E){if(console.error("Failed to resolve completion item:",E),Gl(m))return null;if(m){let T=document.createElement("div");return T.classList.add("documentation"),n.allowHTMLContent?T.innerHTML=Pr(m,n.markdownRenderer):T.textContent=Pr(m,n.markdownRenderer),T}return null}}:m&&(_.info=()=>{let C=document.createElement("div");return C.classList.add("documentation"),n.allowHTMLContent?C.innerHTML=Pr(m,n.markdownRenderer):C.textContent=Pr(m,n.markdownRenderer),C}),_}function dC(e,n,i){let o=[n?fC(n):pC,i==="python"?mC:void 0].filter(Boolean),s=e;if(n){let c=n.toLowerCase();/^\w+$/.test(c)&&(s=s.filter(({label:d,filterText:f})=>(f??d).toLowerCase().startsWith(c)))}for(let c of o)s.sort(c);return s}function fC(e){return(n,i)=>{let o=n.sortText??n.label,s=i.sortText??i.label;switch(!0){case(o.startsWith(e)&&!s.startsWith(e)):return-1;case(!o.startsWith(e)&&s.startsWith(e)):return 1}return o.localeCompare(s)}}function pC(e,n){let i=e.sortText??e.label,o=n.sortText??n.label;return i.localeCompare(o)}function mC(e,n){let i=e.label.endsWith("="),o=n.label.endsWith("=");return i&&!o?-1:!i&&o?1:0}function Ng(e){let n=new Proxy({},{get(){throw Error(e)}});return function(i){return i.at(-1)??n}}const Ag=Tl.define({combine:Ng("No document URI provided. Either pass a one into the extension or use documentUri.of().")}),hC=Tl.define({combine:Ng("No language ID provided. Either pass a one into the extension or use languageId.of().")});let jd,Ig;jd=Kt(zl(),1),Ig=1e4,jl=class{constructor({rootUri:e,workspaceFolders:n,transport:i,initializationOptions:o,capabilities:s,timeout:c=Ig,getWorkspaceConfiguration:d}){Ce(this,"ready");Ce(this,"capabilities");Ce(this,"initializePromise");Ce(this,"rootUri");Ce(this,"workspaceFolders");Ce(this,"timeout");Ce(this,"transport");Ce(this,"requestManager");Ce(this,"client");Ce(this,"initializationOptions");Ce(this,"clientCapabilities");Ce(this,"notificationListeners",new Set);this.rootUri=e,this.workspaceFolders=n,this.transport=i,this.initializationOptions=o,this.clientCapabilities=s,this.timeout=c,this.ready=!1,this.capabilities=null,this.requestManager=new jd.RequestManager([this.transport]),this.client=new jd.Client(this.requestManager),this.client.onNotification(m=>{this.processNotification(m)});let f=this.transport;f!=null&&f.connection&&f.connection.addEventListener("message",m=>{let g=JSON.parse(m.data);g.method==="workspace/configuration"&&d?f.connection.send(JSON.stringify({jsonrpc:"2.0",id:g.id,result:d(g.params)})):g.method&&g.id&&f.connection.send(JSON.stringify({jsonrpc:"2.0",id:g.id,result:null}))}),this.initializePromise=this.initialize()}getInitializationOptions(){let e={textDocument:{hover:{dynamicRegistration:!0,contentFormat:["markdown","plaintext"]},moniker:{},synchronization:{dynamicRegistration:!0,willSave:!1,didSave:!1,willSaveWaitUntil:!1},codeAction:{dynamicRegistration:!0,codeActionLiteralSupport:{codeActionKind:{valueSet:["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},resolveSupport:{properties:["edit"]}},completion:{dynamicRegistration:!0,completionItem:{snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:["markdown","plaintext"],deprecatedSupport:!1,preselectSupport:!1},contextSupport:!1},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["markdown","plaintext"]}},declaration:{dynamicRegistration:!0,linkSupport:!0},definition:{dynamicRegistration:!0,linkSupport:!0},typeDefinition:{dynamicRegistration:!0,linkSupport:!0},implementation:{dynamicRegistration:!0,linkSupport:!0},rename:{dynamicRegistration:!0,prepareSupport:!0}},workspace:{didChangeConfiguration:{dynamicRegistration:!0}}};return{capabilities:this.clientCapabilities?typeof this.clientCapabilities=="function"?this.clientCapabilities(e):this.clientCapabilities:e,initializationOptions:this.initializationOptions,processId:null,rootUri:this.rootUri,workspaceFolders:this.workspaceFolders}}async initialize(){let{capabilities:e}=await this.request("initialize",this.getInitializationOptions(),this.timeout*3);this.capabilities=e,this.notify("initialized",{}),this.ready=!0}close(){this.client.close()}textDocumentDidOpen(e){return this.notify("textDocument/didOpen",e)}textDocumentDidChange(e){return this.notify("textDocument/didChange",e)}async textDocumentHover(e){return await this.request("textDocument/hover",e,this.timeout)}async textDocumentCompletion(e){return await this.request("textDocument/completion",e,this.timeout)}async completionItemResolve(e){return await this.request("completionItem/resolve",e,this.timeout)}async textDocumentDefinition(e){return await this.request("textDocument/definition",e,this.timeout)}async textDocumentCodeAction(e){return await this.request("textDocument/codeAction",e,this.timeout)}async textDocumentRename(e){return await this.request("textDocument/rename",e,this.timeout)}async textDocumentPrepareRename(e){return await this.request("textDocument/prepareRename",e,this.timeout)}async textDocumentSignatureHelp(e){return await this.request("textDocument/signatureHelp",e,this.timeout)}onNotification(e){return this.notificationListeners.add(e),()=>this.notificationListeners.delete(e)}request(e,n,i){return this.client.request({method:e,params:n},i)}notify(e,n){return this.client.notify({method:e,params:n})}processNotification(e){this.notificationListeners.forEach(n=>n(e))}},zl();var Fi=Kt(Uu(),1),jg=console.log;function gC(){return String(Date.now()+Math.random())}var yC=class{constructor(e){Ce(this,"documentVersion");Ce(this,"pluginId");Ce(this,"client");Ce(this,"documentUri");Ce(this,"languageId");Ce(this,"view");Ce(this,"allowHTMLContent");Ce(this,"useSnippetOnCompletion");Ce(this,"sendIncrementalChanges");Ce(this,"featureOptions");Ce(this,"onGoToDefinition");Ce(this,"markdownRenderer");Ce(this,"disposeListener");Ce(this,"lastSeenDiagnosticsVersion",0);let{client:n,documentUri:i,languageId:o,view:s,featureOptions:c,sendIncrementalChanges:d=!0,allowHTMLContent:f=!1,useSnippetOnCompletion:m=!1,onGoToDefinition:g,markdownRenderer:w=Pg}=e;this.documentVersion=0,this.pluginId=gC(),this.client=n,this.documentUri=i,this.languageId=o,this.view=s,this.allowHTMLContent=f,this.useSnippetOnCompletion=m,this.sendIncrementalChanges=d,this.featureOptions=c,this.onGoToDefinition=g,this.markdownRenderer=w,this.disposeListener=n.onNotification(this.processNotification.bind(this)),this.initialize({documentText:this.view.state.doc.toString()})}update({state:e,docChanged:n,startState:{doc:i},changes:o}){n&&(this.sendIncrementalChanges?this.sendChanges(oC(i,o)):this.sendChanges([{text:e.doc.toString()}]))}destroy(){var e;(e=this.disposeListener)==null||e.call(this)}async initialize({documentText:e}){this.client.initializePromise&&await this.client.initializePromise,await this.client.textDocumentDidOpen({textDocument:{uri:this.documentUri,languageId:this.languageId,text:e,version:this.documentVersion}})}async sendChanges(e){if(this.client.ready)try{await this.client.textDocumentDidChange({textDocument:{uri:this.documentUri,version:++this.documentVersion},contentChanges:e})}catch(n){console.error(n)}}requestDiagnostics(e){this.sendChanges([{text:e.state.doc.toString()}])}async requestHoverTooltip(e,{line:n,character:i}){var g;if(!this.featureOptions.hoverEnabled||!(this.client.ready&&((g=this.client.capabilities)!=null&&g.hoverProvider)))return null;let o=await this.client.textDocumentHover({textDocument:{uri:this.documentUri},position:{line:n,character:i}});if(!o)return null;let{contents:s,range:c}=o,d=mn(e.state.doc,{line:n,character:i}),f;if(c&&(d=mn(e.state.doc,c.start),f=mn(e.state.doc,c.end)),d==null||Gl(s))return null;let m=document.createElement("div");return m.classList.add("documentation","cm-lsp-hover-tooltip"),this.allowHTMLContent?m.innerHTML=Pr(s,this.markdownRenderer):m.textContent=Pr(s,this.markdownRenderer),{pos:d,end:f,create:w=>({dom:m}),above:!0}}async requestCompletion(e,{line:n,character:i},{triggerKind:o,triggerCharacter:s}){var C;if(!this.featureOptions.completionEnabled||!(this.client.ready&&((C=this.client.capabilities)!=null&&C.completionProvider)))return null;let c=await this.client.textDocumentCompletion({textDocument:{uri:this.documentUri},position:{line:n,character:i},context:{triggerKind:o,triggerCharacter:s}});if(!c)return null;let d="items"in c?c.items:c,f=rC(d),m=f?e.matchBefore(f):e.matchBefore(/[a-zA-Z0-9]+/),{pos:g}=e,w=dC(d,m==null?void 0:m.text,this.languageId);m&&(g=m.from);let _=w.map(E=>{var T,A;return uC(E,{allowHTMLContent:this.allowHTMLContent,useSnippetOnCompletion:this.useSnippetOnCompletion,hasResolveProvider:((A=(T=this.client.capabilities)==null?void 0:T.completionProvider)==null?void 0:A.resolveProvider)??!1,resolveItem:this.client.completionItemResolve.bind(this.client)})});return{from:g,options:_,filter:!1}}async requestDefinition(e,{line:n,character:i}){var w;if(!this.featureOptions.definitionEnabled||!(this.client.ready&&((w=this.client.capabilities)!=null&&w.definitionProvider)))return;let o=await this.client.textDocumentDefinition({textDocument:{uri:this.documentUri},position:{line:n,character:i}});if(!o)return;let s=Array.isArray(o)?o:[o];if(s.length===0)return;let c=s[0];if(!c)return;let d="uri"in c?c.uri:c.targetUri,f="range"in c?c.range:c.targetRange,m=d!==this.documentUri,g={uri:d,range:f,isExternalDocument:m};return m||e.dispatch(e.state.update({selection:{anchor:Dr(e.state.doc,f.start),head:mn(e.state.doc,f.end)}})),this.onGoToDefinition&&this.onGoToDefinition(g),g}processNotification(e){try{switch(e.method){case"textDocument/publishDiagnostics":this.processDiagnostics(e.params)}}catch(n){jg(n)}}async processDiagnostics(e){if(e.uri!==this.documentUri)return;if(e.version!=null&&e.version>this.lastSeenDiagnosticsVersion&&(this.lastSeenDiagnosticsVersion=e.version,this.clearDiagnostics()),!this.featureOptions.diagnosticsEnabled){this.clearDiagnostics();return}let n={[Fi.DiagnosticSeverity.Error]:"error",[Fi.DiagnosticSeverity.Warning]:"warning",[Fi.DiagnosticSeverity.Information]:"info",[Fi.DiagnosticSeverity.Hint]:"info"},i=e.diagnostics.map(async({range:s,message:c,severity:d,code:f,source:m})=>{var w;let g=(w=await this.requestCodeActions(s,[f]))==null?void 0:w.map(_=>{var C;return{name:"command"in _&&typeof _.command=="object"&&((C=_.command)==null?void 0:C.title)||_.title,apply:async()=>{var E;if("edit"in _&&((E=_.edit)!=null&&E.changes)){let T=_.edit.changes[this.documentUri];if(!T)return;for(let A of T)this.view.dispatch(this.view.state.update({changes:{from:Dr(this.view.state.doc,A.range.start),to:mn(this.view.state.doc,A.range.end),insert:A.newText}}))}"command"in _&&_.command&&jg("Executing command:",_.command)}}});return{from:Dr(this.view.state.doc,s.start),to:Dr(this.view.state.doc,s.end),severity:n[d??Fi.DiagnosticSeverity.Error],message:c,renderMessage:()=>{let _=document.createElement("div");return _.innerHTML=this.markdownRenderer(c),_},source:m||this.languageId,markClass:this.pluginId,actions:g}}),o=await Promise.all(i);this.addDiagnostics(o)}addDiagnostics(e){if(e.length===0)return;let n=this.view.state,i=[];O4(n,c=>(i.push(c),!0));let o=new Set(e.map(c=>c.source).filter(Boolean)),s=e.filter(c=>!o.has(c.source));this.view.dispatch(k2(n,[...s,...e]))}clearDiagnostics(){this.view.dispatch(k2(this.view.state,[]))}async requestCodeActions(e,n){var i;return!this.featureOptions.codeActionsEnabled||!(this.client.ready&&((i=this.client.capabilities)!=null&&i.codeActionProvider))?null:await this.client.textDocumentCodeAction({textDocument:{uri:this.documentUri},range:e,context:{diagnostics:[{range:e,code:n[0],source:this.languageId,message:""}]}})}async requestRename(e,{line:n,character:i}){var o;if(this.featureOptions.renameEnabled){if(!this.client.ready){Jn(e,"Language server not ready");return}if(!((o=this.client.capabilities)!=null&&o.renameProvider)){Jn(e,"Rename not supported by language server");return}try{let s=await this.client.textDocumentPrepareRename({textDocument:{uri:this.documentUri},position:{line:n,character:i}}).catch(()=>this.prepareRenameFallback(e,{line:n,character:i}));if(!s||"defaultBehavior"in s){Jn(e,"Cannot rename this symbol");return}let c=document.createElement("div");c.className="cm-rename-popup",c.style.cssText="position: absolute; padding: 4px; background: white; border: 1px solid #ddd; box-shadow: 0 2px 8px rgba(0,0,0,.15); z-index: 99;";let d=document.createElement("input");d.type="text",d.style.cssText="width: 200px; padding: 4px; border: 1px solid #ddd;";let f="range"in s?s.range:s,m=mn(e.state.doc,f.start);if(m==null)return;let g=mn(e.state.doc,f.end);d.value=e.state.doc.sliceString(m,g),c.appendChild(d);let w=e.coordsAtPos(m);if(!w)return;c.style.left=`${w.left}px`,c.style.top=`${w.bottom+5}px`;let _=async()=>{let E=d.value.trim();if(!E){Jn(e,"New name cannot be empty"),c.remove();return}if(E===d.defaultValue){c.remove();return}try{let T=await this.client.textDocumentRename({textDocument:{uri:this.documentUri},position:{line:n,character:i},newName:E});await this.applyRenameEdit(e,T)}catch(T){Jn(e,`Rename failed: ${T instanceof Error?T.message:"Unknown error"}`)}finally{c.remove()}};d.addEventListener("keydown",E=>{E.key==="Enter"?_():E.key==="Escape"&&c.remove(),E.stopPropagation()});let C=E=>{c.contains(E.target)||(c.remove(),document.removeEventListener("mousedown",C))};document.addEventListener("mousedown",C),document.body.appendChild(c),d.focus(),d.select()}catch(s){Jn(e,`Rename failed: ${s instanceof Error?s.message:"Unknown error"}`)}}}async requestSignatureHelp(e,{line:n,character:i},o=void 0){var s,c;if(!(this.featureOptions.signatureHelpEnabled&&this.client.ready&&((s=this.client.capabilities)!=null&&s.signatureHelpProvider)))return null;try{let d=await this.client.textDocumentSignatureHelp({textDocument:{uri:this.documentUri},position:{line:n,character:i},context:{isRetrigger:!1,triggerKind:1,triggerCharacter:o}});if(!(d!=null&&d.signatures)||d.signatures.length===0)return null;let f=this.createTooltipContainer(),m=d.activeSignature??0,g=d.signatures[m]||d.signatures[0];if(!g)return null;let w=d.activeParameter??g.activeParameter??0,_=this.createSignatureElement(g,w);f.appendChild(_),g.documentation&&f.appendChild(this.createDocumentationElement(g.documentation));let C=(c=g.parameters)==null?void 0:c[w];C!=null&&C.documentation&&f.appendChild(this.createParameterDocElement(C.documentation));let E=mn(e.state.doc,{line:n,character:i});return E==null?null:{pos:E,end:E,create:T=>({dom:f}),above:!1}}catch(d){return console.error("Signature help error:",d),null}}async showSignatureHelpTooltip(e,n,i){let o=await this.requestSignatureHelp(e,zi(e.state.doc,n),i);if(o){let{pos:s,create:c}=o,d=c(e),f=document.createElement("div");f.className="cm-tooltip cm-signature-tooltip",f.style.position="absolute",f.appendChild(d.dom);let m=e.coordsAtPos(s);if(m){f.style.left=`${m.left}px`,f.style.top=`${m.bottom+5}px`,document.body.appendChild(f),setTimeout(()=>{f.remove()},1e4);let g=()=>{f.remove(),e.dom.removeEventListener("keydown",g),e.dom.removeEventListener("mousedown",g)};e.dom.addEventListener("keydown",g),e.dom.addEventListener("mousedown",g)}}}createTooltipContainer(){let e=document.createElement("div");return e.classList.add("cm-signature-help"),e.style.cssText="padding: 6px; max-width: 400px;",e}createSignatureElement(e,n){let i=document.createElement("div");if(i.classList.add("cm-signature"),i.style.cssText="font-family: monospace; margin-bottom: 4px;",!e.label||typeof e.label!="string")return i.textContent="Signature information unavailable",i;let o=e.label,s=e.parameters||[];if(s.length===0||!s[n])return i.textContent=o,i;let c=s[n].label;return typeof c=="string"?this.allowHTMLContent?i.innerHTML=o.replace(c,`<strong class="cm-signature-active-param">${c}</strong>`):i.textContent=o.replace(c,`\xAB${c}\xBB`):Array.isArray(c)&&c.length===2?this.applyRangeHighlighting(i,o,c[0],c[1]):i.textContent=o,i}applyRangeHighlighting(e,n,i,o){e.textContent="";let s=n.substring(0,i),c=n.substring(i,o),d=n.substring(o);e.appendChild(document.createTextNode(s));let f=document.createElement("span");f.classList.add("cm-signature-active-param"),f.style.cssText="font-weight: bold; text-decoration: underline;",f.textContent=c,e.appendChild(f),e.appendChild(document.createTextNode(d))}createDocumentationElement(e){let n=document.createElement("div");n.classList.add("cm-signature-docs"),n.style.cssText="margin-top: 4px; color: #666;";let i=Pr(e,this.markdownRenderer);return this.allowHTMLContent?n.innerHTML=i:n.textContent=i,n}createParameterDocElement(e){let n=document.createElement("div");n.classList.add("cm-parameter-docs"),n.style.cssText="margin-top: 4px; font-style: italic; border-top: 1px solid #eee; padding-top: 4px;";let i=Pr(e,this.markdownRenderer);return this.allowHTMLContent?n.innerHTML=i:n.textContent=i,n}prepareRenameFallback(e,{line:n,character:i}){let o=e.state.doc.line(n+1).text,s=/\w+/g,c,d=i,f=i;for(;(c=s.exec(o))!==null;){let m=c.index,g=c.index+c[0].length;if(i>=m&&i<=g){d=m,f=g;break}}return d===i&&f===i?null:{range:{start:{line:n,character:d},end:{line:n,character:f}},placeholder:o.slice(d,f)}}async applyRenameEdit(e,n){if(!n)return Jn(e,"No edit returned from language server"),!1;let i=n.changes??{},o=n.documentChanges??[];if(Object.keys(i).length===0&&o.length===0)return Jn(e,"No changes to apply"),!1;if(o.length>0)for(let s of o){if("textDocument"in s){if(s.textDocument.uri!==this.documentUri){Jn(e,"Multi-file rename not supported yet");continue}let c=s.edits.sort((d,f)=>{let m=mn(e.state.doc,d.range.start);return(mn(e.state.doc,f.range.start)??0)-(m??0)}).map(d=>({from:mn(e.state.doc,d.range.start)??0,to:mn(e.state.doc,d.range.end)??0,insert:d.newText}));return e.dispatch(e.state.update({changes:c})),!0}return Jn(e,"File creation, deletion, or renaming operations not supported yet"),!1}else if(Object.keys(i).length>0)for(let[s,c]of Object.entries(i)){if(s!==this.documentUri){Jn(e,"Multi-file rename not supported yet");continue}let d=c.sort((f,m)=>{let g=mn(e.state.doc,f.range.start);return(mn(e.state.doc,m.range.start)??0)-(g??0)}).map(f=>({from:mn(e.state.doc,f.range.start)??0,to:mn(e.state.doc,f.range.end)??0,insert:f.newText}));e.dispatch(e.state.update({changes:d}))}return!1}};Fm=function(e){var d;let n=null,i={rename:"F2",goToDefinition:"F12",signatureHelp:"Mod-Shift-Space",...e.keyboardShortcuts},o=e.client,s={diagnosticsEnabled:!0,hoverEnabled:!0,completionEnabled:!0,definitionEnabled:!0,renameEnabled:!0,codeActionsEnabled:!0,signatureHelpEnabled:!0,signatureActivateOnTyping:!1,...e},c=[oo.define(f=>(n=new yC({client:o,documentUri:e.documentUri??f.state.facet(Ag),languageId:e.languageId??f.state.facet(hC),view:f,featureOptions:s,sendIncrementalChanges:e.sendIncrementalChanges,allowHTMLContent:e.allowHTMLContent,useSnippetOnCompletion:e.useSnippetOnCompletion,onGoToDefinition:e.onGoToDefinition,markdownRenderer:e.markdownRenderer}),n))];return c.push(ao.of([{key:i.signatureHelp,run:f=>{if(!(n&&s.signatureHelpEnabled))return!1;let m=f.state.selection.main.head;return n.showSignatureHelpTooltip(f,m),!0}},{key:i.rename,run:f=>{if(!(n&&s.renameEnabled))return!1;let m=f.state.selection.main.head;return n.requestRename(f,zi(f.state.doc,m)),!0}},{key:i.goToDefinition,run:f=>{if(!(n&&s.definitionEnabled))return!1;let m=f.state.selection.main.head;return n.requestDefinition(f,zi(f.state.doc,m)).catch(g=>Jn(f,`Go to definition failed: ${g instanceof Error?g.message:"Unknown error"}`)),!0}}])),s.hoverEnabled&&c.push(rm((f,m)=>n==null?null:n.requestHoverTooltip(f,zi(f.state.doc,m)),e.hoverConfig)),s.signatureHelpEnabled&&c.push(en.updateListener.of(async f=>{var E;if(!(n&&f.docChanged)||!((E=n.client.capabilities)!=null&&E.signatureHelpProvider)||!s.signatureActivateOnTyping)return;let m=n.client.capabilities.signatureHelpProvider.triggerCharacters||["(",","],g,w=f.changes,_=!1,C=-1;w.iterChanges((T,A,V,H,W)=>{if(_)return;let N=W.toString();if(N){for(let Q of m)if(N.includes(Q)){_=!0,C=H,g=Q;break}}}),_&&C>=0&&n.showSignatureHelpTooltip(f.view,C,g)})),s.completionEnabled&&c.push(bu({...e.completionConfig,override:[async f=>{var _,C;if(n==null)return null;let{state:m,pos:g}=f,w=vC(f,((C=(_=n.client.capabilities)==null?void 0:_.completionProvider)==null?void 0:C.triggerCharacters)??[],e.completionMatchBefore);return w==null?null:await n.requestCompletion(f,zi(m.doc,g),w)},...((d=e.completionConfig)==null?void 0:d.override)||[]]})),c.push(en.domEventHandlers({click:(f,m)=>{if(s.definitionEnabled&&i.goToDefinition==="ctrlcmd"&&(f.ctrlKey||f.metaKey)){let g=m.posAtCoords({x:f.clientX,y:f.clientY});g&&n&&(n.requestDefinition(m,zi(m.state.doc,g)).catch(w=>Jn(m,`Go to definition failed: ${w instanceof Error?w.message:"Unknown error"}`)),f.preventDefault())}}})),c};function vC(e,n,i){let{state:o,pos:s,explicit:c}=e,d=o.doc.lineAt(s),f=Fi.CompletionTriggerKind.Invoked,m,g=d.text[s-d.from-1]||"",w=n==null?void 0:n.includes(g);return!c&&w&&(f=Fi.CompletionTriggerKind.TriggerCharacter,m=g),f===Fi.CompletionTriggerKind.Invoked&&!e.matchBefore(i||/(\w+|\w+\.|\/|,)$/)?null:{triggerKind:f,triggerCharacter:m}}function qg(){return`file://${Al()??"/__marimo_notebook__.py"}`}function qd(){return`file://${Zu.dirname(Al()??"/")}`}function bC(e){return ni.filter(e,n=>n!==!1&&n!==null)}function zg(e){let n=e.map(bC);return Object.assign({},...n)}var wC=class{constructor(e){Ce(this,"clients",[]);this.clients=e,this.documentUri=qg()}onNotification(e){let n=[];for(let i of this.clients)n.push(i.onNotification(e));return()=>{for(let i of n)i();return!0}}get clientCapabilities(){return zg(this.clients.map(e=>{if(e.clientCapabilities)return typeof e.clientCapabilities=="function"?e.clientCapabilities({}):e.clientCapabilities}).filter(e=>e!=null))}get ready(){return this.clients.some(e=>e.ready)}set ready(e){this.clients.forEach(n=>{n.ready=e})}get capabilities(){return zg(this.clients.map(e=>e.capabilities).filter(e=>e!==null))}set capabilities(e){this.clients.forEach(n=>{n.capabilities=e})}get initializePromise(){return this.clients[0].initializePromise}set initializePromise(e){this.clients.forEach(n=>{n.initializePromise=e})}firstWithCapability(e){return this.clients.find(n=>{var i;return(i=n.capabilities)==null?void 0:i[e]})}clientsWithCapability(e){return this.clients.filter(n=>{var i;return(i=n.capabilities)==null?void 0:i[e]})}async initialize(){await Promise.all(this.clients.map(e=>e.initialize()))}async close(){await Promise.all(this.clients.map(e=>e.close()))}async textDocumentDidChange(e){return await Promise.all(this.clients.map(n=>n.textDocumentDidChange(e))),e}async completionItemResolve(e){let n=this.firstWithCapability("completionProvider");return n?n.completionItemResolve(e):e}async textDocumentCodeAction(e){let n=this.firstWithCapability("codeActionProvider");return n?n.textDocumentCodeAction(e):null}async textDocumentRename(e){let n=this.firstWithCapability("renameProvider");return n?n.textDocumentRename(e):null}async textDocumentPrepareRename(e){let n=this.firstWithCapability("renameProvider");return n?n.textDocumentPrepareRename(e):null}async textDocumentSignatureHelp(e){let n=this.firstWithCapability("signatureHelpProvider");return n?n.textDocumentSignatureHelp(e):null}async textDocumentCompletion(e){let n=this.clientsWithCapability("completionProvider");return _C(await Promise.allSettled(n.map(i=>i.textDocumentCompletion(e))))}async textDocumentDefinition(e){let n=this.firstWithCapability("definitionProvider");return n?n.textDocumentDefinition(e):null}async textDocumentDidOpen(e){return await Promise.all(this.clients.map(n=>n.textDocumentDidOpen(e))),e}async textDocumentHover(e){var n;for(let i of this.clients){if(!((n=i.capabilities)!=null&&n.hoverProvider))continue;let o=await i.textDocumentHover(e);if(o)return o}return{contents:[]}}};function _C(e){let n=[],i=!1;for(let o of e)if(o.status==="fulfilled"){let s=o.value;if(s==null)continue;Array.isArray(s)&&n.push(...s),"items"in s&&(n.push(...s.items),i||(i=s.isIncomplete))}return{items:n,isIncomplete:i}}var zd=class{constructor(e,n={}){Ce(this,"cache",new Map);this.maxSize=e,this.options=n}getOrCreate(e){kn(this.options.create,"create function is required");let n=this.cache.get(e);if(n!==void 0)return n;let i=this.options.create(e);return this.cache.set(e,i),i}get(e){let n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,n),this.cache.size>this.maxSize){let i=this.cache.keys().next().value;i!==void 0&&this.cache.delete(i)}}keys(){return this.cache.keys()}values(){return this.cache.values()}entries(){return this.cache.entries()}delete(e){this.cache.delete(e)}};c_=function(e){return[...xC(e),e].join(`
`)};function xC(e){return zm().map(n=>{let i=oi(n);return i===e?null:i}).filter(Boolean).sort((n,i)=>n.startsWith("import")&&!i.startsWith("import")?-1:!n.startsWith("import")&&i.startsWith("import")?1:0)}var kC=Fe(e=>{let n=e(ft);return ni.fromEntries(n.cellIds.inOrderIds.map(i=>{let o=n.cellHandles[i];return[i,o!=null&&o.current?oi(o.current.editorView):""]}))}),CC=Fe(e=>e(ft).cellIds.inOrderIds),SC=Fe(e=>TC(e(CC),e(ya)));const EC=Fe(e=>({cellIds:e(SC),codes:e(kC)}));function TC(e,n){var m,g;let i=new Map;e.forEach(w=>i.set(w,[]));let o=new Set(e),s=new Set(e);for(let{declaredBy:w,usedBy:_}of Object.values(n))for(let C of w){o.delete(C);for(let E of _)s.delete(E),E!==C&&((m=i.get(C))==null||m.push(E))}let c=new Map;e.forEach(w=>c.set(w,0)),i.forEach(w=>{w.forEach(_=>{c.set(_,(c.get(_)||0)+1)})});let d=[];c.forEach((w,_)=>{w===0&&d.push(_)});let f=[];for(;d.length>0;){let w=d.shift();if(!w)break;f.push(w),(g=i.get(w))==null||g.forEach(_=>{c.set(_,(c.get(_)||0)-1),c.get(_)===0&&d.push(_)})}return[...f.filter(w=>!o.has(w)),...o]}function RC(e,n){let i=new Map,o=0;e.forEach(d=>{i.set(d,o),o+=n[d].split(`
`).length});function s(d){return i.has(d)||Pe.warn("[lsp] no cell line offsets for",d),i.get(d)??0}let c=e.map(d=>n[d]).join(`
`);return{cellIds:e,mergedText:c,transformRange:(d,f)=>Fg(d,s(f)),reverseRange:(d,f)=>Fg(d,-s(f)),isInRange:(d,f)=>{let m=n[f].split(`
`).length,g=i.get(f)||0,w=d.start.line-g,_=d.end.line-g;return w>=0&&_<m},getEditsForNewText:d=>{let f=d.split(`
`),m=c.split(`
`);if(f.length!==m.length)throw Error("Cannot apply rename when there are new lines");let g=[];for(let[w,_]of ni.entries(n)){if(!i.has(w))continue;let C=i.get(w)??0,E=_.split(`
`).length,T=f.slice(C,C+E);g.push({cellId:w,text:T.join(`
`)})}return g},transformPosition:(d,f)=>Jl(d,s(f)),reversePosition:(d,f)=>Jl(d,-s(f))}}function Fg(e,n){return{start:Jl(e.start,n),end:Jl(e.end,n)}}function Jl(e,n){return{line:e.line+n,character:e.character}}const Xn={PREFIX:"file:///",of(e){return`${this.PREFIX}${e}`},is(e){return e.startsWith(this.PREFIX)},parse(e){return kn(this.is(e),`Invalid cell document URI: ${e}`),e.slice(this.PREFIX.length)}};function OC(e){return"notify"in e}var DC=class{constructor(e){Ce(this,"documentVersion",0);Ce(this,"versionToCellNumberAndVersion",new zd(20));Ce(this,"lastSnapshot",null);this.getNotebookCode=e}snapshot(){var i;let e=this.getLens(),n=((i=this.lastSnapshot)==null?void 0:i.mergedText)!==e.mergedText;return n?(this.documentVersion++,this.lastSnapshot=e,{lens:e,didChange:n,version:this.documentVersion}):{lens:e,didChange:n,version:this.documentVersion}}getSnapshot(e){let n=this.versionToCellNumberAndVersion.get(e);if(!n)throw Error(`No snapshot for version ${e}`);return n}getLatestSnapshot(){if(!this.lastSnapshot)throw Error("No snapshots");return{lens:this.lastSnapshot,version:this.documentVersion}}getLens(){let{cellIds:e,codes:n}=this.getNotebookCode();return RC(e,n)}},PC=()=>{let e=Bu().cellHandles;return ni.mapValues(e,n=>{var i;return(i=n.current)==null?void 0:i.editorViewOrNull})},Fd=(Vi=class{constructor(n,i,o=PC){this.documentUri=qg(),this.getNotebookEditors=o,this.client=n,this.patchProcessNotification(),this.initializePromise.then(()=>{kn(OC(this.client),"notify is not a method on the client"),this.client.notify("workspace/didChangeConfiguration",{settings:i})}),this.snapshotter=new DC(this.getNotebookCode.bind(this))}onNotification(n){return this.client.onNotification(n)}get ready(){return this.client.ready}set ready(n){this.client.ready=n}get capabilities(){return this.client.capabilities}set capabilities(n){this.client.capabilities=n}get initializePromise(){return this.client.initializePromise}set initializePromise(n){this.client.initializePromise=n}get clientCapabilities(){return this.client.clientCapabilities}async initialize(){await this.client.initialize()}close(){this.client.close()}getNotebookCode(){return st.get(EC)}assertCellDocumentUri(n){kn(Xn.is(n),"Execpted URI to be CellDocumentUri")}async textDocumentDidOpen(n){Pe.debug("[lsp] textDocumentDidOpen",n);let i=n.textDocument.uri;this.assertCellDocumentUri(i);let{lens:o,version:s}=this.snapshotter.snapshot();Vi.SEEN_CELL_DOCUMENT_URIS.add(i);let c=await this.client.textDocumentDidOpen({textDocument:{languageId:n.textDocument.languageId,text:o.mergedText,uri:this.documentUri,version:s}});return c?{...c,textDocument:{...c.textDocument,text:o.mergedText}}:n}async sync(){let{lens:n,version:i,didChange:o}=this.snapshotter.snapshot();return o?this.client.textDocumentDidChange({textDocument:{uri:this.documentUri,version:i},contentChanges:[{text:n.mergedText}]}):{textDocument:{uri:this.documentUri,version:i},contentChanges:[{text:n.mergedText}]}}async textDocumentDidChange(n){return Pe.debug("[lsp] textDocumentDidChange",n),n.contentChanges.length===1?this.sync():(Pe.warn("[lsp] Unhandled textDocumentDidChange",n),this.client.textDocumentDidChange(n))}async textDocumentDefinition(n){let i=n.textDocument.uri;if(!Xn.is(i))return Pe.warn("Invalid cell document URI",i),null;await this.sync();let{lens:o}=this.snapshotter.getLatestSnapshot(),s=Xn.parse(i);return this.client.textDocumentDefinition({...n,textDocument:{uri:this.documentUri},position:o.transformPosition(n.position,s)})}async textDocumentSignatureHelp(n){let i=n.textDocument.uri;if(!Xn.is(i))return Pe.warn("Invalid cell document URI",i),null;await this.sync();let{lens:o}=this.snapshotter.getLatestSnapshot(),s=Xn.parse(i);return await this.client.textDocumentSignatureHelp({...n,textDocument:{uri:this.documentUri},position:o.transformPosition(n.position,s)})||null}textDocumentCodeAction(n){return Promise.resolve(null)}async textDocumentRename(n){var C;let i=n.textDocument.uri;if(!Xn.is(i))return Pe.warn("Invalid cell document URI",i),null;let o=Xn.parse(i);await this.sync();let{lens:s}=this.snapshotter.getLatestSnapshot(),c=s.transformPosition(n.position,o),d=await this.client.textDocumentRename({...n,textDocument:{uri:this.documentUri},position:c});if(!d)return null;let f=(C=d.documentChanges)==null?void 0:C.flatMap(E=>"edits"in E?E.edits:[]);if(!f||f.length!==1)return Pe.warn("Expected exactly one edit",f),d;let m=f[0];if(!("newText"in m))return Pe.warn("Expected newText in edit",m),d;let g=s.getEditsForNewText(m.newText),w=new Map(g.map(E=>[E.cellId,E.text])),_=this.getNotebookEditors();for(let[E,T]of ni.entries(_)){let A=w.get(E);if(A==null){Pe.warn("No new code for cell",E);continue}if(!T){Pe.warn("No view for plugin",E);continue}T.state.doc.toString()!==A&&T.dispatch({changes:{from:0,to:T.state.doc.length,insert:A}})}return{...d,documentChanges:[{edits:[],textDocument:{uri:i,version:0}}]}}completionItemResolve(n){return this.client.completionItemResolve(n)}async textDocumentPrepareRename(n){let i=n.textDocument.uri;if(!Xn.is(i))return Pe.warn("Invalid cell document URI",i),null;await this.sync();let{lens:o}=this.snapshotter.getLatestSnapshot(),s=Xn.parse(i);return this.client.textDocumentPrepareRename({...n,textDocument:{uri:this.documentUri},position:o.transformPosition(n.position,s)})}async textDocumentHover(n){Pe.debug("[lsp] textDocumentHover",n),await this.sync();let{lens:i}=this.snapshotter.getLatestSnapshot(),o=Xn.parse(n.textDocument.uri),s=await this.client.textDocumentHover({...n,textDocument:{uri:this.documentUri},position:i.transformPosition(n.position,o)});return s?(typeof s.contents=="object"&&"kind"in s.contents&&(s.contents={kind:"markdown",value:s.contents.value}),s.contents===""?null:(s.range&&(s.range=i.reverseRange(s.range,o)),s)):(Pe.debug("[lsp] no hover result"),s)}async textDocumentCompletion(n){let{lens:i}=this.snapshotter.getLatestSnapshot(),o=Xn.parse(n.textDocument.uri);return this.client.textDocumentCompletion({...n,textDocument:{uri:this.documentUri},position:i.transformPosition(n.position,o)})}patchProcessNotification(){kn("processNotification"in this.client,"processNotification is not a method on the client");let n=this.client.processNotification.bind(this.client),i=o=>{if(o.method==="textDocument/publishDiagnostics"){Pe.debug("[lsp] handling diagnostics",o);let s=this.snapshotter.getLatestSnapshot(),c=o.params.diagnostics,{lens:d,version:f}=s,m=new Map;for(let w of c)for(let _ of d.cellIds)if(d.isInRange(w.range,_)){m.has(_)||m.set(_,[]);let C={...w,range:d.reverseRange(w.range,_)};m.get(_).push(C);break}let g=new Set(Vi.SEEN_CELL_DOCUMENT_URIS);for(let[w,_]of m.entries()){Pe.debug("[lsp] diagnostics for cell",w,_);let C=Xn.of(w);g.delete(C),n({...o,params:{...o.params,uri:C,version:f,diagnostics:_}})}if(g.size>0){Pe.debug("[lsp] clearing diagnostics",g);for(let w of g)n({method:"textDocument/publishDiagnostics",params:{uri:w,diagnostics:[]}})}return}return n(o)};this.client.processNotification=i}},Ce(Vi,"SEEN_CELL_DOCUMENT_URIS",new Set),Vi),LC=Kt(zl(),1),MC=Kt(ba(),1),NC=class extends MC.Transport{constructor(n){super();Ce(this,"isClosed",!1);this.options=n,this.delegate=void 0}createDelegate(){if(this.delegate)try{this.delegate.close()}catch(n){Pe.warn("Error closing old WebSocket delegate",n)}return this.delegate=new LC.WebSocketTransport(this.options.getWsUrl()),this.delegate}isDelegateClosedOrClosing(){if(!this.delegate)return!0;let n=this.delegate.connection;return n?n.readyState===WebSocket.CLOSING||n.readyState===WebSocket.CLOSED:!0}async connect(){if(this.isClosed)throw Error("Transport is closed");return this.connectionPromise||(this.connectionPromise=(async()=>{try{this.options.waitForConnection&&await this.options.waitForConnection();let n=this.delegate;(!n||this.isDelegateClosedOrClosing())&&(n=this.createDelegate()),await n.connect(),Pe.log("WebSocket transport connected successfully")}catch(n){throw Pe.error("WebSocket transport connection failed",n),this.delegate=void 0,n}finally{this.connectionPromise=void 0}})()),this.connectionPromise}close(){var n;this.isClosed=!0,(n=this.delegate)==null||n.close(),this.delegate=void 0,this.connectionPromise=void 0}async sendData(n,i){var o;if(this.isDelegateClosedOrClosing()){Pe.warn("WebSocket is closed or closing, attempting to reconnect");try{await this.connect()}catch(s){throw Pe.error("Failed to reconnect WebSocket",s),s}}return(o=this.delegate)==null?void 0:o.sendData(n,i)}};function Bd(e){let n=r4();return new NC({getWsUrl:()=>n.getLSPURL(e).toString(),waitForConnection:async()=>{await H4()}})}qm=function(e){return e===ii.CONNECTING},Ju=function(e){return e===ii.OPEN},Jw=function(e){return e===ii.CLOSED||e===ii.CLOSING||e===ii.CONNECTING},Zw=function(e){switch(e){case ii.CLOSED:return"App disconnected";case ii.CONNECTING:return"Connecting to a runtime ...";case ii.CLOSING:return"App disconnecting...";case ii.OPEN:return"";default:return""}};var Bg=ma.define(),Vg=new hu,Vd="marimo-connecting-indicator";function AC(){let e=document.getElementById(Vd);return e||(e=document.createElement("div"),e.id=Vd,e.textContent="Connecting\u2026",e.style.position="fixed",e.style.zIndex="9999",e.style.background="#222",e.style.color="#fff",e.style.padding="2px 8px",e.style.borderRadius="6px",e.style.fontSize="0.9em",e.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",e.style.pointerEvents="none",e.style.display="none",document.body.append(e)),e}function Hg(e,n){let i=AC();i.style.left=`${e}px`,i.style.top=`${n}px`,i.style.display="block",i.textContent="Connecting\u2026"}function Hd(){let e=document.getElementById(Vd);e&&(e.style.display="none")}var $d=null;Lw=function(e){let n=()=>e.get(Dl).state,i=!Ju(n()),o=oo.define(s=>{let c=!1,d=s.dom;function f(){let C=s.state.selection.main,E=s.coordsAtPos(C.head);E?Hg(E.left+2,E.bottom+2):Hg(window.innerWidth/2,window.innerHeight*.1),$d&&window.clearTimeout($d),$d=window.setTimeout(Hd,1500)}function m(){f()}function g(){c||(c=(d.addEventListener("keydown",m,{capture:!0}),d.addEventListener("paste",m,{capture:!0}),!0))}function w(){c&&(c=(d.removeEventListener("keydown",m,{capture:!0}),d.removeEventListener("paste",m,{capture:!0}),!1))}let _=e.sub(Dl,()=>{e.get(Dl).state===ii.CONNECTING?g():(w(),Hd())});return qm(n())&&g(),{destroy(){w(),_(),Hd()}}});return[Vg.of(yu.readOnly.of(i)),yu.transactionExtender.of(s=>{for(let c of s.effects)if(c.is(Bg)){let d=c.value;if(d!==i)return i=d,{effects:Vg.reconfigure(yu.readOnly.of(d))}}return null}),oo.define(s=>{let c=e.sub(Dl,()=>{let d=!Ju(e.get(Dl).state);s.dispatch({effects:Bg.of(d)})});return{destroy(){c()}}}),o]};function IC(e){return e.facet(yu.readOnly)}function jC(e){return[x2(e),ao.of([{key:"ArrowRight",preventDefault:!0,run:n=>$g(n,e)},{key:"Tab",preventDefault:!0,run:n=>$g(n,e)}])]}function $g(e,n){if(IC(e.state))return!1;let i=e.state.doc.length;return i===0?(e.dispatch({changes:{from:0,to:i,insert:n},selection:{head:n.length,anchor:n.length}}),!0):!1}function qC(e){let{beforeText:n,linkText:i,afterText:o,onClick:s}=e;return[x2(c=>{let d=document.createElement("span");d.append(document.createTextNode(n));let f=document.createElement("span");return f.textContent=i,f.classList.add("cm-clickable-placeholder"),f.onclick=m=>{m.stopPropagation(),s(c)},d.append(f),d.append(document.createTextNode(o)),d}),en.theme({".cm-placeholder":{color:"var(--slate-8)"},".cm-clickable-placeholder":{cursor:"pointer !important",pointerEvents:"auto",color:"var(--slate-9)",textDecoration:"underline",textUnderlineOffset:"0.2em"},".cm-clickable-placeholder:hover":{color:"var(--sky-11)"}})]}var zC=ri(e=>{let n={transport:Bd("pylsp"),rootUri:qd(),workspaceFolders:[]},i=e==null?void 0:e.pylsp,o=["D100","D103"],s=["W292","E402"],c=["B018","I001"],d={pylsp:{plugins:{marimo_plugin:{enabled:!0},jedi:{auto_import_modules:["numpy"]},jedi_completion:{include_params:!0,resolve_at_most:50},flake8:{enabled:i==null?void 0:i.enable_flake8,extendIgnore:s},pydocstyle:{enabled:i==null?void 0:i.enable_pydocstyle,ignore:o},pylint:{enabled:i==null?void 0:i.enable_pylint},pyflakes:{enabled:i==null?void 0:i.enable_pyflakes},pylsp_mypy:{enabled:i==null?void 0:i.enable_mypy,live_mode:!0},ruff:{enabled:i==null?void 0:i.enable_ruff,extendIgnore:[...s,...o,...c]},signature:{formatter:i!=null&&i.enable_ruff?"ruff":"black",line_length:88}}}};return new Fd(new jl({...n}),d)}),FC=ri(e=>new Fd(new jl({transport:Bd("ty"),rootUri:qd(),workspaceFolders:[],getWorkspaceConfiguration:n=>[{disableLanguageServices:!0}]}),{})),BC=ri(e=>new Fd(new jl({transport:Bd("basedpyright"),rootUri:qd(),workspaceFolders:[]}),{})),VC=class{constructor(){Ce(this,"parser",new Sx);Ce(this,"type","python");Ce(this,"defaultCode",this.parser.defaultCode);Ce(this,"defaultMetadata",this.parser.defaultMetadata)}transformIn(e){let n=this.parser.transformIn(e);return[n.code,n.offset,n.metadata]}transformOut(e,n){let i=this.parser.transformOut(e,n);return[i.code,i.offset]}isSupported(e){return this.parser.isSupported(e)}getExtension(e,n,i,o,s){return[(()=>{var m,g,w,_;let c={defaultKeymap:!1,activateOnTyping:n.activate_on_typing,closeOnBlur:!1},d={hideOnChange:!0},f=[];if((m=s==null?void 0:s.pylsp)!=null&&m.enabled&&Vl("pylsp")&&f.push(zC(s)),(g=s==null?void 0:s.ty)!=null&&g.enabled&&Vl("ty")&&f.push(FC(s)),(w=s==null?void 0:s.basedpyright)!=null&&w.enabled&&Vl("basedpyright")&&f.push(BC(s)),f.length>0){let C=f.length===1?f[0]:new wC(f);return[Fm({client:C,languageId:"python",allowHTMLContent:!0,useSnippetOnCompletion:!1,hoverConfig:d,completionConfig:c,diagnosticsEnabled:((_=s.diagnostics)==null?void 0:_.enabled)??!1,sendIncrementalChanges:!1,signatureHelpEnabled:!0,signatureActivateOnTyping:!1,keyboardShortcuts:{signatureHelp:i.getHotkey("cell.signatureHelp").key,goToDefinition:i.getHotkey("cell.goToDefinition").key,rename:i.getHotkey("cell.renameSymbol").key},completionMatchBefore:/(\w+|\w+\.|\(|\/|,)$/,onGoToDefinition:E=>{Pe.debug("onGoToDefinition",E),C.documentUri!==E.uri&&Pi().openFile({path:E.uri.replace("file://","")})}}),Ag.of(Xn.of(e))]}return bu({...c,override:[R0]})})(),Wm(),HC(o)]}};function HC(e){return e==="marimo-import"?vu.highest(jC("import marimo as mo")):e==="ai"?qC({beforeText:"Start coding or ",linkText:"generate",afterText:" with AI.",onClick:n=>{n.state.facet(Ot).aiCellCompletion()}}):[]}var Wd=om.configure({props:[a4.add({ParenthesizedExpression:h2,ArgList:h2})]});Wm=function(){return new _2(Wd,[Wd.data.of({autocomplete:z4}),Wd.data.of({autocomplete:F4})])};const $C=e=>{let n;return async()=>(n||(n=e()),await n)};var Xl=class{constructor(e={}){Ce(this,"opts");Ce(this,"parser",null);Ce(this,"offsetRecord",{});Ce(this,"getParser",$C(async()=>{if(this.parser)return this.parser;let e=await ue(()=>import("./node-sql-parser-DQGqziB9.js").then(async i=>(await i.__tla,i)).then(IT(1)),__vite__mapDeps([213,1]),import.meta.url),{Parser:n}=e.default||e;return this.parser=new n,this.parser}));this.opts=e}async parse(e,n){var s,c;this.offsetRecord={};let i=(c=(s=this.opts).getParserOptions)==null?void 0:c.call(s,n.state),o=await this.sanitizeSql(e,i);try{let d=await this.getParser();return(i==null?void 0:i.database)==="DuckDB"?this.parseWithDuckDBSupport(o,i):{success:!0,errors:[],ast:d.astify(o,i)}}catch(d){return{success:!1,errors:[this.extractErrorInfo(d,o)]}}}async sanitizeSql(e,n){if(n!=null&&n.ignoreBrackets){let{sql:i,offsetRecord:o}=KC(e);return this.offsetRecord=o,i}return e}async parseWithDuckDBSupport(e,n){let i=await this.getParser(),o=WC(e).trimStart().toLowerCase();if(o.startsWith("from")||o.includes("macro"))return{success:!0,errors:[]};let s=e;o.includes("create or replace table")&&(this.offsetRecord[e.indexOf("create or replace table")]=-11,s=e.replace(/create or replace table/i,"create table"));try{let c={...n,database:"PostgreSQL"};return{success:!0,errors:[],ast:i.astify(s,c)}}catch(c){return{success:!1,errors:[this.extractErrorInfo(c,e)]}}}extractErrorInfo(e,n){var d,f,m;let i=1,o=1,s=(e==null?void 0:e.message)||"SQL parsing error",c=e;if(c!=null&&c.location)i=((d=c.location.start)==null?void 0:d.line)||1,o=((f=c.location.start)==null?void 0:f.column)||1;else if(c!=null&&c.hash)i=c.hash.line||1,o=((m=c.hash.loc)==null?void 0:m.first_column)||1;else{let g=s.match(/line (\d+)/i),w=s.match(/column (\d+)/i);g!=null&&g[1]&&(i=parseInt(g[1],10)),w!=null&&w[1]&&(o=parseInt(w[1],10))}for(let[g,w]of Object.entries(this.offsetRecord))o>parseInt(g,10)&&(o-=w);return o>n.length&&(o=n.length),{message:this.cleanErrorMessage(s),line:Math.max(1,i),column:o,severity:"error"}}cleanErrorMessage(e){return e.replace(/^Error: /,"").replace(/Expected .* but .* found\./i,n=>n.replace(/but .* found/,"found unexpected token")).trim()}async validateSql(e,n){return(await this.parse(e,n)).errors}async extractTableReferences(e){try{return(await this.getParser()).tableList(e).map(n=>{let i=n.split("::");return i[i.length-1]||n})}catch{return[]}}async extractColumnReferences(e){try{return(await this.getParser()).columnList(e).map(n=>{let i=n.split("::");return i[i.length-1]||n})}catch{return[]}}};function WC(e,n=["/*","--"]){let i=[];if(n.includes("/*")&&i.push("/\\*[\\s\\S]*?\\*/"),n.includes("--")&&i.push("--[^\\n]*"),i.length===0)return e;let o=RegExp(`^\\s*(${i.join("|")})\\s*`,""),s=e,c="";for(;s!==c;)c=s,s=s.replace(o,"");return s}var UC=2;function KC(e){let n={};return{sql:e.replace(/("(?:[^"\\]|\\.)*")|('(?:[^'\\]|\\.)*')|(\{[^}]*\})/g,(i,o,s,c,d)=>o||s?i:c?(n[d]=UC,`'${c}'`):i),offsetRecord:n}}var QC=750;function GC(e,n){let i=n.line(e.line).from+Math.max(0,e.column-1);return{from:i,to:i+1,severity:e.severity,message:e.message,source:"sql-parser"}}function JC(e={}){let n=e.parser||new Xl;return k4(async i=>{let o=i.state.doc,s=o.toString();return s.trim()?(await n.validateSql(s,{state:i.state})).map(c=>GC(c,o)):[]},{delay:e.delay||QC})}function Ea(e){return typeof e=="object"&&!Array.isArray(e)&&!("self"in e)}function si(e){return typeof e=="object"&&!Array.isArray(e)&&"self"in e&&"children"in e}function Lr(e){return Array.isArray(e)}function Nn(e,n,i,o){let s=e.length;if(n==="string"||n==="completion"&&o&&Lr(o))return"column";if(n==="namespace"&&i){if(Lr(i))return"table";if(Ea(i))return Object.values(i).some(c=>Lr(c)||si(c)&&Lr(c.children))?s<=1?"database":"schema":s===0?"database":"namespace"}if(n==="completion"&&i)return Lr(i)?"table":(Ea(i)&&Object.values(i).some(c=>Lr(c)||si(c)&&Lr(c.children)),s<=1?"database":"schema");switch(s){case 0:return"database";case 1:return"schema";default:return"namespace"}}function Wg(e,n,i={}){let{maxDepth:o=10}=i;if(n===""&&si(e)){let c=Nn([],"completion",e.children);return{completion:e.self,path:[],type:"completion",semanticType:c,namespace:e.children}}let s=n.split(".").filter(c=>c.length>0);return s.length===0||s.length>o?null:Ud(e,s,[],i)}function Ud(e,n,i,o,s){if(n.length===0){if(si(e)){let m=Nn(i,"completion",e.children,s);return{completion:e.self,path:i,type:"completion",semanticType:m,namespace:e.children}}return{path:i,type:"namespace",semanticType:Nn(i,"namespace",e,s),namespace:e}}let[c,...d]=n,{caseSensitive:f=!1}=o;if(!c)return null;if(Ea(e)){let m=f?Object.keys(e).find(g=>g===c):Object.keys(e).find(g=>g.toLowerCase()===c.toLowerCase());if(m){let g=e[m];if(g)return Ud(g,d,[...i,m],o,e)}}else{if(si(e))return Ud(e.children,n,i,o,e);if(Lr(e)){for(let m of e)if(typeof m=="string"){if((f?m===c:m.toLowerCase()===c.toLowerCase())&&d.length===0){let g=Nn([...i,m],"string",void 0,e);return{value:m,path:[...i,m],type:"string",semanticType:g}}}else if((f?m.label===c:m.label.toLowerCase()===c.toLowerCase())&&d.length===0){let g=Nn([...i,m.label],"completion",void 0,e);return{completion:m,path:[...i,m.label],type:"completion",semanticType:g}}}}return null}function XC(e,n,i={}){let o=[];if(n.includes(".")){let s=n.lastIndexOf("."),c=n.substring(0,s),d=n.substring(s+1),f=Wg(e,c,i);if(f!=null&&f.namespace)return Kd(f.namespace,d,f.path,i)}else return Kd(e,n,[],i);return o}function Kd(e,n,i,o){let s=[],{caseSensitive:c=!1,allowPartialMatch:d=!0}=o;if(Ea(e)){for(let[f,m]of Object.entries(e))if(d?c?f.startsWith(n):f.toLowerCase().startsWith(n.toLowerCase()):c?f===n:f.toLowerCase()===n.toLowerCase())if(si(m)){let g=Nn([...i,f],"completion",m.children,e);s.push({completion:m.self,path:[...i,f],type:"completion",semanticType:g,namespace:m.children})}else{let g=Nn([...i,f],"namespace",m,e);s.push({path:[...i,f],type:"namespace",semanticType:g,namespace:m})}}else if(si(e)){if(d?c?e.self.label.startsWith(n):e.self.label.toLowerCase().startsWith(n.toLowerCase()):c?e.self.label===n:e.self.label.toLowerCase()===n.toLowerCase()){let f=Nn([...i,e.self.label],"completion",e.children);s.push({completion:e.self,path:[...i,e.self.label],type:"completion",semanticType:f,namespace:e.children})}s.push(...Kd(e.children,n,i,o))}else if(Lr(e)){for(let f of e)if(typeof f=="string"){if(d?c?f.startsWith(n):f.toLowerCase().startsWith(n.toLowerCase()):c?f===n:f.toLowerCase()===n.toLowerCase()){let m=Nn([...i,f],"string",void 0,e);s.push({value:f,path:[...i,f],type:"string",semanticType:m})}}else if(d?c?f.label.startsWith(n):f.label.toLowerCase().startsWith(n.toLowerCase()):c?f.label===n:f.label.toLowerCase()===n.toLowerCase()){let m=Nn([...i,f.label],"completion",void 0,e);s.push({completion:f,path:[...i,f.label],type:"completion",semanticType:m})}}return s}function YC(e,n,i={}){let o=[],{maxDepth:s=10}=i;Yl(e,[],o,s);let{caseSensitive:c=!1}=i;return o.filter(d=>d.path.some(f=>c?f===n:f.toLowerCase()===n.toLowerCase())).sort((d,f)=>{var w,_;let m=c?d.path[d.path.length-1]===n:((w=d.path[d.path.length-1])==null?void 0:w.toLowerCase())===n.toLowerCase(),g=c?f.path[f.path.length-1]===n:((_=f.path[f.path.length-1])==null?void 0:_.toLowerCase())===n.toLowerCase();return m&&!g?-1:!m&&g?1:d.path.length-f.path.length})}function Yl(e,n,i,o){if(!(n.length>=o)){if(Ea(e))for(let[s,c]of Object.entries(e)){let d=[...n,s];if(si(c)){let f=Nn(d,"completion",c.children,e);i.push({completion:c.self,path:d,type:"completion",semanticType:f,namespace:c.children}),Yl(c.children,d,i,o)}else{let f=Nn(d,"namespace",c,e);i.push({path:d,type:"namespace",semanticType:f,namespace:c}),Yl(c,d,i,o)}}else if(si(e)){let s=Nn(n,"completion",e.children);i.push({completion:e.self,path:n,type:"completion",semanticType:s,namespace:e.children}),Yl(e.children,n,i,o)}else if(Lr(e))for(let s of e)if(typeof s=="string"){let c=Nn([...n,s],"string",void 0,e);i.push({value:s,path:[...n,s],type:"string",semanticType:c})}else{let c=Nn([...n,s.label],"completion",void 0,e);i.push({completion:s,path:[...n,s.label],type:"completion",semanticType:c})}}}function Ug(e,n,i={}){let{enableFuzzySearch:o=!1}=i,s=Wg(e,n,i);if(s)return s;let c=XC(e,n,i);if(c.length>0)return c[0]||null;if(o){let d=YC(e,n,i);if(d.length>0)return d[0]||null}return null}function Kg(e,n){if(n.size===0)return{};if(Ea(e)){let i={};for(let[o,s]of Object.entries(e))if(Array.from(n).some(c=>c.toLowerCase()===o.toLowerCase()))i[o]=s;else if(Ea(s)){let c=Kg(s,n);Object.keys(c).length>0&&(i[o]=c)}return i}return e}function ZC(e={}){let{schema:n={},keywords:i={},hoverTime:o=300,enableKeywords:s=!0,enableTables:c=!0,enableColumns:d=!0,enableFuzzySearch:f=!0,parser:m=new Xl,tooltipRender:g,tooltipRenderers:w={}}=e,_=null;return rm(async(C,E,T)=>{let{from:A,to:V,text:H}=C.state.doc.lineAt(E),W=E,N=E;_===null&&(_=typeof i=="function"?i(C):Promise.resolve(i));let Q=await _;for(;W>A&&/[\w.]/.test(H[W-A-1]??"");)W--;for(;N<V&&/[\w.]/.test(H[N-A]??"");)N++;if(W===E&&T<0||N===E&&T>0)return null;let pe=H.slice(W-A,N-A).toLowerCase();if(!pe||pe.length===0)return null;let P=typeof n=="function"?n(C):n,I=null;if(`${pe}`,!I&&s&&Q[pe]&&(Q[pe],I={word:pe,view:C,pos:E,tooltipType:"keyword",keywordData:{keyword:pe,info:Q[pe]}}),!I&&(c||d)&&P){let $=C.state.doc.toString(),de=await m.extractTableReferences($),fe=new Set(de.map(we=>we.toLowerCase())),be=Kg(P,fe),Y=Ug(be,pe,{enableFuzzySearch:f});!Y&&fe.size===0&&(Y=Ug(P,pe,{enableFuzzySearch:f})),Y&&(Array.from(fe),I={word:pe,view:C,pos:E,tooltipType:"namespace",namespaceData:{item:Y,word:pe,resolvedSchema:fe.size>0?be:P}})}return I?{pos:W,end:N,above:!0,create($){if(g){let be=g(pe,$,E);if(be)return{dom:be}}let de=null;if(I.tooltipType==="keyword"&&I.keywordData)de=w.keyword?w.keyword(I.keywordData):Gg(I.keywordData);else if(I.tooltipType==="namespace"&&I.namespaceData){let be=I.namespaceData,{semanticType:Y}=be.item;de=Y==="table"&&w.table?w.table(be):Y==="column"&&w.column?w.column(be):(Y==="database"||Y==="schema"||Y==="namespace")&&w.namespace?w.namespace(be):Qg(be.item)}if(!de)return{dom:document.createElement("div")};let fe=document.createElement("div");return fe.className="cm-sql-hover-tooltip",fe.innerHTML=de,{dom:fe}}}:null},{hoverTime:o})}function Qg(e){var s,c,d,f,m,g,w;let n=e.path.join("."),i=((s=e.completion)==null?void 0:s.label)||e.value||e.path[e.path.length-1]||"unknown",o=`<div class="sql-hover-${e.semanticType}">`;switch(o+=`<div class="sql-hover-header"><strong>${i}</strong> <span class="sql-hover-type">${e.semanticType}</span></div>`,e.semanticType){case"database":if(o+=`<div class="sql-hover-description">Database${(c=e.completion)!=null&&c.detail?`: ${e.completion.detail}`:""}</div>`,e.namespace){let _=Zl(e.namespace);_>0&&(o+=`<div class="sql-hover-children">Contains ${_} schema${_===1?"":"s"}</div>`)}break;case"schema":if(o+=`<div class="sql-hover-description">Schema${(d=e.completion)!=null&&d.detail?`: ${e.completion.detail}`:""}</div>`,n&&(o+=`<div class="sql-hover-path"><strong>Path:</strong> <code>${n}</code></div>`),e.namespace){let _=Zl(e.namespace);_>0&&(o+=`<div class="sql-hover-children">Contains ${_} table${_===1?"":"s"}</div>`)}break;case"table":if(o+=`<div class="sql-hover-description">Table${(f=e.completion)!=null&&f.detail?`: ${e.completion.detail}`:""}</div>`,n){let _=e.path;_.length>1&&(o+=`<div class="sql-hover-path"><strong>Schema:</strong> <code>${_.slice(0,-1).join(".")}</code></div>`)}if(e.namespace&&Lr(e.namespace)){let _=e.namespace;if(_.length>0){o+=`<div class="sql-hover-columns"><strong>Columns (${_.length}):</strong><br>`;let C=_.slice(0,8).map(E=>typeof E=="string"?E:E.label);o+=C.map(E=>`<code>${E}</code>`).join(", "),_.length>8&&(o+=`, <em>and ${_.length-8} more...</em>`),o+="</div>"}}break;case"column":if(o+=`<div class="sql-hover-description">Column${(m=e.completion)!=null&&m.detail?`: ${e.completion.detail}`:""}</div>`,n){let _=e.path;_.length>1&&(o+=`<div class="sql-hover-path"><strong>Table:</strong> <code>${_.slice(0,-1).join(".")}</code></div>`)}break;default:if(o+=`<div class="sql-hover-description">Namespace${(g=e.completion)!=null&&g.detail?`: ${e.completion.detail}`:""}</div>`,n&&(o+=`<div class="sql-hover-path"><strong>Path:</strong> <code>${n}</code></div>`),e.namespace){let _=Zl(e.namespace);_>0&&(o+=`<div class="sql-hover-children">Contains ${_} item${_===1?"":"s"}</div>`)}break}return(w=e.completion)!=null&&w.info&&typeof e.completion.info=="string"&&(o+=`<div class="sql-hover-info">${e.completion.info}</div>`),o+="</div>",o}function Zl(e){return Array.isArray(e)?e.length:typeof e=="object"&&e?"self"in e&&"children"in e?1+Zl(e.children):Object.keys(e).length:0}function Gg(e){let{keyword:n,info:i}=e,o='<div class="sql-hover-keyword">';if(o+=`<div class="sql-hover-header"><strong>${n.toUpperCase()}</strong> <span class="sql-hover-type">keyword</span></div>`,o+=`<div class="sql-hover-description">${i.description}</div>`,i.syntax&&(o+=`<div class="sql-hover-syntax"><strong>Syntax:</strong> <code>${i.syntax}</code></div>`),i.example&&(o+=`<div class="sql-hover-example"><strong>Example:</strong><br><code>${i.example}</code></div>`),i.metadata&&typeof i.metadata=="object"&&Object.keys(i.metadata).length>0){o+='<div class="sql-hover-metadata">';for(let[s,c]of Object.entries(i.metadata))o+=`<span class="sql-hover-tag" title="${s}">${c}</span> `;o+="</div>"}return o+="</div>",o}function eS(e){let{tableName:n,columns:i,metadata:o}=e,s='<div class="sql-hover-table">';if(s+=`<div class="sql-hover-header"><strong>${n}</strong> <span class="sql-hover-type">table</span></div>`,s+=`<div class="sql-hover-description">Table with ${i.length} column${i.length===1?"":"s"}</div>`,i.length>0){s+='<div class="sql-hover-columns"><strong>Columns:</strong><br>';let c=i.slice(0,10);s+=c.map(d=>`<code>${d}</code>`).join(", "),i.length>10&&(s+=`, <em>and ${i.length-10} more...</em>`),s+="</div>"}if(o&&typeof o=="object"&&Object.keys(o).length>0){s+='<div class="sql-hover-metadata">';for(let[c,d]of Object.entries(o))s+=`<span class="sql-hover-tag" title="${c}">${d}</span> `;s+="</div>"}return s+="</div>",s}function tS(e){let{tableName:n,columnName:i,schema:o,metadata:s}=e,c='<div class="sql-hover-column">';c+=`<div class="sql-hover-header"><strong>${i}</strong> <span class="sql-hover-type">column</span></div>`,c+=`<div class="sql-hover-description">Column in table <code>${n}</code></div>`;let d=o[n];if(d&&d.length>1){let f=d.filter(m=>m!==i);if(f.length>0){c+=`<div class="sql-hover-related"><strong>Other columns in ${n}:</strong><br>`;let m=f.slice(0,8);c+=m.map(g=>`<code>${g}</code>`).join(", "),f.length>8&&(c+=`, <em>and ${f.length-8} more...</em>`),c+="</div>"}}if(s&&typeof s=="object"&&Object.keys(s).length>0){c+='<div class="sql-hover-metadata">';for(let[f,m]of Object.entries(s))c+=`<span class="sql-hover-tag" title="${f}">${m}</span> `;c+="</div>"}return c+="</div>",c}const nS={keyword:Gg,table:eS,column:tS,namespace:Qg},Jg=(e="light")=>{let n=e==="dark"?{tooltipBg:"#1f2937",tooltipBorder:"#374151",tooltipText:"#f9fafb",tooltipTypeBg:"#374151",tooltipTypeText:"#9ca3af",tooltipChildren:"#9ca3af",codeBg:"#374151",codeText:"#f3f4f6",strong:"#ffffff",em:"#9ca3af",header:"#ffffff",info:"#d1d5db",related:"#d1d5db",path:"#d1d5db",example:"#d1d5db",columns:"#d1d5db",syntax:"#d1d5db"}:{tooltipBg:"#ffffff",tooltipBorder:"#e5e7eb",tooltipText:"#374151",tooltipTypeBg:"#f3f4f6",tooltipTypeText:"#6b7280",tooltipChildren:"#6b7280",codeBg:"#f9fafb",codeText:"#1f2937",strong:"#111827",em:"#6b7280",header:"#111827",info:"#374151",related:"#374151",path:"#374151",example:"#374151",columns:"#374151",syntax:"#374151"};return en.theme({".cm-sql-hover-tooltip":{padding:"8px 12px",backgroundColor:n.tooltipBg,border:`1px solid ${n.tooltipBorder}`,borderRadius:"6px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",fontSize:"13px",lineHeight:"1.4",maxWidth:"320px",fontFamily:"system-ui, -apple-system, sans-serif",color:n.tooltipText},".cm-sql-hover-tooltip .sql-hover-header":{marginBottom:"6px",display:"flex",alignItems:"center",gap:"6px",color:n.header},".cm-sql-hover-tooltip .sql-hover-type":{fontSize:"11px",padding:"2px 6px",backgroundColor:n.tooltipTypeBg,color:n.tooltipTypeText,borderRadius:"4px",fontWeight:"500"},".cm-sql-hover-tooltip .sql-hover-description":{color:n.info,marginBottom:"8px"},".cm-sql-hover-tooltip .sql-hover-syntax":{marginBottom:"8px",color:n.syntax},".cm-sql-hover-tooltip .sql-hover-example":{marginBottom:"4px",color:n.example},".cm-sql-hover-tooltip .sql-hover-columns":{marginBottom:"4px",color:n.columns},".cm-sql-hover-tooltip .sql-hover-related":{marginBottom:"4px",color:n.related},".cm-sql-hover-tooltip .sql-hover-path":{marginBottom:"4px",color:n.path},".cm-sql-hover-tooltip .sql-hover-info":{marginBottom:"4px",color:n.info},".cm-sql-hover-tooltip .sql-hover-children":{marginBottom:"4px",color:n.tooltipChildren,fontSize:"12px"},".cm-sql-hover-tooltip code":{backgroundColor:n.codeBg,padding:"1px 4px",borderRadius:"3px",fontSize:"12px",fontFamily:"ui-monospace, 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace",color:n.codeText},".cm-sql-hover-tooltip strong":{fontWeight:"600",color:n.strong},".cm-sql-hover-tooltip em":{fontStyle:"italic",color:n.em}})};var rS=class{constructor(e){Ce(this,"parser");Ce(this,"cache",new Map);Ce(this,"MAX_CACHE_SIZE",10);this.parser=e}async analyzeDocument(e){let n=e.doc.toString(),i=this.generateCacheKey(n),o=this.cache.get(i);if(o)return o;let s=await this.extractStatements(n,e);if(this.cache.set(i,s),this.cache.size>this.MAX_CACHE_SIZE){let c=this.cache.keys().next().value;c!==void 0&&this.cache.delete(c)}return s}async getStatementAtPosition(e,n){return(await this.analyzeDocument(e)).find(i=>n>=i.from&&n<=i.to)||null}async getStatementsInRange(e,n,i){return(await this.analyzeDocument(e)).filter(o=>o.from<=i&&o.to>=n)}async extractStatements(e,n){let i=[],o=this.splitByStatementSeparators(e),s=0;for(let c of o){let d=c.trim();if(d.length===0){s+=c.length;continue}let f=s+c.indexOf(d),m=f+d.length,g=n.doc.lineAt(f),w=n.doc.lineAt(m),_=this.stripComments(d);if(_.trim().length===0||_.trim()===";"){s+=c.length;continue}let C=await this.parser.parse(_,{state:n}),E=this.determineStatementType(_),T=_.endsWith(";")?_.slice(0,-1).trim():_.trim();i.push({from:f,to:m,lineFrom:g.number,lineTo:w.number,content:T,type:E,isValid:C.success}),s+=c.length}return i}splitByStatementSeparators(e){let n=[],i="",o=!1,s="",c=!1,d=!1,f=0;for(;f<e.length;){let m=e[f],g=e[f+1];if(!o&&!d&&m==="-"&&g==="-"){c=!0,i+=m+g,f+=2;continue}if(!o&&!c&&m==="/"&&g==="*"){d=!0,i+=m+g,f+=2;continue}if(d&&m==="*"&&g==="/"){d=!1,i+=m+g,f+=2;continue}if(c&&(m===`
`||m==="\r")){c=!1,i+=m,f++;continue}if(c||d){i+=m,f++;continue}if(!o&&(m==="'"||m==='"'||m==="`"))o=!0,s=m,i+=m;else if(o&&m===s){if(g===s){i+=m+g,f+=2;continue}o=!1,s="",i+=m}else!o&&m===";"?(i+=m,n.push(i),i=""):i+=m;f++}return i.trim()&&n.push(i),n}determineStatementType(e){let n=e.trim().toLowerCase();return n.startsWith("select")?"select":n.startsWith("insert")?"insert":n.startsWith("update")?"update":n.startsWith("delete")?"delete":n.startsWith("create")?"create":n.startsWith("drop")?"drop":n.startsWith("alter")?"alter":n.startsWith("use")?"use":"other"}stripComments(e){let n="",i=!1,o="",s=!1,c=!1,d=0;for(;d<e.length;){let f=e[d],m=e[d+1];if(!i&&!c&&f==="-"&&m==="-"){s=!0,d+=2;continue}if(!i&&!s&&f==="/"&&m==="*"){c=!0,d+=2;continue}if(c&&f==="*"&&m==="/"){c=!1,d+=2;continue}if(s&&(f===`
`||f==="\r")){s=!1,n+=f,d++;continue}if(s||c){d++;continue}if(!i&&(f==="'"||f==='"'||f==="`"))i=!0,o=f,n+=f;else if(i&&f===o){if(m===o){n+=f+m,d+=2;continue}i=!1,o="",n+=f}else n+=f;d++}return n}generateCacheKey(e){let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);n=(n<<5)-n+o,n&=n}return n.toString()}clearCache(){this.cache.clear()}},Xg=ma.define(),Yg=El.define({create(){return{currentStatement:null,allStatements:[],cursorPosition:0,isFocused:!0}},update(e,n){for(let i of n.effects)if(i.is(Xg))return i.value;return e}}),iS=class extends f4{constructor(n,i,o=!0,s=!0){super();Ce(this,"config");Ce(this,"isCurrent");Ce(this,"isValid");Ce(this,"isFocused");this.config=n,this.isCurrent=i,this.isValid=o,this.isFocused=s}toDOM(){let n=document.createElement("div");n.className="cm-sql-gutter-marker";let i=this.config.backgroundColor||"#3b82f6";!this.isValid&&this.config.showInvalid!==!1&&(i=this.config.errorBackgroundColor||"#ef4444");let o;return o=this.isFocused?this.isCurrent?"1":(this.config.inactiveOpacity||"0.3").toString():this.config.unfocusedOpacity===void 0?this.config.hideWhenNotFocused?"0":this.isCurrent?"1":(this.config.inactiveOpacity||"0.3").toString():this.config.unfocusedOpacity.toString(),n.style.cssText=`
      background: ${i};
      height: 100%;
      width: 100%;
      opacity: ${o};
      transition: opacity 150ms ease-in-out;
      border-radius: 1px;
    `,n}eq(n){return this.isCurrent===n.isCurrent&&this.isValid===n.isValid&&this.isFocused===n.isFocused&&this.config===n.config}};function aS(e,n){var f;let i=s4.empty;if((f=n.whenHide)!=null&&f.call(n,e))return i;let o=e.state.field(Yg,!1);if(!o)return i;let{currentStatement:s,allStatements:c,isFocused:d}=o;try{for(let m of c){let g=(s==null?void 0:s.from)===m.from&&(s==null?void 0:s.to)===m.to;if(!m.isValid&&n.showInvalid===!1)continue;let w=new iS(n,g,m.isValid,d);for(let _=m.lineFrom;_<=m.lineTo;_++)try{if(_<1||_>e.state.doc.lines)continue;let C=e.state.doc.line(_);i=i.update({add:[w.range(C.from)]})}catch(C){console.warn("SqlGutter: Invalid line number",_,C)}}}catch(m){console.warn("SqlGutter: Error creating markers",m)}return i}function oS(e){return en.updateListener.of(async n=>{if(!n.docChanged&&!n.selectionSet&&!n.focusChanged)return;let{state:i}=n.view,{main:o}=i.selection,s=o.head,c=await e.analyzeDocument(i),d={currentStatement:await e.getStatementAtPosition(i,s),allStatements:c,cursorPosition:s,isFocused:n.view.hasFocus};n.view.dispatch({effects:Xg.of(d)})})}function sS(e){let n=e.width||3;return en.baseTheme({".cm-sql-gutter":{width:`${n}px`,minWidth:`${n}px`},".cm-sql-gutter .cm-gutterElement":{width:`${n}px`,padding:"0",margin:"0"},".cm-sql-gutter-marker":{width:"100%",height:"100%",display:"block"},".cm-lineNumbers .cm-gutterElement":{paddingLeft:"8px",paddingRight:"8px"}})}function lS(e){return d4({class:`cm-sql-gutter ${e.className||""}`,markers:n=>aS(n,e)})}function cS(e={}){return[Yg,oS(new rS(e.parser||new Xl)),sS(e),lS(e)]}function uS(e={}){let n=[],{enableLinting:i=!0,enableGutterMarkers:o=!0,enableHover:s=!0,linterConfig:c,gutterConfig:d,hoverConfig:f}=e;return i&&n.push(JC(c)),o&&n.push(cS(d)),s&&(n.push(ZC(f)),f!=null&&f.theme?n.push(f.theme):n.push(Jg())),n}var dS={...M2,caseInsensitiveIdentifiers:!0,identifierQuotes:"`"};let Zg,Qd;Zg=cm.define(dS),Qd=cm.define({charSetCasts:!0,doubleQuotedStrings:!1,unquotedBitLiterals:!0,hashComments:!1,spaceAfterDashes:!1,specialVar:"@?",identifierQuotes:'"',caseInsensitiveIdentifiers:!0,keywords:"percentile_cont row_number rank dense_rank rank_dense percent_rank cume_dist ntile lag lead first_value last_value nth_value !__postfix !~~ !~~* % & && * ** + - ->> / // <-> << <=> <@ >> @ @> Calendar JSON TimeZone ^ ^@ abort abs absolute access access_mode acos acosh action add add_parquet_key admin after age aggregate alias all all_profiling_output allow_community_extensions allow_extensions_metadata_mismatch allow_persistent_secrets allow_unredacted_secrets allow_unsigned_extensions allowed_directories allowed_paths also alter always analyse analyze and anti any any_value apply approx_count_distinct approx_quantile approx_top_k arbitrary arg_max arg_max_null arg_min arg_min_null argmax argmin array array_agg array_aggr array_aggregate array_append array_apply array_cat array_concat array_contains array_cosine_distance array_cosine_similarity array_cross_product array_distance array_distinct array_dot_product array_extract array_filter array_grade_up array_has array_has_all array_has_any array_indexof array_inner_product array_intersect array_length array_negative_dot_product array_negative_inner_product array_pop_back array_pop_front array_position array_prepend array_push_back array_push_front array_reduce array_resize array_reverse array_reverse_sort array_select array_slice array_sort array_to_json array_to_string array_to_string_comma_default array_transform array_unique array_value array_where array_zip arrow_large_buffer_size arrow_lossless_conversion arrow_output_list_view arrow_output_version arrow_scan arrow_scan_dumb as asc ascii asin asinh asof asof_loop_join_threshold assertion assignment asymmetric at atan atan2 atanh attach attribute authorization autoinstall_extension_repository autoinstall_known_extensions autoload_known_extensions avg backward bar base64 before begin between bigint bin binary binary_as_string bit bit_and bit_count bit_length bit_or bit_position bit_xor bitstring bitstring_agg blob bool bool_and bool_or boolean both bpchar by bytea cache call called can_cast_implicitly cardinality cascade cascaded case cast cast_to_type catalog catalog_error_max_schemas cbrt ceil ceiling centuries century chain char char_length character character_length characteristics check checkpoint checkpoint_threshold chr class close cluster coalesce col_description collate collation collations column columns combine comment comments commit committed compression concat concat_ws concurrently configuration conflict connection constant_or_null constraint constraints contains content continue conversion copy copy_database corr cos cosh cost cot count count_if count_star countif covar_pop covar_samp create create_sort_key cross csv cube current current_catalog current_connection_id current_database current_date current_localtime current_localtimestamp current_query current_query_id current_role current_schema current_schemas current_setting current_transaction_id current_user currval cursor custom_extension_repository custom_profiling_settings custom_user_agent cycle damerau_levenshtein data database database_list database_size date date_add date_diff date_part date_sub date_trunc datediff datepart datesub datetime datetrunc day dayname dayofmonth dayofweek dayofyear days deallocate debug_asof_iejoin debug_checkpoint_abort debug_force_external debug_force_no_cross_product debug_skip_checkpoint_on_commit debug_verify_vector debug_window_mode dec decade decades decimal declare decode default default_block_size default_collation default_null_order default_order default_secret_storage defaults deferrable deferred definer degrees delete delimiter delimiters depends desc describe detach dictionary disable disable_checkpoint_on_shutdown disable_logging disable_object_cache disable_optimizer disable_parquet_prefetching disable_print_progress_bar disable_profile disable_profiling disable_progress_bar disable_timestamptz_casts disable_verification disable_verify_external disable_verify_fetch_row disable_verify_parallelism disable_verify_serializer disabled_compression_methods disabled_filesystems disabled_log_types disabled_optimizers discard distinct divide do document domain double drop duckdb_api duckdb_columns duckdb_constraints duckdb_databases duckdb_dependencies duckdb_extensions duckdb_external_file_cache duckdb_functions duckdb_indexes duckdb_keywords duckdb_log_contexts duckdb_logs duckdb_logs_parsed duckdb_memory duckdb_optimizers duckdb_prepared_statements duckdb_schemas duckdb_secret_types duckdb_secrets duckdb_sequences duckdb_settings duckdb_table_sample duckdb_tables duckdb_temporary_files duckdb_types duckdb_variables duckdb_views dynamic_or_filter_threshold each editdist3 element_at else enable enable_checkpoint_on_shutdown enable_external_access enable_external_file_cache enable_fsst_vectors enable_geoparquet_conversion enable_http_logging enable_http_metadata_cache enable_logging enable_macro_dependencies enable_object_cache enable_optimizer enable_print_progress_bar enable_profile enable_profiling enable_progress_bar enable_progress_bar_print enable_verification enable_view_dependencies enabled_log_types encode encoding encrypted end ends_with entropy enum enum_code enum_first enum_last enum_range enum_range_boundary epoch epoch_ms epoch_ns epoch_us equi_width_bins era error errors_as_json escape even event except exclude excluding exclusive execute exists exp explain explain_output export export_state extension extension_directory extension_versions extensions external external_threads extract factorial false family favg fdiv fetch file_search_path filter finalize first flatten float float4 float8 floor fmod following for force force_bitpacking_mode force_checkpoint force_compression foreign format formatReadableDecimalSize formatReadableSize format_bytes format_pg_type format_type forward freeze from from_base64 from_binary from_hex from_json from_json_strict fsum full function functions gamma gcd gen_random_uuid generate_series generate_subscripts generated geomean geometric_mean get_bit get_block_size get_current_time get_current_timestamp getvariable glob global grade_up grant granted greatest greatest_common_divisor group group_concat grouping grouping_id groups guid hamming handler having header hex histogram histogram_exact histogram_values hold home_directory hour hours http_logging_output http_proxy http_proxy_password http_proxy_username hugeint identity ieee_floating_point_ops if ignore ilike ilike_escape immediate immediate_transaction_mode immutable implicit import import_database in in_search_path include including increment index index_scan_max_count index_scan_percentage indexes inet_client_addr inet_client_port inet_server_addr inet_server_port inherit inherits initially inline inner inout input insensitive insert install instead instr int int1 int128 int16 int2 int32 int4 int64 int8 integer integer_division integral intersect interval into invoker is is_histogram_other_bin isfinite isinf isnan isnull isodow isolation isoyear jaccard jaro_similarity jaro_winkler_similarity join json json_array json_array_length json_contains json_deserialize_sql json_each json_execute_serialized_sql json_exists json_extract json_extract_path json_extract_path_text json_extract_string json_group_array json_group_object json_group_structure json_keys json_merge_patch json_object json_pretty json_quote json_serialize_plan json_serialize_sql json_structure json_transform json_transform_strict json_tree json_type json_valid json_value julian kahan_sum key kurtosis kurtosis_pop label lambda lambda_syntax language large last last_day late_materialization_max_rows lateral lcase lcm leading leakproof least least_common_multiple left left_grapheme len length length_grapheme level levenshtein lgamma like like_escape limit list list_aggr list_aggregate list_any_value list_append list_apply list_approx_count_distinct list_avg list_bit_and list_bit_or list_bit_xor list_bool_and list_bool_or list_cat list_concat list_contains list_cosine_distance list_cosine_similarity list_count list_distance list_distinct list_dot_product list_element list_entropy list_extract list_filter list_first list_grade_up list_has list_has_all list_has_any list_histogram list_indexof list_inner_product list_intersect list_kurtosis list_kurtosis_pop list_last list_mad list_max list_median list_min list_mode list_negative_dot_product list_negative_inner_product list_pack list_position list_prepend list_product list_reduce list_resize list_reverse list_reverse_sort list_select list_sem list_skewness list_slice list_sort list_stddev_pop list_stddev_samp list_string_agg list_sum list_transform list_unique list_value list_var_pop list_var_samp list_where list_zip listagg listen ln load local location lock lock_configuration locked log log10 log2 log_query_path logged logging_level logging_mode logging_storage logical long lower lpad ltrim macro mad make_date make_time make_timestamp make_timestamp_ns make_timestamptz map map_concat map_contains map_contains_entry map_contains_value map_entries map_extract map_extract_value map_from_entries map_keys map_to_pg_oid map_values mapping match materialized max max_by max_expression_depth max_memory max_temp_directory_size max_vacuum_tasks maxvalue md5 md5_number md5_number_lower md5_number_upper mean median memory_limit merge_join_threshold metadata_info method microsecond microseconds millennia millennium millisecond milliseconds min min_by minute minutes minvalue mismatches mod mode month monthname months move multiply name names nanosecond national natural nchar nested_loop_join_threshold new next nextafter nextval nfc_normalize no none normalized_interval not not_ilike_escape not_like_escape nothing notify notnull now nowait null null_order nullif nulls numeric nvarchar obj_description object octet_length of off offset oid oids old old_implicit_casting on only operator option options or ord order order_by_non_integer_literal ordered_aggregate_threshold ordinality others out outer over overlaps overlay overriding owned owner pandas_analyze_sample pandas_scan parallel parquet_bloom_probe parquet_file_metadata parquet_kv_metadata parquet_metadata parquet_metadata_cache parquet_scan parquet_schema parse_dirname parse_dirpath parse_duckdb_log_message parse_filename parse_path parser partial partition partitioned partitioned_write_flush_threshold partitioned_write_max_open_files passing password percent perfect_ht_threshold persistent pi pivot pivot_filter_threshold pivot_limit pivot_longer pivot_wider placing plans platform policy position positional pow power pragma pragma_collations pragma_database_size pragma_metadata_info pragma_platform pragma_show pragma_storage_info pragma_table_info pragma_user_agent pragma_version preceding precision prefer_range_joins prefetch_all_parquet_files prefix prepare prepared preserve preserve_identifier_case preserve_insertion_order primary printf prior privileges procedural procedure produce_arrow_string_view product profile_output profiling_mode profiling_output program progress_bar_time publication python_enable_replacements python_map_function python_scan_all_frames qualify quantile quantile_cont quantile_disc quarter quarters query query_table quote radians random range read read_blob read_csv read_csv_auto read_json read_json_auto read_json_objects read_json_objects_auto read_ndjson read_ndjson_auto read_ndjson_objects read_parquet read_text real reassign recheck recursive reduce ref references referencing refresh regexp_escape regexp_extract regexp_extract_all regexp_full_match regexp_matches regexp_replace regexp_split_to_array regexp_split_to_table regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release remap_struct rename repeat repeat_row repeatable replace replica reservoir_quantile reset respect restart restrict returning returns reverse revoke right right_grapheme role rollback rollup round round_even roundbankers row row_to_json rows rpad rtrim rule sample savepoint scalar_subquery_error_on_multiple_rows scheduler_process_partial schema schemas scope scroll search search_path second seconds secret secret_directory security select sem semi seq_scan sequence sequences serializable server session session_user set set_bit setof sets setseed sha1 sha256 share shobj_description short show show_databases show_tables show_tables_expanded sign signbit signed similar simple sin sinh skewness skip smallint snapshot sniff_csv some sorted split split_part sql sqrt stable standalone start starts_with statement statistics stats stddev stddev_pop stddev_samp stdin stdout storage storage_compatibility_version storage_info stored str_split str_split_regex streaming_buffer_size strftime strict string string_agg string_split string_split_regex string_to_array strip strip_accents strlen strpos strptime struct struct_concat struct_extract struct_extract_at struct_insert struct_pack subscription substr substring substring_grapheme subtract suffix sum sum_no_overflow sumkahan summarize summary symmetric sysid system table table_info tables tablesample tablespace tan tanh temp temp_directory template temporary test_all_types test_vector_types text then threads ties time time_bucket timestamp timestamp_ms timestamp_ns timestamp_s timestamp_us timestamptz timetz timetz_byte_comparable timezone timezone_hour timezone_minute tinyint to to_base to_base64 to_binary to_centuries to_days to_decades to_hex to_hours to_json to_microseconds to_millennia to_milliseconds to_minutes to_months to_quarters to_seconds to_timestamp to_weeks to_years today trailing transaction transaction_timestamp transform translate treat trigger trim true trunc truncate truncate_duckdb_logs trusted try_cast try_strptime txid_current type typeof types ubigint ucase uhugeint uint128 uint16 uint32 uint64 uint8 uinteger unbin unbounded uncommitted unencrypted unhex unicode union union_extract union_tag union_value unique unknown unlisten unlogged unnest unpack unpivot unpivot_list until update upper url_decode url_encode use user user_agent username using usmallint utinyint uuid uuid_extract_timestamp uuid_extract_version uuidv4 uuidv7 vacuum valid validate validator value values var_pop var_samp varbinary varchar variable variadic variance varint varying vector_type verbose verify_external verify_fetch_row verify_parallelism verify_serializer version view views virtual volatile wal_autocheckpoint wavg week weekday weekofyear weeks weighted_avg when where which_secret whitespace window with within without work worker_threads wrapper write write_log xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlnamespaces xmlparse xmlpi xmlroot xmlserialize xmltable xor year years yearweek yes zone zstd_min_string_length | || ~ ~~ ~~* ~~~",types:"JSON bigint binary bit bitstring blob bool boolean bpchar bytea char date datetime dec decimal double enum float float4 float8 guid hugeint int int1 int128 int16 int2 int32 int4 int64 int8 integer integral interval list logical long map null numeric nvarchar oid real row short signed smallint string struct text time timestamp timestamp_ms timestamp_ns timestamp_s timestamp_us timestamptz timetz tinyint ubigint uhugeint uint128 uint16 uint32 uint64 uint8 uinteger union usmallint utinyint uuid varbinary varchar varint"}),Mi="__marimo_duckdb",mo=new Set([Mi]),s_="memory",Pl=function(e){return e===""},qw=function({table:e,columnName:n,sqlTableContext:i}){if(i){let{engine:o,schema:s,defaultSchema:c,defaultDatabase:d,database:f}=i,m=e.name;return Pl(s)?m=f===d?m:`${f}.${m}`:(s!==c&&(m=`${s}.${m}`),f!==d&&(m=`${f}.${m}`)),o==="__marimo_duckdb"?`_df = mo.sql(f"SELECT ${n} FROM ${m} LIMIT 100")`:`_df = mo.sql(f"SELECT ${n} FROM ${m} LIMIT 100", engine=${o})`}return`_df = mo.sql(f'SELECT "${n}" FROM ${e.name} LIMIT 100')`},pw=function(e,n){if(n==="date"||n==="datetime"||n==="time"){if(e==="min")return"Earliest";if(e==="max")return"Latest"}return e};function fS(){return{tables:[],expandedTables:new Set,expandedColumns:new Set,columnsPreviews:new Map}}var{reducer:_R,createActions:xR,valueAtom:ey,useActions:pS}=Ol(fS,{addDatasets:(e,n)=>{let{previewDatasetColumn:i}=Pi();for(let f of n.tables)for(let m of f.columns){let g=`${f.name}:${m.name}`;e.expandedColumns.has(g)&&i({tableName:f.name,columnName:m.name,source:f.source,sourceType:f.source_type})}let o=e.tables;n.clear_channel&&(o=o.filter(f=>f.source!==n.clear_channel));let s=[...n.tables,...o],c=new Set,d=s.filter(f=>{let m=`${f.name}:${f.source}`;return c.has(m)?!1:(c.add(m),!0)}).sort((f,m)=>f.name.localeCompare(m.name));return{...e,tables:d}},filterDatasetsFromVariables:(e,n)=>{let i=new Set(n),o=e.tables.filter(s=>s.variable_name?i.has(s.variable_name):!0);return{...e,tables:o}},toggleTable:(e,n)=>{let i=new Set(e.expandedTables);return i.has(n)?i.delete(n):i.add(n),{...e,expandedTables:i}},toggleColumn:(e,n)=>{let i=`${n.table}:${n.column}`,o=new Set(e.expandedColumns);return o.has(i)?o.delete(i):o.add(i),{...e,expandedColumns:o}},closeAllColumns:e=>({...e,expandedColumns:new Set}),addColumnPreview:(e,n)=>{let i=`${n.table_name}:${n.column_name}`,o=new Map(e.columnsPreviews);return o.set(i,n),{...e,columnsPreviews:o}}});Sw=()=>Kn(ey),Eu=Fe(e=>e(ey).tables),Rw=Fe(new Set),i_=Fe(!1),Ow=function(){return pS()};var mS=new Map([[Mi,{name:Mi,dialect:"duckdb",source:"duckdb",display_name:"DuckDB (In-Memory)",databases:[]}]]);function hS(){return{latestEngineSelected:Mi,connectionsMap:mS}}let gS,yS;({reducer:gS,createActions:yS,valueAtom:co,useActions:iw}=Ol(hS,{addDataSourceConnection:(e,n)=>{if(n.connections.length===0)return e;let{latestEngineSelected:i,connectionsMap:o}=e,s=new Map(o);for(let c of n.connections)s.set(c.name,c);return{latestEngineSelected:i,connectionsMap:s}},filterDataSourcesFromVariables:(e,n)=>{let{latestEngineSelected:i,connectionsMap:o}=e,s=new Set(n),c=new Map([...o].filter(([d])=>mo.has(d)?!0:s.has(d)));return{latestEngineSelected:c.has(i)?i:Mi,connectionsMap:c}},clearDataSourceConnections:()=>({latestEngineSelected:Mi,connectionsMap:new Map}),removeDataSourceConnection:(e,n)=>{let{latestEngineSelected:i,connectionsMap:o}=e,s=new Map(o);return s.delete(n),{latestEngineSelected:s.has(i)?i:Mi,connectionsMap:s}},addTableList:(e,n)=>{let{tables:i,sqlTableContext:o}=n,{connectionsMap:s,latestEngineSelected:c}=e,d=o.engine,f=s.get(d);if(!f)return e;let m=new Map(s),g={...f,databases:f.databases.map(w=>w.name===o.database?{...w,schemas:w.schemas.map(_=>_.name===o.schema?{..._,tables:i}:_)}:w)};return m.set(d,g),{latestEngineSelected:c,connectionsMap:m}},addTable:(e,n)=>{let{table:i,sqlTableContext:o}=n,{connectionsMap:s,latestEngineSelected:c}=e,d=o.engine,f=i.name,m=s.get(d);if(!m)return e;let g=new Map(s),w={...m,databases:m.databases.map(_=>_.name===o.database?{..._,schemas:_.schemas.map(C=>{if(C.name!==o.schema)return C;let E=C.tables.length===0?[i]:C.tables.map(T=>T.name===f?i:T);return{...C,tables:E}})}:_)};return g.set(d,w),{latestEngineSelected:c,connectionsMap:g}}})),Mu=Fe(e=>e(co).connectionsMap);function ty(e){let n=st.get(co);n.connectionsMap.has(e)&&st.set(co,{...n,latestEngineSelected:e})}Z2=Fe(e=>{let n=st.get(Eu),i=e(co).connectionsMap,o=new Map;for(let s of n)o.set(s.name,s);for(let s of i.values())for(let c of s.databases){let d=c.name===s.default_database||s.databases.length===1;for(let f of c.schemas){let m=f.name===s.default_schema,g=Pl(f.name);for(let w of f.tables){let _;if(_=w.name,g){_=d?w.name:`${c.name}.${w.name}`,o.has(_)?Pe.warn(`Table name collision for ${_}. Skipping.`):o.set(_,w);continue}if(d&&m&&!o.has(_)){o.set(_,w);continue}if(_=`${f.name}.${w.name}`,d&&!o.has(_)){o.set(_,w);continue}_=`${c.name}.${f.name}.${w.name}`,o.has(_)?Pe.warn(`Table name collision for ${_}. Skipping.`):o.set(_,w)}}}return o}),G2=function(e){return e.variable_name?"dataframe":"table"};var vS=class S_{static jsonStringifySortKeys(){return n=>typeof n!="object"||!n?String(n):JSON.stringify(n,Object.keys(n).sort(),2)}constructor(n,i={}){this.delegate=n,this.toKey=i.toKey??S_.jsonStringifySortKeys(),this.cache=new zd(i.maxSize??128)}request(n){let i=this.toKey(n),o=this.cache.get(i);if(o!==void 0)return o;let s=this.delegate.request(n);return this.cache.set(i,s),s.catch(c=>{throw this.cache.delete(i),c})}resolve(n,i){this.delegate.resolve(n,i)}reject(n,i){this.delegate.reject(n,i)}};b_=new wu("sql-table-preview",async(e,n)=>{await Pi().previewSQLTable({requestId:e,...n})}),F2=new wu("sql-table-list-preview",async(e,n)=>{await Pi().previewSQLTableList({requestId:e,...n})}),Nm=new vS(new wu("validate-sql",async(e,n)=>{await Pi().validateSQL({requestId:e,...n})}),{maxSize:3});var bS=Kt(Br(),1);let Ta;Ta=Fe(new Map),mw=e=>{let n=(0,bS.c)(3),i=Kn(Ta),o;return n[0]!==e||n[1]!==i?(o=i.get(e),n[0]=e,n[1]=i,n[2]=o):o=n[2],o};function ny(e){let n=st.get(Ta),i=new Map(n);i.delete(e),st.set(Ta,i)}function wS(){st.set(Ta,new Map)}function _S({cellId:e,errorMessage:n,dialect:i}){let o=st.get(Ta),s=new Map(o),c=i==="DuckDB"?xS(n):ry(n);s.set(e,c),st.set(Ta,s)}function xS(e){let{errorType:n,errorMessage:i}=ry(e),o=i,s,c=i.indexOf("LINE ");return c!==-1&&(s=i.slice(Math.max(0,c)).trim(),o=i.slice(0,Math.max(0,c)).trim()),{errorType:n,errorMessage:o,codeblock:s}}function ry(e){return{errorType:e.split(":")[0].trim(),errorMessage:e.split(":").slice(1).join(":").trim()}}let Gd,iy,Jd,Xd;Tm=zn("book-marked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),xm=zn("braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]),Gd=zn("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),ym=zn("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Dm=zn("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),iy=zn("cog",[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]]),Rm=zn("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]),Jd=zn("database-backup",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 12a9 3 0 0 0 5 2.69",key:"1ui2ym"}],["path",{d:"M21 9.3V5",key:"6k6cib"}],["path",{d:"M3 5v14a9 3 0 0 0 6.47 2.88",key:"i62tjy"}],["path",{d:"M12 12v4h4",key:"1bxaet"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16",key:"1f4ei9"}]]),ps=zn("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),$u=zn("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ku=zn("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),fo=zn("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),Om=zn("paint-roller",[["rect",{width:"16",height:"6",x:"2",y:"2",rx:"2",key:"jcyz7m"}],["path",{d:"M10 16v-2a2 2 0 0 1 2-2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2",key:"1b9h7c"}],["rect",{width:"4",height:"6",x:"8",y:"16",rx:"1",key:"d6e7yl"}]]),Xd=zn("search-check",[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),lo=zn("table-2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]),Ml=function(e){switch(e){case"duckdb":return"DuckDB";case"motherduck":return"MotherDuck";case"sqlite":return"SQLite";case"postgres":case"postgresql":return"PostgreSQL";case"mysql":return"MySQL";case"mariadb":return"MariaDB";case"mssql":return"Microsoft SQL Server";case"oracle":return"Oracle";case"redshift":return"Amazon Redshift";case"snowflake":return"Snowflake";case"bigquery":return"Google BigQuery";case"clickhouse":return"ClickHouse";case"timeplus":return"Timeplus";case"databricks":return"Databricks";case"db2":return"IBM Db2";case"hive":return"Apache Hive";case"impala":return"Apache Impala";case"presto":return"Presto";case"trino":return"Trino";case"cockroachdb":return"CockroachDB";case"timescaledb":return"TimescaleDB";case"singlestore":return"SingleStore";case"cassandra":return"Apache Cassandra";case"mongodb":return"MongoDB";case"iceberg":return"Apache Iceberg";default:return e}};function ay(e){let[n,i]=e.split(" ");return i?`${Ml(n)} ${i}`:Ml(e)}ed={boolean:tR,date:eR,time:Dm,datetime:Gd,temporal:Gd,number:um,string:nR,integer:um,unknown:xm},bw=function(e){switch(e){case"boolean":return"bg-(--orange-4)";case"date":case"time":case"datetime":case"temporal":return"bg-(--grass-4) dark:bg-(--grass-5)";case"number":case"integer":return"bg-(--purple-4)";case"string":return"bg-(--blue-4)";case"unknown":return"bg-(--slate-4) dark:bg-(--slate-6)";default:return A2(e),"bg-(--slate-4) dark:bg-(--slate-6)"}};let vs,oy,Yd,sy,Oo,ly,cy,uy,dy,fy,Do,Wr,Ra,li,Zd;ga=class{constructor(e,n){this.singular=e,this._plural=n}pluralize(e){return e===1?this.singular:this.plural}get plural(){return this._plural??`${this.singular}s`}},H2=class E_{constructor(n){this.words=n}static of(...n){return new E_(n.map(i=>typeof i=="string"?new ga(i):i))}join(n,i){return this.words.map(o=>o.pluralize(i)).join(n)}},vs=Kt(Br(),1),oy=5,Yd={boolean:"bg-[var(--orange-4)] text-[var(--orange-11)]",date:"bg-[var(--grass-4)] text-[var(--grass-11)]",time:"bg-[var(--grass-4)] text-[var(--grass-11)]",datetime:"bg-[var(--grass-4)] text-[var(--grass-11)]",number:"bg-[var(--purple-4)] text-[var(--purple-11)]",integer:"bg-[var(--purple-4)] text-[var(--purple-11)]",string:"bg-[var(--blue-4)] text-[var(--blue-11)]",unknown:"bg-[var(--slate-4)] text-[var(--slate-11)]"},sy={local:"bg-[var(--blue-4)] text-[var(--blue-11)]",duckdb:"bg-[var(--amber-4)] text-[var(--amber-11)]",connection:"bg-[var(--green-4)] text-[var(--green-11)]",catalog:"bg-[var(--purple-4)] text-[var(--purple-11)]"},Oo="p-3 min-w-[250px] flex flex-col divide-y",ly=new ga("column","columns"),cy=new ga("row","rows"),uy=new ga("schema","schemas"),dy=new ga("table","tables"),fy=new ga("database","databases"),Do=e=>{let n=(0,vs.c)(6),{icon:i,title:o,badge:s}=e,c;n[0]===o?c=n[1]:(c=(0,B.jsx)("h3",{className:"font-semibold text-sm",children:o}),n[0]=o,n[1]=c);let d;return n[2]!==s||n[3]!==i||n[4]!==c?(d=(0,B.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[i,c,s]}),n[2]=s,n[3]=i,n[4]=c,n[5]=d):d=n[5],d},Wr=e=>{let n=(0,vs.c)(5),{label:i,value:o}=e,s;n[0]===i?s=n[1]:(s=(0,B.jsxs)("span",{className:"text-[var(--slate-11)]",children:[i,":"]}),n[0]=i,n[1]=s);let c;return n[2]!==s||n[3]!==o?(c=(0,B.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[s,o]}),n[2]=s,n[3]=o,n[4]=c):c=n[4],c},Ra=e=>{let n=(0,vs.c)(5),{icon:i,text:o}=e,s;n[0]===o?s=n[1]:(s=(0,B.jsx)("span",{className:"text-xs text-[var(--slate-11)]",children:o}),n[0]=o,n[1]=s);let c;return n[2]!==i||n[3]!==s?(c=(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[i,s]}),n[2]=i,n[3]=s,n[4]=c):c=n[4],c},li=e=>{let n=(0,vs.c)(15),{title:i,items:o,totalCount:s,limit:c}=e,d=i===void 0?"":i,f=c===void 0?oy:c;if(o.length===0)return null;let m;n[0]!==o||n[1]!==f?(m=o.slice(0,f),n[0]=o,n[1]=f,n[2]=m):m=n[2];let g=m,w=s>f,_;n[3]===d?_=n[4]:(_=d&&(0,B.jsxs)("h4",{className:"text-xs font-medium text-[var(--slate-11)] mb-2",children:[d,":"]}),n[3]=d,n[4]=_);let C;n[5]!==w||n[6]!==f||n[7]!==s?(C=w&&(0,B.jsxs)("div",{className:"text-xs text-[var(--slate-10)] text-center py-1",children:["... and ",s-f," more"]}),n[5]=w,n[6]=f,n[7]=s,n[8]=C):C=n[8];let E;n[9]!==C||n[10]!==g?(E=(0,B.jsxs)("div",{className:"flex flex-col gap-1 overflow-y-auto",children:[g,C]}),n[9]=C,n[10]=g,n[11]=E):E=n[11];let T;return n[12]!==_||n[13]!==E?(T=(0,B.jsxs)("div",{className:"py-2",children:[_,E]}),n[12]=_,n[13]=E,n[14]=T):T=n[14],T},Zd=e=>Yd[e]||Yd.unknown;const kS=e=>{var d,f;let n=e.type==="view"?(0,B.jsx)($u,{className:"w-4 h-4 text-[var(--blue-9)]"}):(0,B.jsx)(lo,{className:"w-4 h-4 text-[var(--green-9)]"}),i=(0,B.jsx)(cr,{variant:"secondary",className:`text-xs ${e.type==="view"?"bg-[var(--blue-4)] text-[var(--blue-11)]":"bg-[var(--green-4)] text-[var(--green-11)]"}`,children:e.type}),o=e.columns.map(m=>{let g=ed[m.type];return(0,B.jsxs)("div",{className:"flex items-center justify-between text-xs rounded",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(g,{className:"w-3 h-3 text-[var(--slate-9)]"}),(0,B.jsx)("span",{className:"font-mono",children:m.name})]}),(0,B.jsx)(cr,{variant:"outline",className:`text-xs ${Zd(m.type)}`,children:m.type})]},m.name)}),s=e.primary_keys&&e.primary_keys.length>0,c=e.indexes&&e.indexes.length>0;return(0,B.jsxs)("div",{className:`${Oo} min-w-[300px]`,children:[(0,B.jsx)(Do,{icon:n,title:e.name,badge:i}),(0,B.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,B.jsx)(Wr,{label:"Source",value:(0,B.jsx)(cr,{variant:"outline",className:`text-xs ${sy[e.source_type]}`,children:e.source})}),e.variable_name&&(0,B.jsx)(Wr,{label:"Variable",value:(0,B.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.variable_name})}),e.engine&&(0,B.jsx)(Wr,{label:"Engine",value:(0,B.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.engine})})]}),(e.num_columns!=null||e.num_rows!=null)&&(0,B.jsxs)("div",{className:"grid grid-cols-2 gap-2 py-2",children:[e.num_columns!=null&&(0,B.jsx)(Ra,{icon:(0,B.jsx)(Rm,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.num_columns} ${ly.pluralize(e.num_columns)}`}),e.num_rows!=null&&(0,B.jsx)(Ra,{icon:(0,B.jsx)(um,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.num_rows} ${cy.pluralize(e.num_rows)}`})]}),e.columns.length===0&&ec("column"),(s||c)&&(0,B.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[s&&(0,B.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[(0,B.jsx)(V4,{className:"w-3 h-3 text-[var(--amber-9)]"}),(0,B.jsx)("span",{className:"text-xs font-medium text-[var(--slate-11)]",children:"Primary Keys:"})]}),(d=e.primary_keys)==null?void 0:d.map(m=>(0,B.jsx)(cr,{variant:"outline",className:"text-xs text-[var(--slate-11)]",children:m},m))]}),c&&(0,B.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,B.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,B.jsx)(Tm,{className:"w-3 h-3 text-[var(--purple-9)]"}),(0,B.jsx)("span",{className:"text-xs font-medium text-[var(--slate-11)]",children:"Indexes:"})]}),(f=e.indexes)==null?void 0:f.map(m=>(0,B.jsx)(cr,{variant:"outline",className:"text-xs text-[var(--slate-11)]",children:m},m))]})]}),e.columns.length>0&&(0,B.jsx)(li,{items:o,totalCount:e.columns.length})]})},CS=e=>{var s;let n=ed[e.type],i=(0,B.jsx)(cr,{variant:"outline",className:`text-xs ${Zd(e.type)}`,children:e.type}),o=((s=e.sample_values)==null?void 0:s.map((c,d)=>(0,B.jsx)("div",{className:"text-xs bg-[var(--slate-3)] rounded font-mono",children:c==null?"null":String(c)},d)))||[];return(0,B.jsxs)("div",{className:Oo,children:[(0,B.jsx)(Do,{icon:(0,B.jsx)(n,{className:"w-4 h-4 text-[var(--slate-9)]"}),title:e.name,badge:i}),(0,B.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,B.jsx)(Wr,{label:"Type",value:(0,B.jsx)("span",{className:"font-medium",children:e.type})}),(0,B.jsx)(Wr,{label:"External Type",value:(0,B.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.external_type})})]}),e.sample_values&&e.sample_values.length>0&&(0,B.jsx)(li,{title:"Sample Values",items:o,totalCount:e.sample_values.length})]})},SS=e=>{let n=(0,B.jsx)(cr,{variant:"outline",className:"text-xs bg-[var(--blue-4)] text-[var(--blue-11)]",children:e.dialect}),i=e.schemas.map(o=>(0,B.jsxs)("div",{className:"flex items-center justify-between text-xs rounded hover:bg-[var(--slate-3)]",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(fo,{className:"w-3 h-3 text-[var(--slate-9)]"}),(0,B.jsx)("span",{children:o.name})]}),(0,B.jsxs)(cr,{variant:"outline",className:"text-xs",children:[o.tables.length," ",dy.pluralize(o.tables.length)]})]},o.name));return(0,B.jsxs)("div",{className:Oo,children:[(0,B.jsx)(Do,{icon:(0,B.jsx)(ps,{className:"w-4 h-4 text-[var(--blue-9)]"}),title:e.name,badge:n}),(0,B.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,B.jsx)(Wr,{label:"Dialect",value:(0,B.jsx)("span",{className:"font-medium",children:e.dialect})}),e.engine&&(0,B.jsx)(Wr,{label:"Engine",value:(0,B.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.engine})})]}),(0,B.jsx)("div",{className:"py-2",children:(0,B.jsx)(Ra,{icon:(0,B.jsx)(fo,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.schemas.length} schema${e.schemas.length===1?"":"s"}`})}),e.schemas.length===0&&ec("schema"),e.schemas.length>0&&(0,B.jsx)(li,{title:"Schemas",items:i,totalCount:e.schemas.length})]})},ES=e=>{let n=(0,B.jsx)(cr,{variant:"outline",className:"text-xs bg-[var(--green-4)] text-[var(--green-11)]",children:"Schema"}),i=e.tables.map(o=>(0,B.jsxs)("div",{className:"flex items-center justify-between text-xs rounded hover:bg-[var(--slate-3)]",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[o.type==="view"?(0,B.jsx)($u,{className:"w-3 h-3 text-[var(--blue-9)]"}):(0,B.jsx)(lo,{className:"w-3 h-3 text-[var(--green-9)]"}),(0,B.jsx)("span",{children:o.name})]}),(0,B.jsx)(cr,{variant:"outline",className:`text-xs ${o.type==="view"?"bg-[var(--blue-4)] text-[var(--blue-11)]":"bg-[var(--green-4)] text-[var(--green-11)]"}`,children:o.type})]},o.name));return(0,B.jsxs)("div",{className:Oo,children:[(0,B.jsx)(Do,{icon:(0,B.jsx)(fo,{className:"w-4 h-4 text-[var(--green-9)]"}),title:e.name,badge:n}),(0,B.jsx)("div",{className:"py-2",children:(0,B.jsx)(Ra,{icon:(0,B.jsx)(lo,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.tables.length} table${e.tables.length===1?"":"s"}`})}),e.tables.length===0&&ec("table"),e.tables.length>0&&(0,B.jsx)(li,{title:"Tables",items:i,totalCount:e.tables.length})]})};var py=(0,B.jsx)(cr,{variant:"outline",children:"default"}),TS=8,my=3;let ec;p_=(e,n)=>{let i=e.databases.length,o=e.databases.reduce((m,g)=>m+g.schemas.length,0),s=(m,g)=>{if(m.tables.length===0)return null;let w=m.name===e.default_schema&&g,_=[];return o<TS&&(_=m.tables.slice(0,my+1).map(C=>(0,B.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,B.jsx)(lo,{className:"w-3 h-3 text-[var(--green-9)]"}),(0,B.jsx)("span",{className:"text-xs",children:C.name})]},C.name))),(0,B.jsxs)("div",{children:[(0,B.jsxs)("div",{className:"flex items-center gap-2 text-xs rounded hover:bg-[var(--slate-3)] ml-2",children:[(0,B.jsx)(fo,{className:"w-3 h-3 text-[var(--slate-9)]"}),(0,B.jsx)("span",{children:m.name}),w&&py,(0,B.jsxs)(cr,{variant:"outline",className:"text-xs ml-auto",children:[m.tables.length," tables"]})]}),(0,B.jsx)(li,{items:_,totalCount:m.tables.length,limit:my})]},m.name)},c=e.databases.map(m=>{let g=m.name===e.default_database||e.databases.length===1,w=m.schemas.map(_=>s(_,g));return(0,B.jsxs)("div",{children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(ps,{className:"w-3 h-3 text-[var(--blue-9)]"}),(0,B.jsx)("span",{className:"text-xs",children:m.name}),g&&py]}),w&&(0,B.jsx)(li,{items:w,totalCount:m.schemas.length})]},m.name)}),d=e.name;mo.has(e.name)&&(d="In-Memory");let f=n==null?void 0:n.map(m=>(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(lo,{className:"w-3 h-3 text-[var(--blue-9)]"}),(0,B.jsx)("span",{className:"text-xs",children:m.name})]},m.name));return(0,B.jsxs)("div",{className:`${Oo} px-1`,children:[(0,B.jsx)(Do,{icon:(0,B.jsx)(iy,{className:"w-4 h-4 text-[var(--purple-9)]"}),title:d}),(0,B.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,B.jsx)(Wr,{label:"Dialect",value:(0,B.jsx)("span",{className:"font-medium",children:Ml(e.dialect)})}),(0,B.jsx)(Wr,{label:"Source",value:(0,B.jsx)(cr,{variant:"outline",className:"text-xs bg-[var(--green-4)] text-[var(--green-11)]",children:e.source})})]}),(0,B.jsxs)("div",{className:"flex flex-row justify-between py-2",children:[(0,B.jsx)(Ra,{icon:(0,B.jsx)(ps,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${i} ${fy.pluralize(i)}`}),(0,B.jsx)(Ra,{icon:(0,B.jsx)(fo,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${o} ${uy.pluralize(o)}`})]}),i>0&&(0,B.jsx)(li,{items:c,totalCount:i}),f&&f.length>0&&(0,B.jsx)(li,{title:"Dataframes",items:f,totalCount:f.length})]})},ec=e=>(0,B.jsxs)("div",{className:"flex items-start gap-2 mt-3",children:[(0,B.jsx)(ku,{size:10,className:"mt-1 text-[var(--slate-10)] shrink-0"}),(0,B.jsxs)("span",{className:"text-xs text-[var(--slate-11)]",children:["No ",e," information available.",` 
`,(0,B.jsx)("span",{className:"text-[var(--blue-10)]",children:"Introspect to see more details."})]})]});var tc=Kt(Ku(),1),hy=class{constructor(){Ce(this,"schema",{})}addTable(e,n){let i={self:OS({table:n}),children:n.columns.map(o=>RS({column:o}))};return this.setAt([...e,n.name],i),this}addSchema(e,n){let i={self:DS({namespace:n,path:e}),children:{}};return this.setAt(e,i),this}addDatabase(e,n){let i={self:PS({namespace:n,path:e}),children:{}};return this.setAt(e,i),this}setAt(e,n){let i=this.schema;for(let o of e.slice(0,-1))i[o]||(i[o]={children:{}}),i=i[o].children;i[e[e.length-1]]=n}build(){return this.schema}reset(){return this.schema={},this}};function RS(e){return{label:e.column.name,type:"column",info:()=>{let n=document.createElement("div");return(0,tc.createRoot)(n).render(CS(e.column)),{dom:n}}}}function OS(e){return{label:e.table.name,type:"table",info:()=>{let n=document.createElement("div");return(0,tc.createRoot)(n).render(kS(e.table)),{dom:n}}}}function DS(e){return{label:e.namespace.name,detail:e.path.join("."),type:"schema",info:()=>{let n=document.createElement("div");return(0,tc.createRoot)(n).render(ES(e.namespace)),{dom:n}}}}function PS(e){return{label:e.namespace.name,detail:e.path.join("."),type:"database",info:()=>{let n=document.createElement("div");return(0,tc.createRoot)(n).render(SS(e.namespace)),{dom:n}}}}function gy(e){switch(e.dialect){case"postgresql":case"postgres":return M2;case"mysql":return K4;case"sqlite":return W4;case"mssql":case"sqlserver":return G4;case"duckdb":return Qd;case"mariadb":return J4;case"cassandra":return X4;case"oracledb":case"oracle":return $4;case"bigquery":return Zg;default:return}}var LS={...Q4,caseInsensitiveIdentifiers:!0,identifierQuotes:"'"};const ef=cm.define(LS);var MS=Fe(e=>{let n=e(Eu),i=new hy;for(let o of n)i.addTable([],o);return i.build()}),NS=class{constructor(){this.cache=new zd(10,{create:e=>this.getConnectionSchema(e)})}getConnection(e){return st.get(Mu).get(e)}getConnectionSchema(e){var d;let{default_database:n,databases:i,default_schema:o}=e,s=new hy,c=i.find(f=>f.name===n||i.length===1);if(((d=c??i[0])==null?void 0:d.schemas.some(f=>Pl(f.name)))??!1){for(let f of i){let m=f.name===(c==null?void 0:c.name),g=f.schemas.flatMap(w=>w.tables);s.addDatabase([f.name],f);for(let w of g)m?s.addTable([],w):s.addTable([f.name],w)}return{shouldAddLocalTables:!1,schema:s.build(),defaultSchema:c==null?void 0:c.name}}if(c)for(let f of c.schemas){s.addSchema([f.name],f);for(let m of f.tables)s.addTable([f.name],m)}for(let f of i){s.addDatabase([f.name],f);for(let m of f.schemas){s.addSchema([f.name,m.name],m);for(let g of m.tables)s.addTable([f.name,m.name],g)}}return{shouldAddLocalTables:!0,schema:s.build(),defaultSchema:o??void 0}}getInternalDialect(e){let n=this.getConnection(e);return n?n.dialect:null}getDialect(e){let n=this.getConnection(e);return n?gy(n)??ef:ef}getCompletionSource(e){let n=this.getConnection(e);if(!n)return null;let i=()=>st.get(MS),o=this.cache.getOrCreate(n);return{dialect:gy(n)??ef,schema:o.shouldAddLocalTables?{...o.schema,...i()}:o.schema,defaultSchema:o.defaultSchema,defaultTable:AS(n)}}};function AS(e){if(e.databases.length!==1)return;let n=e.databases[0];if(n.schemas.length!==1)return;let i=n.schemas[0];if(i.tables.length===1)return i.tables[0].name}const Po=new NS;function yy(e){return e.field(ai)}function IS(){return e=>{let n=yy(e.state).engine,i=Po.getCompletionSource(n);return i&&U4(i)(e)||null}}function jS(){return e=>{let n=yy(e.state).engine,i=Po.getDialect(n);return e.matchBefore(/\.\w*/)?null:Y4(i,!0,(o,s)=>({label:o,type:s,info:async()=>{let c=(await qS())[o.toLocaleLowerCase()];if(!c)return null;let d=document.createElement("div");return d.innerHTML=nS.keyword({keyword:o,info:c}),d}}))(e)}}var qS=ri(async()=>{let e=await ue(()=>import("./common-keywords-BHvaaK2U.js").then(async i=>(await i.__tla,i)),[],import.meta.url),n=await ue(()=>import("./duckdb-keywords-DUk0aI0h.js").then(async i=>(await i.__tla,i)),[],import.meta.url);return{...e.default.keywords,...n.default.keywords}});h_=function(e){let n=e.storage||fs;return{getItem(i,o){try{let s=n.getItem(i);if(!s)return o;let c=JSON.parse(s);return e.fromSerializable(c)}catch(s){return Pe.warn(`Error getting ${i} from storage`,s),o}},setItem:(i,o)=>{n.setItem(i,JSON.stringify(e.toSerializable(o)))},removeItem:i=>{n.removeItem(i)}}},ju=mh(()=>fs);var zS=Kt(Br(),1),vy=Ru("marimo:notebook-sql-mode","default",ju);function FS(){let e=(0,zS.c)(3),[n,i]=o2(vy),o;return e[0]!==i||e[1]!==n?(o={sqlMode:n,setSQLMode:i},e[0]=i,e[1]=n,e[2]=o):o=e[2],o}function by(){return st.get(vy)}var BS=Qd,VS="DuckDB",wy=new hu;function tf(){return st.get(co).latestEngineSelected}let _y;Yu=(cf=class{constructor(){Ce(this,"parser",new Zh);Ce(this,"type","sql");this.sqlModeEnabled=!0}get defaultMetadata(){return{...this.parser.defaultMetadata,engine:tf()||"__marimo_duckdb"}}get defaultCode(){let e=tf();return e&&e!=="__marimo_duckdb"?`_df = mo.sql(f"""SELECT * FROM """, engine=${e})`:this.parser.defaultCode}transformIn(e){this.parser.defaultMetadata.engine=tf()||"__marimo_duckdb";let n=this.parser.transformIn(e),i=n.metadata;return i.engine&&i.engine!=="__marimo_duckdb"&&ty(i.engine),[n.code,n.offset,i]}transformOut(e,n){let i=this.parser.transformOut(e,n);return[i.code,i.offset]}isSupported(e){return this.parser.isSupported(e)}getExtension(e,n,i,o,s){var d;let c=[wy.of(L2({dialect:BS})),ao.of([{key:"Tab",run:f=>A4(f)||v4(f),preventDefault:!0}]),bu({defaultKeymap:!1,activateOnTyping:!0,override:[IS(),Uk,jS()]})];if(((d=s==null?void 0:s.diagnostics)==null?void 0:d.sql_linter)??!1){let f=st.get(Z4),m=new _y({getParserOptions:g=>({database:ky(g)??VS})});c.push(uS({enableLinting:!0,linterConfig:{delay:250,parser:m},enableGutterMarkers:!0,gutterConfig:{backgroundColor:"#3b82f6",errorBackgroundColor:"#ef4444",hideWhenNotFocused:!0,parser:m},hoverConfig:{schema:WS,hoverTime:300,enableKeywords:!0,enableTables:!0,enableColumns:!0,parser:m,theme:Jg(f)}}),en.updateListener.of(g=>{g.focusChanged&&m.setFocusState(g.view.hasFocus)}))}return this.sqlModeEnabled&&c.push(KS()),c}},Ce(cf,"fromQuery",e=>Zh.fromQuery(e)),cf),_y=class extends Xl{constructor(){super(...arguments);Ce(this,"validationTimeout",null);Ce(this,"VALIDATION_DELAY_MS",300);Ce(this,"isFocused",!1)}setFocusState(n){this.isFocused=n}async validateWithDelay(n,i,o){return this.validationTimeout&&window.clearTimeout(this.validationTimeout),new Promise(s=>{this.validationTimeout=window.setTimeout(async()=>{var c;if(!this.isFocused){s([]);return}try{let d=await Sy(n,i,o,by());if(d.error){Pe.error("Failed to validate SQL",{error:d.error}),s([]);return}s(((c=d.parse_result)==null?void 0:c.errors)??[])}catch(d){Pe.error("Failed to validate SQL",{error:d}),s([])}},this.VALIDATION_DELAY_MS)})}async validateSql(n,i){let o=Lo(i.state);if(!this.isFocused)return[];if(!mo.has(o.engine))return super.validateSql(n,i);let s=ky(i.state);return this.validateWithDelay(n,o.engine,s)}async parse(n,i){return Lo(i.state).engine==="__marimo_duckdb"?{success:!0,errors:[]}:super.parse(n,i)}};function xy(e,n){e.dispatch({effects:wy.reconfigure(L2({dialect:n}))})}function HS(e,n){xy(e,Po.getDialect(n))}function $S(e){let n=Lo(e.state).engine;xy(e,Po.getDialect(n))}function Lo(e){return e.field(ai)}function WS(e){let n=Lo(e.state).engine,i=Po.getCompletionSource(n);return i!=null&&i.schema?i.schema:{}}function ky(e){let n=Lo(e).engine;return Cy(n)}function Cy(e){var n;switch((n=Po.getInternalDialect(e))==null?void 0:n.toLowerCase()){case"postgresql":case"postgres":return"PostgreSQL";case"db2":return"DB2";case"mysql":return"MySQL";case"sqlite":return"Sqlite";case"mssql":case"sqlserver":return"TransactSQL";case"duckdb":return"DuckDB";case"mariadb":return"MariaDB";case"cassandra":return"Noql";case"athena":return"Athena";case"bigquery":return"BigQuery";case"hive":return"Hive";case"redshift":return"Redshift";case"snowflake":return"Snowflake";case"flink":return"FlinkSQL";case"mongodb":return"Noql";default:return null}}var US=300;function KS(){let e,n=null;return en.updateListener.of(i=>{if(!i.docChanged)return;let o=by();if(o==="default")return;let s=Lo(i.state).engine;if(!mo.has(s))return;let c=i.state.doc.toString();e&&window.clearTimeout(e),e=window.setTimeout(async()=>{if(n===c)return;n=c;let d=i.view.state.facet(uo);if(c===""){ny(d);return}try{let f=Cy(s),m=(await Sy(c,s,f,o)).validate_result;m!=null&&m.error_message?_S({cellId:d,errorMessage:m.error_message,dialect:f}):ny(d)}catch(f){Pe.error("Failed to validate SQL",{error:f})}},US)})}async function Sy(e,n,i,o){let s=await Nm.request({onlyParse:o==="default",engine:n,dialect:i,query:e});if(s.error)throw Error(s.error);return s}var QS=ri(()=>new VC),GS=ri(()=>new Fu),JS=ri(()=>new Yu);dr={get python(){return QS()},get markdown(){return GS()},get sql(){return JS()}};function XS(){return Object.values(dr)}var At=Kt(pu(),1),nc="Checkbox",[YS,kR]=mR(nc),[ZS,nf]=YS(nc);function eE(e){let{__scopeCheckbox:n,checked:i,children:o,defaultChecked:s,disabled:c,form:d,name:f,onCheckedChange:m,required:g,value:w="on",internal_do_not_use_render:_}=e,[C,E]=gR({prop:i,defaultProp:s??!1,onChange:m,caller:nc}),[T,A]=At.useState(null),[V,H]=At.useState(null),W=At.useRef(!1),N=T?!!d||!!T.closest("form"):!0,Q={checked:C,disabled:c,setChecked:E,control:T,setControl:A,name:f,form:d,value:w,hasConsumerStoppedPropagationRef:W,required:g,defaultChecked:Bi(s)?!1:s,isFormControl:N,bubbleInput:V,setBubbleInput:H};return(0,B.jsx)(ZS,{scope:n,...Q,children:tE(_)?_(Q):o})}var Ey="CheckboxTrigger",Ty=At.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:i,...o},s)=>{let{control:c,value:d,disabled:f,checked:m,required:g,setControl:w,setChecked:_,hasConsumerStoppedPropagationRef:C,isFormControl:E,bubbleInput:T}=nf(Ey,e),A=u2(s,w),V=At.useRef(m);return At.useEffect(()=>{let H=c==null?void 0:c.form;if(H){let W=()=>_(V.current);return H.addEventListener("reset",W),()=>H.removeEventListener("reset",W)}},[c,_]),(0,B.jsx)(fm.button,{type:"button",role:"checkbox","aria-checked":Bi(m)?"mixed":m,"aria-required":g,"data-state":Ly(m),"data-disabled":f?"":void 0,disabled:f,value:d,...o,ref:A,onKeyDown:I2(n,H=>{H.key==="Enter"&&H.preventDefault()}),onClick:I2(i,H=>{_(W=>Bi(W)?!0:!W),T&&E&&(C.current=H.isPropagationStopped(),C.current||H.stopPropagation())})})});Ty.displayName=Ey;var rf=At.forwardRef((e,n)=>{let{__scopeCheckbox:i,name:o,checked:s,defaultChecked:c,required:d,disabled:f,value:m,onCheckedChange:g,form:w,..._}=e;return(0,B.jsx)(eE,{__scopeCheckbox:i,checked:s,defaultChecked:c,disabled:f,required:d,onCheckedChange:g,name:o,form:w,value:m,internal_do_not_use_render:({isFormControl:C})=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Ty,{..._,ref:n,__scopeCheckbox:i}),C&&(0,B.jsx)(Py,{__scopeCheckbox:i})]})})});rf.displayName=nc;var Ry="CheckboxIndicator",Oy=At.forwardRef((e,n)=>{let{__scopeCheckbox:i,forceMount:o,...s}=e,c=nf(Ry,i);return(0,B.jsx)(hR,{present:o||Bi(c.checked)||c.checked===!0,children:(0,B.jsx)(fm.span,{"data-state":Ly(c.checked),"data-disabled":c.disabled?"":void 0,...s,ref:n,style:{pointerEvents:"none",...e.style}})})});Oy.displayName=Ry;var Dy="CheckboxBubbleInput",Py=At.forwardRef(({__scopeCheckbox:e,...n},i)=>{let{control:o,hasConsumerStoppedPropagationRef:s,checked:c,defaultChecked:d,required:f,disabled:m,name:g,value:w,form:_,bubbleInput:C,setBubbleInput:E}=nf(Dy,e),T=u2(i,E),A=oR(c),V=yR(o);At.useEffect(()=>{let W=C;if(!W)return;let N=window.HTMLInputElement.prototype,Q=Object.getOwnPropertyDescriptor(N,"checked").set,pe=!s.current;if(A!==c&&Q){let P=new Event("click",{bubbles:pe});W.indeterminate=Bi(c),Q.call(W,Bi(c)?!1:c),W.dispatchEvent(P)}},[C,A,c,s]);let H=At.useRef(Bi(c)?!1:c);return(0,B.jsx)(fm.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??H.current,required:f,disabled:m,name:g,value:w,form:_,...n,tabIndex:-1,ref:T,style:{...n.style,...V,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Py.displayName=Dy;function tE(e){return typeof e=="function"}function Bi(e){return e==="indeterminate"}function Ly(e){return Bi(e)?"indeterminate":e?"checked":"unchecked"}let My;My=Kt(Br(),1),ql=At.forwardRef((e,n)=>{let i=(0,My.c)(10),o,s;i[0]===e?(o=i[1],s=i[2]):({className:o,...s}=e,i[0]=e,i[1]=o,i[2]=s);let c;i[3]===o?c=i[4]:(c=mu("flex items-center justify-center peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",o),i[3]=o,i[4]=c);let d;i[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,B.jsx)(Oy,{className:mu("flex items-center justify-center text-current max-h-[14px] overflow-hidden"),children:(0,B.jsx)(rR,{className:"h-4 w-4"})}),i[5]=d):d=i[5];let f;return i[6]!==s||i[7]!==n||i[8]!==c?(f=(0,B.jsx)(rf,{ref:n,className:c,...s,children:d}),i[6]=s,i[7]=n,i[8]=c,i[9]=f):f=i[9],f}),ql.displayName=rf.displayName,jw="_";var nE=new Set("__*.marimo.app.False.None.True.__peg_parser__.and.as.assert.async.await.break.class.continue.def.del.elif.else.except.finally.for.from.global.if.import.in.is.lambda.nonlocal.not.or.pass.raise.return.try.while.with.yield.None.setup".split("."));$m=function(e,n=!0){return e=e.trim(),e?(/^\d/.test(e)&&(e=`_${e}`),e=e.replaceAll(/\W/g,"_"),n?e.toLowerCase():e):"_"},n_=function(e,n){let i=new Set(n),o=e,s=d=>!i.has(d)&&!nE.has(d);if(s(e))return e;let c=1;for(;!s(o);)o=`${e}_${c}`,c++;return o},Fw=function(e,n){return Qm(e)?`cell-${n}`:e},Qm=function(e){return e?e==="_"||e==="__":!0};var rE=Kt(Br(),1);function iE(e){let n=(0,rE.c)(15),{minWidth:i,padding:o}=e,s=i===void 0?70:i,c=o===void 0?15:o,[d,f]=(0,At.useState)(50),m=(0,At.useRef)(null),g=(0,At.useRef)(null),w;n[0]===c?w=n[1]:(w=P=>{if(g.current&&m.current){let I=g.current;I.style.fontSize=window.getComputedStyle(m.current).fontSize,I.style.fontFamily=window.getComputedStyle(m.current).fontFamily,I.textContent=P;let $=I.offsetWidth;f($+c)}},n[0]=c,n[1]=w);let _=w,C;n[2]===_?C=n[3]:(C=()=>{var P;_(((P=m.current)==null?void 0:P.value)??"")},n[2]=_,n[3]=C),bR(C);let E;n[4]===_?E=n[5]:(E=P=>{_(P.target.value)},n[4]=_,n[5]=E);let T=`${d}px`,A=`${s}px`,V;n[6]!==T||n[7]!==A?(V={width:T,minWidth:A},n[6]=T,n[7]=A,n[8]=V):V=n[8];let H;n[9]!==E||n[10]!==V?(H={ref:m,type:"text",onChange:E,style:V},n[9]=E,n[10]=V,n[11]=H):H=n[11];let W=H,N;n[12]===Symbol.for("react.memo_cache_sentinel")?(N={ref:g,style:{visibility:"hidden",position:"absolute",whiteSpace:"pre"}},n[12]=N):N=n[12];let Q=N,pe;return n[13]===W?pe=n[14]:(pe={inputProps:W,spanProps:Q},n[13]=W,n[14]=pe),pe}var aE=Kt(Br(),1);function oE({currentQuotePrefix:e,checked:n,prefix:i}){let o=e;return n?e===""?o=i:e!=="rf"&&i!==e&&(o="rf"):e===i?o="":e==="rf"&&(o=i==="r"?"f":"r"),o}const sE=()=>{let e=(0,aE.c)(2),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,B.jsxs)("section",{className:"flex flex-col gap-0.5",children:[(0,B.jsxs)("header",{className:"flex items-center gap-1",children:[(0,B.jsx)("code",{className:"text-xs px-1 py-0.5 bg-(--slate-2) rounded",children:"r"}),(0,B.jsx)("span",{className:"font-semibold",children:"Raw String"})]}),(0,B.jsx)("p",{className:"text-sm text-muted-foreground",children:"Write LaTeX without escaping special characters"}),(0,B.jsx)("pre",{className:"text-xs bg-(--slate-2) p-2 rounded",children:"\\alpha \\beta"})]}),e[0]=n):n=e[0];let i;return e[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,B.jsxs)("div",{className:"flex flex-col gap-3.5",children:[n,(0,B.jsxs)("section",{className:"flex flex-col gap-0.5",children:[(0,B.jsxs)("header",{className:"flex items-center gap-1",children:[(0,B.jsx)("code",{className:"text-xs px-1 py-0.5 bg-(--slate-2) rounded",children:"f"}),(0,B.jsx)("span",{className:"font-semibold",children:"Format String"})]}),(0,B.jsx)("p",{className:"text-sm text-muted-foreground",children:"Interpolate Python values"}),(0,B.jsxs)("pre",{className:"text-xs bg-(--slate-2) p-2 rounded",children:["Hello ","{name}","! \u{1F601}"]})]})]}),e[1]=i):i=e[1],i};var lE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eClickHouse%3c/title%3e%3cpath%20d='M21.333%2010H24v4h-2.667ZM16%201.335h2.667v21.33H16Zm-5.333%200h2.666v21.33h-2.666ZM0%2022.665V1.335h2.667v21.33zm5.333-21.33H8v21.33H5.333Z'/%3e%3c/svg%3e",cE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eDatabricks%3c/title%3e%3cpath%20d='M.95%2014.184L12%2020.403l9.919-5.55v2.21L12%2022.662l-10.484-5.96-.565.308v.77L12%2024l11.05-6.218v-4.317l-.515-.309L12%2019.118l-9.867-5.653v-2.21L12%2016.805l11.05-6.218V6.32l-.515-.308L12%2011.974%202.647%206.681%2012%201.388l7.76%204.368.668-.411v-.566L12%200%20.95%206.27v.72L12%2013.207l9.919-5.55v2.26L12%2015.52%201.516%209.56l-.565.308Z'/%3e%3c/svg%3e",uE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAGcElEQVR4nNxZa2wcVxU+99557M6+vLazj6xjO6+maWVTl0YpLU1DU9KARNqooQhFVYJUqUWgiocqIVRESPlRoEhIqYoqgSiCItqQPkAEKUWQtlGSJtAY00R5mTjZTfze94x3HvdedMdZnKgS6s7O2kk/a7R3xvY933fOd874yhhucCyYAIWA9IOH2r+35/HUnjU96sBC8fAERQLpj0+mXjdeXM6rzy/no88uK6zolHu97EX8p/f/IWHAv38i9bsH+kIPo/ozhAJBgpR9J419je437xb62Zc7n/tcf+gRsebADYQAxLW2N/ApL/vNq4AdA7Ht2/piT4q15fAp1wEYAGEALYA18TzT1TXQ09O75qPuKbWS8NW4Lan27/pM4gWrBIgFnaIDvKZIpPPKt+nlgpMTi0q5PKqoqvZR950XAREZaz/fmHmFOFijwGHkDDu5PKGs1SlQ5gAAQ+S9U9Y/xM+Wy+WxRvaeFwE770z+OBNQbmYWwPlp63BPh3q7XQaCxAi50gP7Tldf87J3ywVszEQ2bumOf5WZAAajeWoDJjYOMM5BCECEw9miefxwduaol/1b2sQdCon/8BOZX3ETYWYiODFhvrNUC6ylFgJqzl27DxV+xD3GaGkFnl6deS4G8mJqAmRrtaGkoqxiJnazPpt9gPNVa3DvqfKrXmO0rAJ3RSLrHojHd4jMMwvBSMn+d1pSVrv37oXdz50Hx79JOXgtQGsqIAEiT8V7djtVzEiQ4w+K+t9uCmn3uNmX5rL/l8ullw5c1g80E6slFXgkuuixJVKw3y5jxEzExnV7pB3k7rr3hZDBiZl3njk+9u1mY/legSgm0cfiXbtcTziYHJmovNEXC99PZzAV41KMzaLtXGBVmaQltWfCdPLNxPNdwFdii58KYykhXM2AO5MGvTSAgw9aLnUx8zlomCxTKdeHdP14s/F8tdAiIie2RpPfAPcPNYAjRumNOwLRLZwL2rPgHAGnCF6aHPuJ5869Cr5WYFs0/S0ZkTDns9SK1BltI/JicYcEcXAX8L5R+vOblanf+hHTNwFtWGr7QiT9BAPklnWoVt5/qxrZILQI7wvyjHPrjKkfeL0y9QID76Pzavhmoa3RzNdkLMcYEKCA4aJtncjIgVs4oFnbCCGASDtRVrw3Uz7sV1xfBKiAlc2RJV+vkz9vWYMZWesTa1ER5vYEgot27YPvjJ/dXGBOwY+44JeAdaHkQxpRU9QVQGDIrPz1FjV+f/3eFcaRFcdKosicsh8x6/ClBzaEu7YLoqJNDUonVKR0UCTuRT9w9wshpAzb+qmcY2b9iFlH0xVow0r81sCiz9azfdCY3rNWSzw8a5/ZZ2ItPv9UmfiFP7Tn0HQFPhlMbuKIyOKkhThjNc4rBCtRJl5jrvO5W4mSY+beMib/4A/tOTQtYCCY2kTdszmHE7X8/tWBTtf7s7S528IYELxcuviMycWZzF80baHVgdT6/00fu3oso7Tdwa5Ypt7Aw5Zx7M1K7pf+UL4WTVWgQwqnQ5LWLexTpfblEFaT7Jrsc3GMLDw7+a9tFDj1j/YcmqpAWkn06yhERaYP6ZdeHtC6tl6deYPx4q7xY5+/YFfP+kf5WniqQELp6J6hNaNdia8s4TCojkmrjOYVHGin7qsLQdYqvb976uijk455yX/ac/AkYNLKZx9Nb/kNQkAsLJNBW9+/Uk3eJzI/ZlUG36qcfv6MXf3nmtjtO/ZO/v27/tOeA/L6iyu0pfdu7/riATF93s0fffq+toGdM5zmJ+ziuRgJpWSEgy/mXlk/Zk2f8ZfytfDcxOeM828XHH04TAIJjOTgDAlIiPNEmgQTw9Xh146UBn/aavLgVUAmkLk5IkdXFh09l62NHloaWblZjFGMONjMrsTUjqV5qzjuP90Pw9MUmrKms/2x276U0pbcO2Hlh9qUzj6GMJiclk/q5/b+Ovfqg+P29LD/dD+MhnsgSMLhnlDvPQVrOrcmfufjF2cuvI0BqVlj5GDBKmQZsJbMe9+BAZP1yU3fF+tloVV3LzSfhtEbXrWhO7Ri3ULz8PwmzoRXfTqr/+ddf+k0Dk8CEGBMOWccmC8H82bgSUAmfNO6S/q5Bc8+eBUQDXWtz1VP36gCMC4xnfPrZFw2/I9uLZi6u2aXs7ZdGWkNpcbQcAU0LX2XYYxeF/YBLwIYs0twndjnY4H/BgAA//95CrBYRwImwgAAAABJRU5ErkJggg==",dE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eDuckDB%3c/title%3e%3cpath%20d='M12%200C5.363%200%200%205.363%200%2012s5.363%2012%2012%2012%2012-5.363%2012-12S18.637%200%2012%200zM9.502%207.03a4.974%204.974%200%200%201%204.97%204.97%204.974%204.974%200%200%201-4.97%204.97A4.974%204.974%200%200%201%204.532%2012a4.974%204.974%200%200%201%204.97-4.97zm6.563%203.183h2.351c.98%200%201.787.782%201.787%201.762s-.807%201.789-1.787%201.789h-2.351v-3.551z'/%3e%3c/svg%3e",fE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGoogle%20BigQuery%3c/title%3e%3cpath%20d='M5.676%2010.595h2.052v5.244a5.892%205.892%200%200%201-2.052-2.088v-3.156zm18.179%2010.836a.504.504%200%200%201%200%20.708l-1.716%201.716a.504.504%200%200%201-.708%200l-4.248-4.248a.206.206%200%200%201-.007-.007c-.02-.02-.028-.045-.043-.066a10.736%2010.736%200%200%201-6.334%202.065C4.835%2021.599%200%2016.764%200%2010.799S4.835%200%2010.8%200s10.799%204.835%2010.799%2010.8c0%202.369-.772%204.553-2.066%206.333.025.017.052.028.074.05l4.248%204.248zm-5.028-10.632a8.015%208.015%200%201%200-8.028%208.028h.024a8.016%208.016%200%200%200%208.004-8.028zm-4.86%204.98a6.002%206.002%200%200%200%202.04-2.184v-1.764h-2.04v3.948zm-4.5.948c.442.057.887.08%201.332.072.4.025.8.025%201.2%200V7.692H9.468v9.035z'/%3e%3c/svg%3e",pE=""+new URL("iceberg-COKYXo-A.png",import.meta.url).href,mE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eMotherDuck%3c/title%3e%3cg%20transform='scale(0.85)%20translate(0,%202)'%3e%3cpath%20fill='%23ff9538'%20d='M1.71%2015.86s7.45%205.32%207.89%205.59c.44.27%201.08.33%201.64.11.56-.22.98-.71%201.11-1.21s1.85-9.49%201.85-9.49c.02-.12.07-.48-.13-.83-.27-.47-.86-.71-1.38-.57-.42.12-.64.44-.7.55-.09.17-.26.45-.57.7-.24.19-.47.3-.58.34-.96.38-2.02.06-2.61-.72-.38-.48-1.04-.67-1.64-.43-.6.24-.94.84-.89%201.45.11.98-.44%201.94-1.4%202.32-.51.21-1.06.21-1.54.05-.12-.03-.51-.12-.89.09-.48.26-.74.84-.61%201.37.09.39.38.62.48.69z'%20/%3e%3cpath%20fill='%23ff9538'%20d='M14.12%204.21s2.65%208.76%202.83%209.24c.19.48.66.92%201.23%201.09.58.16%201.21.03%201.62-.28.41-.31%207.25-6.39%207.25-6.39.09-.08.35-.34.4-.74.07-.53-.25-1.09-.75-1.29-.4-.16-.78-.04-.89%200-.18.08-.48.2-.88.2-.3.01-.55-.05-.67-.08-.99-.28-1.64-1.18-1.63-2.16-.01-.61-.42-1.17-1.04-1.35-.62-.18-1.26.09-1.59.6-.51.84-1.53%201.27-2.52.99-.53-.15-.96-.48-1.25-.91-.07-.09-.33-.4-.76-.48-.54-.09-1.1.22-1.32.71-.16.37-.08.72-.04.84z'%20/%3e%3c/g%3e%3c/svg%3e",hE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eMySQL%3c/title%3e%3cpath%20d='M16.405%205.501c-.115%200-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77%2018.695h-.927a50.854%2050.854%200%2000-.27-4.41h-.008l-1.41%204.41H2.45l-1.4-4.41h-.01a72.892%2072.892%200%2000-.195%204.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335%204.064h.008l1.347-4.064h1.095c.242%202.015.384%203.86.428%205.53zm4.017-4.08c-.378%202.045-.876%203.533-1.492%204.46-.482.716-1.01%201.073-1.583%201.073-.153%200-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268%200%20.483-.075.647-.222.197-.18.295-.382.295-.605%200-.155-.077-.47-.23-.944L6.23%2014.615h.91l.727%202.36c.164.536.233.91.205%201.123.4-1.064.678-2.227.835-3.483zm12.325%204.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253%200-1.83-.718-2.746-2.155-2.746-.704%200-1.254.232-1.65.697-.43.508-.646%201.256-.646%202.245%200%20.972.19%201.686.574%202.14.35.41.877.615%201.583.615.264%200%20.506-.033.725-.098l1.325.772.36-.622zM15.5%2017.588c-.225-.36-.337-.94-.337-1.736%200-1.393.424-2.09%201.27-2.09.443%200%20.77.167.977.5.224.362.336.936.336%201.723%200%201.404-.424%202.108-1.27%202.108-.445%200-.77-.167-.978-.5zm-1.658-.425c0%20.47-.172.856-.516%201.156-.344.3-.803.45-1.384.45-.543%200-1.064-.172-1.573-.515l.237-.476c.438.22.833.328%201.19.328.332%200%20.593-.073.783-.22a.754.754%200%2000.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177%200-.45.157-.81.47-1.085.315-.278.72-.415%201.22-.415.512%200%20.98.136%201.4.41l-.213.476a2.726%202.726%200%2000-1.064-.23c-.283%200-.502.068-.654.206a.685.685%200%2000-.248.524c0%20.328.234.61.666.85.393.215%201.187.67%201.187.67.433.305.648.63.648%201.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223%203.223%200%2000-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867%208.867%200%2000-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69%2017.69%200%2001-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422%201.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146%201.693.194%202.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445%203.445%200%2001-.35-.4%208.76%208.76%200%2001-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188%201.01-.027.007-.014%200-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478%202.478%200%2001-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953%205.953%200%20012.085%202.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z'/%3e%3c/svg%3e",Ny=""+new URL("postgresql-q8VEBKGg.svg",import.meta.url).href,gE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eAmazon%20Redshift%3c/title%3e%3cpath%20d='M16.639%209.932a.822.822%200%200%201-.822-.82.823.823%200%200%201%201.645%200c0%20.452-.37.82-.823.82m-2.086%204.994a.823.823%200%200%201-.822-.822.822.822%200%200%201%201.645%200%20.822.822%200%200%201-.823.822m-5.004-.833a.822.822%200%201%201%20.002-1.644.822.822%200%200%201-.002%201.644m-2.083%204.578a.823.823%200%200%201-.823-.82.823.823%200%200%201%201.645%200c0%20.452-.37.82-.822.82m9.173-11.236a1.68%201.68%200%200%200-1.68%201.676c0%20.566.285%201.066.718%201.37l-.782%201.982a1.674%201.674%200%200%200-1.923%201.104l-1.753-.398a1.675%201.675%200%200%200-3.348.103c0%20.432.169.823.438%201.12l-.764%201.79c-.028-.001-.053-.008-.08-.008a1.68%201.68%200%200%200-1.68%201.676%201.68%201.68%200%200%200%203.36%200c0-.593-.312-1.112-.778-1.41l.674-1.579c.161.052.33.088.508.088.661%200%201.228-.386%201.502-.94l1.856.42a1.68%201.68%200%200%200%203.327-.325c0-.5-.224-.943-.574-1.25l.822-2.083c.053.005.104.016.157.016a1.68%201.68%200%200%200%201.68-1.676%201.68%201.68%200%200%200-1.68-1.676M12%2023.145c-4.17%200-7.286-1.252-7.286-2.37V4.79C6.14%205.938%209.131%206.547%2012%206.547c2.869%200%205.86-.609%207.286-1.756v15.983c0%201.12-3.116%202.37-7.286%202.37M12%20.856c4.293%200%207.286%201.274%207.286%202.419%200%201.143-2.993%202.418-7.286%202.418-4.293%200-7.286-1.275-7.286-2.418C4.714%202.129%207.707.855%2012%20.855m8.143%202.419C20.143%201.147%2015.947%200%2012%200%208.052%200%203.857%201.147%203.857%203.274l.002.01h-.002v17.49C3.857%2022.87%208.052%2024%2012%2024c3.947%200%208.143-1.13%208.143-3.226V3.284h-.002l.002-.01'/%3e%3c/svg%3e",yE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eSnowflake%3c/title%3e%3cpath%20d='M24%203.459c0%20.646-.418%201.18-1.141%201.18-.723%200-1.142-.534-1.142-1.18%200-.647.419-1.18%201.142-1.18.723%200%201.141.533%201.141%201.18zm-.228%200c0-.533-.38-.951-.913-.951s-.913.38-.913.95c0%20.533.38.952.913.952.57%200%20.913-.419.913-.951zm-1.37-.533h.495c.266%200%20.456.152.456.38%200%20.153-.076.229-.19.305l.19.266v.038h-.266l-.19-.266h-.229v.266h-.266zm.495.228h-.229v.267h.229c.114%200%20.152-.038.152-.114.038-.077-.038-.153-.152-.153zM7.602%2012.4c.038-.151.076-.304.076-.456%200-.114-.038-.228-.038-.342-.114-.343-.304-.647-.646-.838l-4.87-2.777c-.685-.38-1.56-.152-1.94.533-.381.685-.153%201.56.532%201.94l2.701%201.56-2.701%201.56c-.685.38-.913%201.256-.533%201.94.38.685%201.256.914%201.94.533l4.832-2.777c.343-.267.571-.533.647-.876zm1.332%202.626c-.266-.038-.57.038-.837.19l-4.832%202.777c-.685.38-.913%201.256-.532%201.94.38.686%201.255.914%201.94.533l2.701-1.56v3.12c0%20.8.647%201.408%201.446%201.408.799%200%201.407-.647%201.407-1.408v-5.592c0-.761-.57-1.37-1.293-1.408zm4.946-6.088c.266.038.57-.038.837-.19l4.832-2.777c.685-.38.913-1.256.532-1.94-.38-.686-1.255-.914-1.94-.533l-2.701%201.56V1.975c0-.799-.647-1.408-1.446-1.408-.799%200-1.446.609-1.446%201.408V7.53c0%20.76.609%201.37%201.332%201.407zM3.265%205.97l4.832%202.777c.266.152.533.19.837.19.723-.038%201.331-.684%201.331-1.407V1.975c0-.799-.646-1.408-1.407-1.408-.799%200-1.446.647-1.446%201.408v3.12l-2.701-1.56c-.685-.38-1.56-.152-1.94.533-.419.646-.19%201.521.494%201.902zm9.093%206.011a.412.412%200%2000-.114-.266l-.57-.571a.346.346%200%2000-.267-.114.412.412%200%2000-.266.114l-.571.57a.411.411%200%2000-.114.267c0%20.076.038.19.114.267l.57.57a.345.345%200%2000.267.114c.076%200%20.19-.038.266-.114l.571-.57a.412.412%200%2000.114-.267zm1.598.533L11.94%2014.53c-.039.038-.153.114-.229.114h-.608a.411.411%200%2001-.267-.114L8.82%2012.514a.408.408%200%2001-.076-.229v-.608c0-.076.038-.19.114-.267l2.016-2.016a.41.41%200%2001.267-.114h.608a.41.41%200%2001.267.114l2.016%202.016a.347.347%200%2001.114.267v.608c-.076.077-.114.19-.19.229zm5.593%205.44l-4.832-2.777c-.266-.152-.57-.19-.837-.152-.723.038-1.332.684-1.332%201.408v5.554c0%20.8.647%201.408%201.408%201.408.799%200%201.446-.647%201.446-1.408v-3.12l2.7%201.56c.686.38%201.561.152%201.941-.533.419-.646.19-1.521-.494-1.94zm2.549-7.533l-2.701%201.56%202.7%201.56c.686.38.914%201.256.533%201.94-.38.685-1.255.913-1.94.533l-4.832-2.778a1.644%201.644%200%2001-.647-.798c-.037-.153-.076-.305-.076-.457%200-.114.039-.228.039-.342.114-.343.342-.647.646-.837l4.832-2.778c.685-.38%201.56-.152%201.94.533.457.609.19%201.484-.494%201.864'/%3e%3c/svg%3e",vE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eApache%20Spark%3c/title%3e%3cpath%20d='M10.812%200c-.425.013-.845.215-1.196.605a3.593%203.593%200%2000-.493.722c-.355.667-.425%201.415-.556%202.143a551.9%20551.9%200%2000-.726%204.087c-.027.16-.096.227-.244.273C5.83%208.386%204.06%208.94%202.3%209.514c-.387.125-.773.289-1.114.506-1.042.665-1.196%201.753-.415%202.71.346.422.79.715%201.284.936%201.1.49%202.202.976%203.3%201.47.019.01.036.013.053.019h-.004l1.306.535c0%20.023.002.045%200%20.073-.2%202.03-.39%204.063-.58%206.095-.04.419-.012.831.134%201.23.317.87%201.065%201.148%201.881.701.372-.204.666-.497.937-.818%201.372-1.623%202.746-3.244%204.113-4.872.111-.133.205-.15.363-.098.349.117.697.231%201.045.347h.001c.02.012.045.02.073.03l.142.042c1.248.416%202.68.775%203.929%201.19.4.132.622.164%201.045.098.311-.048.592-.062.828-.236.602-.33.995-.957.988-1.682-.005-.427-.154-.813-.35-1.186-.82-1.556-1.637-3.113-2.461-4.666-.078-.148-.076-.243.037-.375%201.381-1.615%202.756-3.236%204.133-4.855.272-.32.513-.658.653-1.058.308-.878-.09-1.57-1-1.741a2.783%202.783%200%2000-1.235.069c-1.974.521-3.947%201.041-5.918%201.57-.175.047-.26.015-.355-.144a353.08%20353.08%200%2000-2.421-4.018%204.61%204.61%200%2000-.652-.849c-.371-.37-.802-.549-1.227-.536zm.172%203.703a.592.592%200%2001.189.211c.87%201.446%201.742%202.89%202.609%204.338.07.118.135.16.277.121%201.525-.41%203.052-.813%204.579-1.217.367-.098.735-.193%201.103-.289a.399.399%200%2001-.1.2c-1.259%201.48-2.516%202.962-3.779%204.438-.11.13-.12.22-.04.37.937%201.803%201.768%203.309%202.498%204.76l-3.696-1.019c-.538-.18-1.077-.358-1.615-.539-.163-.055-.25-.03-.36.1-1.248%201.488-2.504%202.97-3.759%204.454a.398.398%200%2001-.18.132c.035-.378.068-.757.104-1.136.149-1.572.297-3.144.451-4.716-.03-.318.117-.405-.322-.545-1.493-.593-3.346-1.321-4.816-1.905a.595.595%200%2001.24-.134c1.797-.57%203.595-1.14%205.394-1.705.127-.04.199-.092.211-.233.013-.148.05-.294.076-.441.241-1.363.483-2.726.726-4.088.068-.386.14-.771.21-1.157z'/%3e%3c/svg%3e",bE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eSQLite%3c/title%3e%3cpath%20d='M21.678.521c-1.032-.92-2.28-.55-3.513.544a8.71%208.71%200%200%200-.547.535c-2.109%202.237-4.066%206.38-4.674%209.544.237.48.422%201.093.544%201.561a13.044%2013.044%200%200%201%20.164.703s-.019-.071-.096-.296l-.05-.146a1.689%201.689%200%200%200-.033-.08c-.138-.32-.518-.995-.686-1.289-.143.423-.27.818-.376%201.176.484.884.778%202.4.778%202.4s-.025-.099-.147-.442c-.107-.303-.644-1.244-.772-1.464-.217.804-.304%201.346-.226%201.478.152.256.296.698.422%201.186.286%201.1.485%202.44.485%202.44l.017.224a22.41%2022.41%200%200%200%20.056%202.748c.095%201.146.273%202.13.5%202.657l.155-.084c-.334-1.038-.47-2.399-.41-3.967.09-2.398.642-5.29%201.661-8.304%201.723-4.55%204.113-8.201%206.3-9.945-1.993%201.8-4.692%207.63-5.5%209.788-.904%202.416-1.545%204.684-1.931%206.857.666-2.037%202.821-2.912%202.821-2.912s1.057-1.304%202.292-3.166c-.74.169-1.955.458-2.362.629-.6.251-.762.337-.762.337s1.945-1.184%203.613-1.72C21.695%207.9%2024.195%202.767%2021.678.521m-18.573.543A1.842%201.842%200%200%200%201.27%202.9v16.608a1.84%201.84%200%200%200%201.835%201.834h9.418a22.953%2022.953%200%200%201-.052-2.707c-.006-.062-.011-.141-.016-.2a27.01%2027.01%200%200%200-.473-2.378c-.121-.47-.275-.898-.369-1.057-.116-.197-.098-.31-.097-.432%200-.12.015-.245.037-.386a9.98%209.98%200%200%201%20.234-1.045l.217-.028c-.017-.035-.014-.065-.031-.097l-.041-.381a32.8%2032.8%200%200%201%20.382-1.194l.2-.019c-.008-.016-.01-.038-.018-.053l-.043-.316c.63-3.28%202.587-7.443%204.8-9.791.066-.069.133-.128.198-.194Z'/%3e%3c/svg%3e",wE="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Generated%20by%20Pixelmator%20Pro%203.6.17%20--%3e%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Option2SymbolB'%3e%3cg%20id='Layer1-2'%3e%3cg%20id='Group'%20opacity='0.4'%3e%3cpath%20id='Path'%20fill='%23d53c97'%20stroke='none'%20d='M%2017.016802%2012.188573%20C%2017.016802%209.607646%2015.86018%207.293022%2014.039526%205.731081%20C%2013.942595%205.70038%2013.844628%205.671406%2013.745972%205.645189%20C%2013.131133%205.809095%2012.54265%206.059378%2011.998103%206.388559%20C%2013.964327%207.575191%2015.281006%209.730104%2015.281006%2012.188573%20C%2015.279476%2014.563734%2014.033739%2016.764488%2011.998103%2017.988243%20C%2012.542634%2018.317537%2013.131119%2018.567936%2013.745972%2018.731958%20C%2013.844628%2018.705742%2013.942595%2018.67642%2014.039526%2018.645721%20C%2015.86018%2017.084126%2017.016802%2014.769501%2017.016802%2012.188573%20Z'/%3e%3cpath%20id='path1'%20fill='%23d53c97'%20stroke='none'%20d='M%2013.897406%205.609659%20L%2013.894991%205.60759%20C%2013.844973%205.619663%2013.7953%205.631737%2013.745972%205.645189%20C%2013.79599%205.631737%2013.847043%205.622078%2013.897406%205.609659%20Z'/%3e%3cpath%20id='path2'%20fill='%23d53c97'%20stroke='none'%20d='M%201.735796%2012.188573%20C%201.735796%209.164728%203.728925%206.59622%206.470945%205.729357%20C%207.554634%204.797861%208.856011%204.155121%2010.254373%203.860756%20C%209.680216%203.740549%209.095179%203.679977%208.508574%203.68%20C%203.816888%203.68%20-0%207.496887%20-0%2012.188573%20C%20-0%2016.880259%203.816888%2020.697147%208.508574%2020.697147%20C%209.0952%2020.697229%209.680255%2020.636539%2010.254373%2020.516048%20C%208.855971%2020.221794%207.554568%2019.579041%206.470945%2018.647446%20C%203.728925%2017.780582%201.735796%2015.213453%201.735796%2012.188573%20Z'/%3e%3cpath%20id='path3'%20fill='%23d53c97'%20stroke='none'%20d='M%2013.745972%2018.731958%20C%2013.7953%2018.745068%2013.844973%2018.757484%2013.894991%2018.769558%20C%2013.894991%2018.769558%2013.896715%2018.769558%2013.897406%2018.767488%20C%2013.847043%2018.754379%2013.79599%2018.745411%2013.745972%2018.731958%20Z'/%3e%3c/g%3e%3cpath%20id='path4'%20fill='%23ff3b65'%20stroke='none'%20d='M%2020.508402%2012.188573%20C%2020.508402%209.606611%2019.351088%207.290262%2017.5294%205.729357%20C%2016.301817%205.342468%2014.989366%205.313629%2013.745972%205.646223%20C%2016.636665%206.418224%2018.772606%209.058484%2018.772606%2012.189609%20C%2018.772606%2015.320732%2016.636665%2017.960991%2013.745972%2018.731958%20C%2014.98947%2019.064316%2016.301983%2019.034998%2017.5294%2018.647446%20C%2019.419907%2017.034296%2020.508638%2014.673781%2020.508402%2012.188573%20Z'/%3e%3cpath%20id='path5'%20fill='%23ff3b65'%20stroke='none'%20d='M%209.962543%2018.647446%20C%207.220525%2017.780582%205.227395%2015.213453%205.227395%2012.188573%20C%205.227395%209.163693%207.220525%206.59622%209.962543%205.729357%20C%2011.046233%204.797861%2012.34761%204.155121%2013.745972%203.860756%20C%2013.171818%203.74053%2012.586779%203.679956%2012.000173%203.68%20C%207.308832%203.68%203.491599%207.496887%203.491599%2012.188573%20C%203.491599%2016.880259%207.308487%2020.697147%2012.000173%2020.697147%20C%2012.586799%2020.697247%2013.171857%2020.636557%2013.745972%2020.516048%20C%2012.34757%2020.221794%2011.046167%2019.579041%209.962543%2018.647446%20Z'/%3e%3cpath%20id='path6'%20fill='%23383838'%20stroke='none'%20d='M%2015.491772%203.68%20C%2010.800431%203.68%206.983198%207.496887%206.983198%2012.188573%20C%206.983198%2016.880259%2010.800086%2020.697147%2015.491772%2020.697147%20C%2020.183456%2020.697147%2024%2016.880259%2024%2012.188573%20C%2024%207.496887%2020.183456%203.68%2015.491772%203.68%20Z%20M%2022.264549%2012.188573%20C%2022.264549%2015.923018%2019.226215%2018.961351%2015.491772%2018.961351%20C%2011.757326%2018.961351%208.718994%2015.923018%208.718994%2012.188573%20C%208.718994%208.454128%2011.757326%205.415796%2015.491772%205.415796%20C%2019.226215%205.415796%2022.264549%208.454128%2022.264549%2012.188573%20Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_E=""+new URL("trino-DFsJbQoT.svg",import.meta.url).href,xE=Kt(Br(),1),kE={sqlite:bE,duckdb:dE,motherduck:mE,postgres:Ny,postgresql:Ny,mysql:hE,snowflake:yE,databricks:cE,clickhouse:lE,timeplus:wE,bigquery:fE,trino:_E,iceberg:pE,datafusion:uE,pyspark:vE,redshift:gE};Zm=e=>{let n=(0,xE.c)(11),{name:i,className:o}=e,s=kE[i.toLowerCase()];if(!s){let f;n[0]===o?f=n[1]:(f=mu("mt-0.5",o),n[0]=o,n[1]=f);let m;return n[2]===f?m=n[3]:(m=(0,B.jsx)(ps,{className:f}),n[2]=f,n[3]=m),m}let c;n[4]!==o||n[5]!==s?(c=mu("invert-[.5] dark:invert-[.7]",o,s.endsWith(".png")&&"brightness-100 dark:brightness-100 invert-0 dark:invert-0"),n[4]=o,n[5]=s,n[6]=c):c=n[6];let d;return n[7]!==i||n[8]!==c||n[9]!==s?(d=(0,B.jsx)("img",{src:s,alt:i,className:c}),n[7]=i,n[8]=c,n[9]=s,n[10]=d):d=n[10],d};var af=Kt(Br(),1);const CE=e=>{let n=(0,af.c)(27),{selectedEngine:i,onChange:o}=e,s=Kn(Mu),c=[],d=[];for(let[fe,be]of s.entries())mo.has(fe)?c.push(be):d.push(be);let f=pR(),m=i&&!s.has(i),g;n[0]!==s||n[1]!==o||n[2]!==f?(g=fe=>{if(fe===Ay){window.open(Iy,"_blank");return}let be=s.get(fe);be&&(f(),o(be.name),ty(be.name))},n[0]=s,n[1]=o,n[2]=f,n[3]=g):g=n[3];let w=g,_=OE,C=uR,E;n[4]===Symbol.for("react.memo_cache_sentinel")?(E=(0,B.jsx)(EE,{children:(0,B.jsx)(aR,{placeholder:"Select an engine"})}),n[4]=E):E=n[4];let T=sR,A=lR,V;n[5]===Symbol.for("react.memo_cache_sentinel")?(V=(0,B.jsx)(iR,{children:"Database connections"}),n[5]=V):V=n[5];let H;n[6]!==m||n[7]!==i?(H=m&&(0,B.jsx)(dm,{value:i,children:(0,B.jsxs)("div",{className:"flex items-center gap-1 opacity-50",children:[(0,B.jsx)(ym,{className:"h-3 w-3"}),(0,B.jsx)("span",{className:"truncate",children:ay(i)})]})},i),n[6]=m,n[7]=i,n[8]=H):H=n[8];let W=_(d),N=d.length>0&&(0,B.jsx)(N2,{}),Q=_(c),pe;n[9]===Symbol.for("react.memo_cache_sentinel")?(pe=(0,B.jsx)(N2,{}),n[9]=pe):pe=n[9];let P;n[10]===Symbol.for("react.memo_cache_sentinel")?(P=(0,B.jsx)(dm,{className:"text-muted-foreground",value:Ay,children:(0,B.jsxs)("a",{className:"flex items-center gap-1",href:Iy,target:"_blank",rel:"noreferrer",children:[(0,B.jsx)(fR,{className:"h-3 w-3"}),(0,B.jsx)("span",{children:"How to add a database connection"})]})}),n[10]=P):P=n[10];let I;n[11]!==A||n[12]!==V||n[13]!==H||n[14]!==W||n[15]!==N||n[16]!==Q?(I=(0,B.jsxs)(A,{children:[V,H,W,N,Q,pe,P]}),n[11]=A,n[12]=V,n[13]=H,n[14]=W,n[15]=N,n[16]=Q,n[17]=I):I=n[17];let $;n[18]!==T||n[19]!==I?($=(0,B.jsx)(T,{children:I}),n[18]=T,n[19]=I,n[20]=$):$=n[20];let de;return n[21]!==C||n[22]!==w||n[23]!==i||n[24]!==$||n[25]!==E?(de=(0,B.jsx)("div",{className:"flex flex-row gap-1 items-center",children:(0,B.jsxs)(C,{value:i,onValueChange:w,children:[E,$]})}),n[21]=C,n[22]=w,n[23]=i,n[24]=$,n[25]=E,n[26]=de):de=n[26],de};var Ay="__help__",Iy="http://docs.marimo.io/guides/working_with_data/sql/#connecting-to-a-custom-database";const SE=()=>{let e=(0,af.c)(16),{sqlMode:n,setSQLMode:i}=FS(),o;e[0]!==i||e[1]!==n?(o=()=>{let E=n==="validate"?"default":"validate";E==="default"&&wS(),i(E)},e[0]=i,e[1]=n,e[2]=o):o=e[2];let s=o,c=DE,d=PE,f;e[3]===n?f=e[4]:(f=d(n),e[3]=n,e[4]=f);let m;e[5]===n?m=e[6]:(m=c(n),e[5]=n,e[6]=m);let g=n==="validate"?"Validate":"Default",w;e[7]===g?w=e[8]:(w=(0,B.jsx)("span",{className:"ml-1",children:g}),e[7]=g,e[8]=w);let _;e[9]!==s||e[10]!==m||e[11]!==w?(_=(0,B.jsxs)(d2,{variant:"ghost",size:"sm",onClick:s,className:"h-5 px-1.5 text-xs border-border shadow-none hover:bg-accent",children:[m,w]}),e[9]=s,e[10]=m,e[11]=w,e[12]=_):_=e[12];let C;return e[13]!==f||e[14]!==_?(C=(0,B.jsx)("div",{className:"flex flex-row gap-1 items-center",children:(0,B.jsx)(pm,{delayDuration:300,content:f,children:_})}),e[13]=f,e[14]=_,e[15]=C):C=e[15],C};var EE=e=>{let n=(0,af.c)(6),i,o;n[0]===e?(i=n[1],o=n[2]):({children:i,...o}=e,n[0]=e,n[1]=i,n[2]=o);let s;return n[3]!==i||n[4]!==o?(s=(0,B.jsx)(cR,{className:"text-xs border-border shadow-none! ring-0! h-5 px-1.5 hover:bg-accent transition-colors",...o,children:i}),n[3]=i,n[4]=o,n[5]=s):s=n[5],s};function TE(e){return e.source!=="iceberg"}function RE(e){return(0,B.jsx)(dm,{value:e.name,children:(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[(0,B.jsx)(Zm,{className:"h-3 w-3",name:e.dialect}),(0,B.jsx)("span",{className:"truncate ml-0.5",children:ay(e.display_name)})]})},e.name)}function OE(e){return e=e.filter(TE),e.map(RE)}function DE(e){return e==="validate"?(0,B.jsx)(Xd,{className:"h-3 w-3"}):(0,B.jsx)(Jd,{className:"h-3 w-3"})}function PE(e){return e==="validate"?(0,B.jsxs)("div",{className:"text-xs",children:[(0,B.jsxs)("div",{className:"font-semibold mb-1 flex flex-row items-center gap-1",children:[(0,B.jsx)(Xd,{className:"h-3 w-3"}),"Validate Mode"]}),(0,B.jsx)("p",{children:"Queries are validated as you write them"})]}):(0,B.jsxs)("div",{className:"text-xs",children:[(0,B.jsxs)("div",{className:"font-semibold mb-1 flex flex-row items-center gap-1",children:[(0,B.jsx)(Jd,{className:"h-3 w-3"}),"Default Mode"]}),(0,B.jsx)("p",{children:"Standard editing"})]})}var jy=Kt(Br(),1),qy=()=>{let e=(0,jy.c)(1),n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,B.jsx)("div",{className:"h-4 border-r border-border"}),e[0]=n):n=e[0],n};const LE=e=>{let n=(0,jy.c)(98),{view:i}=e,o;n[0]===Symbol.for("react.memo_cache_sentinel")?(o={minWidth:50},n[0]=o):o=n[0];let{spanProps:s,inputProps:c}=iE(o),d;n[1]===i.state?d=n[2]:(d=i.state.field(Tr),n[1]=i.state,n[2]=d);let f=d,m;n[3]===Symbol.for("react.memo_cache_sentinel")?(m=(0,B.jsx)("div",{}),n[3]=m):m=n[3];let g=m,w=!1,_;n[4]===i?_=n[5]:(_=A=>{i.dispatch({effects:td.of(A),changes:{from:0,to:i.state.doc.length,insert:i.state.doc.toString()}})},n[4]=i,n[5]=_);let C=_;if(f instanceof Yu){let A;n[6]===i.state?A=n[7]:(A=i.state.field(ai),n[6]=i.state,n[7]=A);let V=A;w=!0;let H;n[8]===C?H=n[9]:(H=Oe=>{let Me=$m(Oe.currentTarget.value,!1);Oe.currentTarget.value=Me,C({dataframeName:Me})},n[8]=C,n[9]=H);let W=H,N;n[10]!==C||n[11]!==i?(N=Oe=>{C({engine:Oe}),HS(i,Oe)},n[10]=C,n[11]=i,n[12]=N):N=n[12];let Q=N,pe;n[13]===Symbol.for("react.memo_cache_sentinel")?(pe=(0,B.jsx)("span",{className:"select-none",children:"Output variable: "}),n[13]=pe):pe=n[13];let P;n[14]===c?P=n[15]:(P=Oe=>{var Me;(Me=c.onChange)==null||Me.call(c,Oe)},n[14]=c,n[15]=P);let I;n[16]===W?I=n[17]:(I=Oe=>{Oe.key==="Enter"&&Oe.shiftKey&&W(Oe)},n[16]=W,n[17]=I);let $;n[18]!==c||n[19]!==V.dataframeName||n[20]!==W||n[21]!==I||n[22]!==P?($=(0,B.jsx)("input",{...c,defaultValue:V.dataframeName,onChange:P,onBlur:W,onKeyDown:I,className:"min-w-14 w-auto border border-border rounded px-1 focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring"}),n[18]=c,n[19]=V.dataframeName,n[20]=W,n[21]=I,n[22]=P,n[23]=$):$=n[23];let de;n[24]===s?de=n[25]:(de=(0,B.jsx)("span",{...s}),n[24]=s,n[25]=de);let fe;n[26]!==$||n[27]!==de?(fe=(0,B.jsxs)("label",{className:"flex gap-2 items-center",children:[pe,$,de]}),n[26]=$,n[27]=de,n[28]=fe):fe=n[28];let be;n[29]!==V.engine||n[30]!==Q?(be=(0,B.jsx)(CE,{selectedEngine:V.engine,onChange:Q}),n[29]=V.engine,n[30]=Q,n[31]=be):be=n[31];let Y;n[32]===V.engine?Y=n[33]:(Y=V.engine==="__marimo_duckdb"&&(0,B.jsx)(SE,{}),n[32]=V.engine,n[33]=Y);let we;n[34]===i?we=n[35]:(we=async()=>{await ex(i)},n[34]=i,n[35]=we);let Ee;n[36]===Symbol.for("react.memo_cache_sentinel")?(Ee=(0,B.jsx)(Om,{className:"h-3 w-3"}),n[36]=Ee):Ee=n[36];let ie;n[37]===we?ie=n[38]:(ie=(0,B.jsx)(pm,{content:"Format SQL",children:(0,B.jsx)(d2,{variant:"text",size:"icon",onClick:we,children:Ee})}),n[37]=we,n[38]=ie);let X;n[39]===Symbol.for("react.memo_cache_sentinel")?(X=(0,B.jsx)(qy,{}),n[39]=X):X=n[39];let G;n[40]===C?G=n[41]:(G=Oe=>{C({showOutput:!Oe.target.checked})},n[40]=C,n[41]=G);let K=!V.showOutput,Le;n[42]!==G||n[43]!==K?(Le=(0,B.jsx)("input",{type:"checkbox",onChange:G,checked:K}),n[42]=G,n[43]=K,n[44]=Le):Le=n[44];let Qe;n[45]===Symbol.for("react.memo_cache_sentinel")?(Qe=(0,B.jsx)("span",{className:"select-none",children:"Hide output"}),n[45]=Qe):Qe=n[45];let ut;n[46]===Le?ut=n[47]:(ut=(0,B.jsxs)("label",{className:"flex items-center gap-2",children:[Le,Qe]}),n[46]=Le,n[47]=ut);let Be;n[48]!==Y||n[49]!==ie||n[50]!==ut?(Be=(0,B.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[Y,ie,X,ut]}),n[48]=Y,n[49]=ie,n[50]=ut,n[51]=Be):Be=n[51];let We;n[52]!==fe||n[53]!==be||n[54]!==Be?(We=(0,B.jsxs)("div",{className:"flex flex-1 gap-2 items-center",children:[fe,be,Be]}),n[52]=fe,n[53]=be,n[54]=Be,n[55]=We):We=n[55],g=We}if(f instanceof Fu){w=!0;let A,V,H,W,N,Q,pe,P,I,$;if(n[56]!==C||n[57]!==i.state){let{quotePrefix:G}=i.state.field(ai);V=G,V===void 0&&(V="r",C({quotePrefix:V})),$=(K,Le)=>{typeof Le=="boolean"&&C({quotePrefix:oE({currentQuotePrefix:V,checked:Le,prefix:K})})},H="flex flex-row w-full justify-end gap-1.5 items-center",P="flex items-center gap-1.5",n[68]===Symbol.for("react.memo_cache_sentinel")?(I=(0,B.jsx)("span",{children:"r"}),n[68]=I):I=n[68],A=ql,N="Toggle raw string",Q="w-3 h-3",pe=V.includes("r"),W=K=>{$("r",K)},n[56]=C,n[57]=i.state,n[58]=A,n[59]=V,n[60]=H,n[61]=W,n[62]=N,n[63]=Q,n[64]=pe,n[65]=P,n[66]=I,n[67]=$}else A=n[58],V=n[59],H=n[60],W=n[61],N=n[62],Q=n[63],pe=n[64],P=n[65],I=n[66],$=n[67];let de;n[69]!==A||n[70]!==W||n[71]!==N||n[72]!==Q||n[73]!==pe?(de=(0,B.jsx)(A,{"aria-label":N,className:Q,checked:pe,onCheckedChange:W}),n[69]=A,n[70]=W,n[71]=N,n[72]=Q,n[73]=pe,n[74]=de):de=n[74];let fe;n[75]!==de||n[76]!==P||n[77]!==I?(fe=(0,B.jsxs)("div",{className:P,children:[I,de]}),n[75]=de,n[76]=P,n[77]=I,n[78]=fe):fe=n[78];let be;n[79]===Symbol.for("react.memo_cache_sentinel")?(be=(0,B.jsx)("span",{children:"f"}),n[79]=be):be=n[79];let Y;n[80]===V?Y=n[81]:(Y=V.includes("f"),n[80]=V,n[81]=Y);let we;n[82]===$?we=n[83]:(we=G=>{$("f",G)},n[82]=$,n[83]=we);let Ee;n[84]!==Y||n[85]!==we?(Ee=(0,B.jsxs)("div",{className:"flex items-center gap-1.5",children:[be,(0,B.jsx)(ql,{"aria-label":"Toggle f-string",className:"w-3 h-3",checked:Y,onCheckedChange:we})]}),n[84]=Y,n[85]=we,n[86]=Ee):Ee=n[86];let ie;n[87]===Symbol.for("react.memo_cache_sentinel")?(ie=(0,B.jsx)(pm,{content:(0,B.jsx)(sE,{}),children:(0,B.jsx)(ku,{className:"w-3 h-3"})}),n[87]=ie):ie=n[87];let X;n[88]!==H||n[89]!==fe||n[90]!==Ee?(X=(0,B.jsxs)("div",{className:H,children:[fe,Ee,ie]}),n[88]=H,n[89]=fe,n[90]=Ee,n[91]=X):X=n[91],g=X}let E;n[92]===w?E=n[93]:(E=w&&(0,B.jsx)(qy,{}),n[92]=w,n[93]=E);let T;return n[94]!==g||n[95]!==f.type||n[96]!==E?(T=(0,B.jsx)(vR,{children:(0,B.jsxs)("div",{className:"flex justify-between items-center gap-4 pl-2 pt-2",children:[g,E,f.type]})}),n[94]=g,n[95]=f.type,n[96]=E,n[97]=T):T=n[97],T};var of=new hu;qu=ma.define(),Tr=El.define({create(){return dr.python},update(e,n){for(let i of n.effects)if(i.is(qu))return i.value;return e},provide:e=>nm.from(e,n=>n.type==="python"?null:i=>nx(i,LE))});function ME(){let e=XS(),n=(i,o)=>{let s=e[o%e.length];return s.isSupported(i)?s:n(i,o+1)};return[ao.of([{key:"F4",preventDefault:!0,run:i=>{let o=i.state.field(Tr),s=e.findIndex(d=>d.type===o.type),c=n(i.state.doc.toString(),s+1);return o===c?!1:(zy({view:i,nextLanguage:c,opts:{keepCodeAsIs:!1}}),!0)}}])]}function zy({view:e,nextLanguage:n,opts:i}){let o=e.state.field(Tr),s=e.state.doc.toString(),c=e.state.facet(zh),d=e.state.facet(Fh),f=e.state.facet(gd),m=e.state.facet(yd),g=e.state.facet(Bh),w=e.state.field(ai),_=e.state.selection.main.head,C;if(i.keepCodeAsIs)C=s,o.type!==n.type&&(w={...n.defaultMetadata});else{let[E,T]=o.transformOut(s,w),[A,V,H]=n.transformIn(E);_+=T,_-=V,_=am(_,0,A.length),C=A,w=H}e.dispatch({effects:[qu.of(n),Xu.of(w),of.reconfigure(n.getExtension(m,c,d,f,g)),zu.reconfigure([]),vo.of(!0)],changes:i.keepCodeAsIs?void 0:{from:0,to:e.state.doc.length,insert:C},selection:i.keepCodeAsIs?void 0:fn.cursor(_)}),e.dispatch({effects:[zu.reconfigure([b4()])]}),n.type==="sql"&&$S(e)}Hw=function(e){let{placeholderType:n,completionConfig:i,hotkeys:o,cellId:s,lspConfig:c}=e;return[ME(),of.of(dr.python.getExtension(s,i,o,n,c)),Tr,ai]},Mw=function(e){return NE(oi({state:e}).trim())};function NE(e){return e?dr.markdown.isSupported(e)?dr.markdown:dr.sql.isSupported(e)?dr.sql:dr.python:dr.python}Km=function(e,n){e.state.field(Tr).type!==n.language&&zy({view:e,nextLanguage:dr[n.language],opts:{keepCodeAsIs:n.keepCodeAsIs??!1}})},o_=function(e,{completionConfig:n,hotkeysProvider:i,lspConfig:o}){let s=e.state.field(Tr),c=e.state.facet(gd),d=e.state.facet(yd);return of.reconfigure(s.getExtension(d,n,i,c,o))},oi=function(e,n,i){let o=e.state.field(Tr),s=e.state.field(ai),c=e.state.doc.toString();return n===void 0?o.transformOut(c,s)[0]:o.transformOut(c.slice(n,i),s)[0]},hs=function(e,n){let[i]=e.state.field(Tr).transformIn(n);return Vu(e,i),i};function AE(e){let n=e.state.selection.main.head,i=e.state.doc.toString(),o=i.length>0&&i[n-1]===`
`,s=i.length>0&&i[n]===`
`,c=o?n-1:n,d=s?n+1:n;return{beforeCursorCode:oi(e,0,c),afterCursorCode:oi(e,d)}}var IE=["marimo-carousel","marimo-tabs","marimo-accordion"];function jE(e){if(typeof DOMParser>"u")return null;let n=[],i=new DOMParser().parseFromString(e,"text/html").querySelectorAll("h1, h2, h3");for(let o of Array.from(i)){let s=o.textContent;if(IE.some(d=>o.closest(d))||!s)continue;let c=Number.parseInt(o.tagName[1],10);n.push({name:s,level:c,by:Hm(o)})}return{items:n}}Hm=function(e){let n=e.id;if(n)return{id:n};let i=e.textContent;return{path:`//${e.tagName}[contains(., "${i}")]`}};function qE(e){return{items:e.filter(Boolean).flatMap(n=>n.items)}}Ym=function(e){if(e==null||e.mimetype!=="text/html"||e.data==null)return null;try{return kn(typeof e.data=="string","expected string"),jE(e.data)}catch{return Pe.error("Failed to parse outline"),null}},j2=function(e){return e==null?!1:e.items.some(n=>n.level<=3)};function Fy(e,n){let i=d=>d.items.length===0?7:Math.min(...d.items.map(f=>f.level)),o=n[e];if(o==null||o.items.length===0)return Pe.warn("Failed to find a starting outline"),null;let s=i(o),c=e+1;for(;c<n.length;){let d=n[c];if(d&&i(d)<=s)return[e,c-1];c++}return[e,n.length-1]}Du=function(e){return e==="application/vnd.marimo+error"||e==="application/vnd.marimo+traceback"};function zE(e,n){if(typeof window>"u")return;let i=`__marimo__${n}`;window[i]&&Pe.warn(`Overwriting existing debug object ${i}`),window[i]=e}var FE={markdown:!0,wasm_layouts:!1,rtc_v2:!1,performant_table_charts:!1,chat_modes:!1,cache_panel:!1,external_agents:!1};Iu=function(e){var n,i;return((i=(n=tm())==null?void 0:n.experimental)==null?void 0:i[e])??FE[e]};function BE(e,n){let i=tm();i.experimental=i.experimental??{},i.experimental[e]=n,Pi().saveUserConfig({config:i})}kw=({feature:e,children:n})=>Iu(e)?n:null,zE(BE,"setFeatureFlag"),Ew=Ru("marimo:rtc:username","",ju),km=Cm(()=>Iu("rtc_v2")),Jm=class rd{static fromMilliseconds(n){return n==null?null:new rd(n)}static fromSeconds(n){return n==null?null:new rd(n*1e3)}static now(){return new rd(Date.now())}constructor(n){this.ms=n}toMilliseconds(){return this.ms}toSeconds(){return this.ms/1e3}};function VE(e,n=5e3){let i=[...e];if(i.length<2)return Vy(By(i),n);let o=i[i.length-1],s=i[i.length-2];return HE(o,s)&&(kn(typeof o.data=="string","expected string"),kn(typeof s.data=="string","expected string"),s.data+=o.data,i.pop()),Vy(By(i),n)}function HE(e,n){let i=e.mimetype==="text/plain"&&n.mimetype==="text/plain";if(!i)return!1;let o=e.channel===n.channel,s=e.channel!=="stdin";return i&&o&&s}function By(e){let n=[...e];if(n.length===0)return n;let i=n[n.length-1];if(i.mimetype!=="text/plain")return n;let o=/\r[^\n]/g,s=i.data;kn(typeof s=="string","expected string");let c=s.search(o);for(;c>-1;){let d=-1;for(let w=c-1;w>=0;w--)if(s.at(w)===`
`){d=w;break}let f=s.slice(c+1),m=s.slice(0,d+1),g=s.slice(d+1,c);s=g.length<=f.length?m+f:m+f+g.slice(f.length),c=s.search(o)}return n[n.length-1]={...i,data:s},n}function Vy(e,n){let i=0,o;for(o=e.length-1;o>=0&&i<n;o--){let f=e[o];f.mimetype==="text/plain"?(kn(typeof f.data=="string","expected string"),i+=f.data.split(`
`).length):i++}if(i<n)return e;let s=o+1,c={channel:"stderr",mimetype:"text/html",data:`<pre>Streaming output truncated to last ${n} lines.
</pre>`,timestamp:-1},d=e[s];if(d.mimetype==="text/plain"){kn(typeof d.data=="string","expected string");let f=d.data.split(`
`),m=n-(i-f.length);return[c,{...d,data:f.slice(-m).join(`
`)},...e.slice(s+1)]}return[c,...e.slice(s+1)]}function $E(e,n){let i={...e};switch(n.status){case"queued":i.interrupted=!1,i.errored=!1,i.runElapsedTimeMs=null,i.debuggerActive=!1;break;case"running":i.interrupted=!1,e.stopped&&(i.output=null),i.status==="queued"&&(i.consoleOutputs=[]),i.stopped=!1,i.runStartTimestamp=n.timestamp,i.lastRunStartTimestamp=n.timestamp;break;case"idle":e.runStartTimestamp&&(i.runElapsedTimeMs=Jm.fromSeconds((n.timestamp??0)-e.runStartTimestamp).toMilliseconds(),i.runStartTimestamp=null,i.staleInputs=!1),!e.lastRunStartTimestamp&&n.timestamp&&(i.lastRunStartTimestamp=n.timestamp),i.debuggerActive=!1;break;case null:break;case"disabled-transitively":break;case void 0:break;default:A2(n.status)}i.output=n.output??i.output,i.staleInputs=n.stale_inputs??i.staleInputs,i.status=n.status??i.status,i.serialization=n.serialization;let o=!1;n.output!=null&&n.output.mimetype==="application/vnd.marimo+error"&&((i.status==="queued"||i.status==="running")&&(i.status="idle"),kn(Array.isArray(n.output.data),"Expected error output data to be an array"),n.output.data.some(d=>d.type==="interruption")?(i.interrupted=!0,o=!0):n.output.data.some(d=>d.type.includes("ancestor"))?i.stopped=!0:i.errored=!0);let s=e.consoleOutputs;o&&(i.debuggerActive=!1,s=s.map(d=>d.channel==="stdin"?{...d,response:d.response??""}:d)),n.console!==null&&(s=Array.isArray(n.console)?n.console:VE([...s,n.console].filter(Boolean))),i.consoleOutputs=s,i.outline=Ym(i.output);let c=[n.console].flat().filter(Boolean).filter(d=>d.channel==="pdb");return c.length>0&&c.some(d=>d.data==="start")&&(i.debuggerActive=!0),i}function WE(e){let n={...e};return e.status!=="disabled-transitively"&&(n.status="queued"),n.interrupted=!1,n.errored=!1,n.runElapsedTimeMs=null,n.debuggerActive=!1,n}vm=function(e){return e==="running"||e==="queued"},rw=function(e,n){let{status:i,output:o,runStartTimestamp:s,interrupted:c,staleInputs:d}=e;if(c)return!1;if(n)return!0;let f=vm(i),m=i==="running"&&o!==null&&s!==null&&(o.timestamp??0)>s;return f&&!m?!0:d};function UE(e,n){return dR(e*1e3,n==null?void 0:n.in)}var Hy=!1;function KE(e){var o;let n=[],i=[e.console].filter(Boolean).flat();for(let s of i)if(s.mimetype==="text/plain"){kn(typeof s.data=="string","expected string");let c=s.channel==="stderr"||s.channel==="marimo-error";switch(s.channel){case"stdout":case"stderr":case"marimo-error":n.push({timestamp:s.timestamp||Date.now(),level:c?"stderr":"stdout",message:s.data,cellId:e.cell_id});break;default:break}}if(n.forEach($y.log),i.length===0&&Du((o=e.output)==null?void 0:o.mimetype)&&Array.isArray(e.output.data)){e.output.data.forEach(c=>{$y.log({level:"stderr",cellId:e.cell_id,timestamp:e.timestamp??0,message:JSON.stringify(c)})});let s=e.output.data.some(c=>c.type==="internal");!Hy&&s&&(Hy=!0,_u({title:"An internal error occurred",description:"See console for details.",className:"text-xs text-background bg-(--red-10) py-2 pl-3 *:flex *:gap-3"}))}return n}var $y={log:e=>{let n=e.level==="stdout"?"gray":e.level==="stderr"?"red":"orange",i=e.level.toUpperCase();console.log(`%c[${i}]`,`color:${n}; padding:2px 0; border-radius:2px; font-weight:bold`,`[${Am(e.timestamp)}]`,`(${e.cellId}) ${e.message}`)}};Am=function(e){try{return UE(e).toLocaleTimeString(void 0,{hour12:!0,hour:"numeric",minute:"numeric",second:"numeric"})}catch{return""}},J2=function(e,n){var o,s;let i=(s=(o=e.get(ft).cellHandles[n])==null?void 0:o.current)==null?void 0:s.editorView;i?i.focus():Pe.warn(`[CellFocusManager] focusCellEditor: element not found: ${n}`)},ww=function(e){let n=document.getElementById(ur.create(e));n?sf(n):Pe.warn(`[CellFocusManager] focusCell: element not found: ${e}`)},Lm=function(){return document.activeElement instanceof HTMLElement&&document.activeElement.classList.contains("marimo-cell")};function sf(e){try{e.focus()}catch{Pe.warn("[CellFocusManager] element may not be focusable",e)}}mm=function(e,n){let{retries:i,delay:o,initialDelay:s=0}=n,c=0,d=()=>{if(c<i){try{if(e())return}catch(f){Pe.error(`Error executing function on attempt ${c+1}, retrying`,{error:f})}c++,setTimeout(d,o)}};s>0?setTimeout(d,s):d()};function bs({cellId:e,cell:n,isCodeHidden:i,codeFocus:o,variableName:s}){var d;if(!n)return;let c=document.getElementById(ur.create(e));if(!c){Pe.warn("scrollCellIntoView: element not found");return}if(Lm()){sf(c);return}if(i)sf(c);else{let f=(d=n.current)==null?void 0:d.editorView;if(!f){Pe.warn("scrollCellIntoView: editor not found",e);return}if(f.hasFocus)return;if(mm(()=>(f.focus(),f.hasFocus),{retries:5,delay:20}),o==="top")f.dispatch({selection:{anchor:0,head:0}});else if(o==="bottom"){let m=f.state.doc.line(f.state.doc.lines);f.dispatch({selection:{anchor:m.from,head:m.from}})}else s&&Pu(f,s)}c.scrollIntoView({behavior:"smooth",block:"nearest"})}g_=function(e){let n=document.getElementById(ur.create(e));if(!n){Pe.warn("scrollCellIntoView: element not found");return}n.classList.add("focus-outline"),setTimeout(()=>{n.classList.remove("focus-outline")},2e3),n.scrollIntoView({behavior:"smooth",block:"center"})};function QE(){let e=document.getElementById("App");e==null||e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}function GE(){var e;(e=document.getElementById("App"))==null||e.scrollTo({top:0,behavior:"smooth"})}Cr=function({id:e,name:n="_",code:i="",lastCodeRun:o=null,lastExecutionTime:s=null,edited:c=!1,config:d,serializedEditorState:f=null}){return{id:e,config:d||{hide_code:!1,disabled:!1,column:null},name:n,code:i,edited:c,lastCodeRun:o,lastExecutionTime:s,serializedEditorState:f}};function JE(e){return{hide_code:!1,disabled:!1,column:null,...e}}Sr=function(e){return{outline:null,output:null,consoleOutputs:[],status:"idle",staleInputs:!1,interrupted:!1,errored:!1,stopped:!1,runElapsedTimeMs:null,runStartTimestamp:null,lastRunStartTimestamp:null,debuggerActive:!1,...e}};var lf=Kt(Br(),1);gs="__scratch__",Er="setup";function Wy(e){let n={column:0,hide_code:!1,disabled:!1};return{...e,cellData:{[gs]:Cr({id:gs,config:n}),...e.cellData},cellRuntime:{[gs]:Sr(),...e.cellRuntime},cellHandles:{[gs]:(0,At.createRef)(),...e.cellHandles}}}function XE(){return Wy({cellIds:Il.from([]),cellData:{},cellRuntime:{},cellHandles:{},history:[],scrollKey:null,cellLogs:[],untouchedNewCells:new Set})}let YE,ZE,Uy;({reducer:YE,createActions:ZE,useActions:Uy,valueAtom:ft}=Ol(XE,{createNewCell:(e,n)=>{var T;let{cellId:i,before:o,code:s,lastCodeRun:c=null,lastExecutionTime:d=null,autoFocus:f=!0,skipIfCodeExists:m=!1,hideCode:g=!1}=n,w,_;if(m){for(let A of e.cellIds.inOrderIds)if(((T=e.cellData[A])==null?void 0:T.code)===s)return e}if(i==="__end__"){let A=e.cellIds.atOrThrow(0);w=A.id,_=A.length}else if(typeof i=="string"){let A=e.cellIds.findWithId(i);w=A.id,_=A.topLevelIds.indexOf(i)}else if(i.type==="__end__"){let A=e.cellIds.get(i.columnId)||e.cellIds.atOrThrow(0);w=A.id,_=A.length}else throw Error("Invalid cellId");let C=n.newCellId||ha.create(),E=o?_:_+1;return{...e,cellIds:e.cellIds.insertId(C,w,E),cellData:{...e.cellData,[C]:Cr({id:C,code:s,lastCodeRun:c,config:JE({hide_code:g}),lastExecutionTime:d,edited:!!s&&s!==c})},cellRuntime:{...e.cellRuntime,[C]:Sr()},cellHandles:{...e.cellHandles,[C]:(0,At.createRef)()},scrollKey:f?C:null,untouchedNewCells:g?new Set([...e.untouchedNewCells,C]):e.untouchedNewCells}},moveCell:(e,n)=>{let{cellId:i,before:o,direction:s}=n;if(o!==void 0&&s!==void 0&&Pe.warn("Both before and direction specified for moveCell. Ignoring one."),s){let f=e.cellIds.findWithId(i),m=e.cellIds.indexOf(f),g=s==="left"?m-1:m+1,w=e.cellIds.at(g);return w?{...e,cellIds:e.cellIds.moveAcrossColumns(f.id,i,w.id,void 0),scrollKey:i}:e}let c=e.cellIds.findWithId(i),d=c.indexOfOrThrow(i);return o&&d===0?{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,0),scrollKey:i}:!o&&d===c.length-1?{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,c.length-1),scrollKey:i}:o?{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,d-1),scrollKey:i}:{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,d+1),scrollKey:i}},dropCellOverCell:(e,n)=>{let{cellId:i,overCellId:o}=n,s=e.cellIds.findWithId(i),c=e.cellIds.findWithId(o),d=s.indexOfOrThrow(i),f=c.indexOfOrThrow(o);return s.id===c.id?d===f?e:{...e,cellIds:e.cellIds.moveWithinColumn(s.id,d,f),scrollKey:null}:{...e,cellIds:e.cellIds.moveAcrossColumns(s.id,i,c.id,o),scrollKey:null}},dropCellOverColumn:(e,n)=>{let{cellId:i,columnId:o}=n,s=e.cellIds.findWithId(i);return{...e,cellIds:e.cellIds.moveAcrossColumns(s.id,i,o,void 0)}},dropOverNewColumn:(e,n)=>{let{cellId:i}=n;return{...e,cellIds:e.cellIds.moveToNewColumn(i)}},moveColumn:(e,n)=>n.column===n.overColumn?e:{...e,cellIds:e.cellIds.moveColumn(n.column,n.overColumn)},focusCell:(e,n)=>{let i=e.cellIds.findWithId(n.cellId);if(i.length===0)return e;let{cellId:o,where:s}=n,c=i.indexOfOrThrow(o),d;d=s==="before"?am(c-1,0,i.length-1):s==="after"?am(c+1,0,i.length-1):c;let f=i.atOrThrow(d);return bs({cellId:f,cell:e.cellHandles[f],isCodeHidden:ws(e,f),codeFocus:s==="after"?"top":"bottom",variableName:void 0}),e},focusTopCell:e=>{let n=e.cellIds.getColumns().at(0);if(n===void 0||n.length===0)return e;let i=n.first();return bs({cellId:i,cell:e.cellHandles[i],isCodeHidden:ws(e,i),codeFocus:void 0,variableName:void 0}),GE(),e},focusBottomCell:e=>{let n=e.cellIds.getColumns().at(-1);if(n===void 0||n.length===0)return e;let i=n.last();return bs({cellId:i,cell:e.cellHandles[i],isCodeHidden:ws(e,i),codeFocus:void 0,variableName:void 0}),QE(),e},sendToTop:(e,n)=>{let i=e.cellIds.findWithId(n.cellId);if(i.length===0)return e;let{cellId:o,scroll:s=!0}=n,c=i.indexOfOrThrow(o);return c===0?e:{...e,cellIds:e.cellIds.moveWithinColumn(i.id,c,0),scrollKey:s?o:null}},sendToBottom:(e,n)=>{let i=e.cellIds.findWithId(n.cellId);if(i.length===0)return e;let{cellId:o,scroll:s=!0}=n,c=i.indexOfOrThrow(o),d=i.length-1;return c===d?e:{...e,cellIds:e.cellIds.moveWithinColumn(i.id,c,d),scrollKey:s?o:null}},addColumn:(e,n)=>{let i=ha.create();return{...e,cellIds:e.cellIds.addColumn(n.columnId,[i]),cellData:{...e.cellData,[i]:Cr({id:i})},cellRuntime:{...e.cellRuntime,[i]:Sr()},cellHandles:{...e.cellHandles,[i]:(0,At.createRef)()},scrollKey:i}},addColumnBreakpoint:(e,n)=>{let{cellId:i}=n;return e.cellIds.getColumns()[0].inOrderIds[0]===i?e:{...e,cellIds:e.cellIds.insertBreakpoint(i)}},deleteColumn:(e,n)=>{let{columnId:i}=n;return{...e,cellIds:e.cellIds.delete(i)}},mergeAllColumns:e=>({...e,cellIds:e.cellIds.mergeAllColumns()}),compactColumns:e=>({...e,cellIds:e.cellIds.compact()}),deleteCell:(e,n)=>{var m,g;let i=n.cellId;if(e.cellIds.hasOnlyOneId())return e;let o=e.cellIds.findWithId(i),s=o.indexOfOrThrow(i),c=s===0?1:s-1,d=null;o.length>1&&(d=o.atOrThrow(c));let f=(g=(m=e.cellHandles[i].current)==null?void 0:m.editorView)==null?void 0:g.state.toJSON({history:D4});return f.doc=e.cellData[i].code,n3(i),{...e,cellIds:e.cellIds.deleteById(i),history:[...e.history,{name:e.cellData[i].name,serializedEditorState:f,column:o.id,index:s,isSetupCell:i===Er}],scrollKey:d}},undoDeleteCell:e=>{if(e.history.length===0)return e;let{name:n,serializedEditorState:i={doc:""},column:o,index:s,isSetupCell:c}=e.history[e.history.length-1],d=c?Er:ha.create(),f=Cr({id:d,name:n,code:i.doc,edited:i.doc.trim().length>0,serializedEditorState:i});return{...e,cellIds:e.cellIds.insertId(d,o,s),cellData:{...e.cellData,[d]:f},cellRuntime:{...e.cellRuntime,[d]:Sr()},cellHandles:{...e.cellHandles,[d]:(0,At.createRef)()},history:e.history.slice(0,-1)}},clearSerializedEditorState:(e,n)=>{let{cellId:i}=n;return xs({state:e,cellId:i,cellReducer:o=>({...o,serializedEditorState:null})})},updateCellCode:(e,n)=>{let{cellId:i,code:o,formattingChange:s}=n;return e.cellData[i]?xs({state:e,cellId:i,cellReducer:c=>s?{...c,code:o,lastCodeRun:c.edited?c.lastCodeRun:o}:{...c,code:o,edited:o.trim()!==c.lastCodeRun}}):e},updateCellName:(e,n)=>{let{cellId:i,name:o}=n;return xs({state:e,cellId:i,cellReducer:s=>({...s,name:o})})},updateCellConfig:(e,n)=>{let{cellId:i,config:o}=n;return xs({state:e,cellId:i,cellReducer:s=>({...s,config:{...s.config,...o}})})},prepareForRun:(e,n)=>xs({state:_s({state:e,cellId:n.cellId,cellReducer:i=>WE(i)}),cellId:n.cellId,cellReducer:i=>({...i,edited:!1,lastCodeRun:i.code.trim()})}),handleCellMessage:(e,n)=>{let i=n.cell_id,o=_s({state:e,cellId:i,cellReducer:s=>$E(s,n)});return{...o,cellLogs:[...o.cellLogs,...KE(n)]}},setCellIds:(e,n)=>{if(qT(e.cellIds.inOrderIds,n.cellIds))return e;let i={...e.cellData},o={...e.cellRuntime},s={...e.cellHandles};for(let c of n.cellIds)c in e.cellData||(i[c]=Cr({id:c})),c in e.cellRuntime||(o[c]=Sr()),c in e.cellHandles||(s[c]=(0,At.createRef)());return{...e,cellIds:Il.fromWithPreviousShape(n.cellIds,e.cellIds),cellData:i,cellRuntime:o,cellHandles:s}},setCellCodes:(e,n)=>{kn(n.codes.length===n.ids.length,"Expected codes and ids to have the same length");let i={...e},o=({cell:s,code:c,cellId:d})=>{if(!s)return Cr({id:d,code:c,lastCodeRun:n.codeIsStale?null:c,edited:n.codeIsStale&&c.trim().length>0});let f=n.codeIsStale?s.lastCodeRun:c,m=f?f.trim()!==c.trim():!!c;if(s.code.trim()===c.trim())return{...s,code:c,edited:m,lastCodeRun:f};if(!km()){let g=i.cellHandles[d].current;g!=null&&g.editorViewOrNull&&hs(g.editorViewOrNull,c)}return{...s,code:c,edited:m,lastCodeRun:f}};for(let[s,c]of P_(n.ids,n.codes))s===void 0||c===void 0||(i={...i,cellData:{...i.cellData,[s]:o({cell:i.cellData[s],code:c,cellId:s})}});return i},setStdinResponse:(e,n)=>{let{cellId:i,response:o,outputIndex:s}=n;return _s({state:e,cellId:i,cellReducer:c=>{let d=[...c.consoleOutputs],f=d[s];return f.channel==="stdin"?(d[s]={channel:"stdin",mimetype:f.mimetype,data:f.data,timestamp:f.timestamp,response:o},{...c,interrupted:!1,consoleOutputs:d}):(Pe.warn("Expected stdin output"),c)}})},setCells:(e,n)=>{let i=Object.fromEntries(n.map(s=>[s.id,s])),o=Object.fromEntries(n.map(s=>[s.id,Sr()]));return Wy({...e,cellIds:Il.fromIdsAndColumns(n.map(s=>[s.id,s.config.column])),cellData:i,cellRuntime:o,cellHandles:Object.fromEntries(n.map(s=>[s.id,(0,At.createRef)()]))})},moveToNextCell:(e,n)=>{let{cellId:i,before:o,noCreate:s=!1}=n;if(i==="__scratch__")return e;let c=e.cellIds.findWithId(i),d=c.indexOfOrThrow(i),f=o?d-1:d+1,m=f===c.length,g=f===-1;if(m&&!s){let w=ha.create();return{...e,cellIds:e.cellIds.insertId(w,c.id,f),cellData:{...e.cellData,[w]:Cr({id:w})},cellRuntime:{...e.cellRuntime,[w]:Sr()},cellHandles:{...e.cellHandles,[w]:(0,At.createRef)()},scrollKey:w}}if(g&&!s){let w=ha.create();return{...e,cellIds:e.cellIds.insertId(w,c.id,0),cellData:{...e.cellData,[w]:Cr({id:w})},cellRuntime:{...e.cellRuntime,[w]:Sr()},cellHandles:{...e.cellHandles,[w]:(0,At.createRef)()},scrollKey:w}}if((m||g)&&s)return e;if(f>=0&&f<c.length){let w=c.atOrThrow(f);bs({cellId:w,cell:e.cellHandles[w],isCodeHidden:ws(e,w),codeFocus:o?"bottom":"top",variableName:void 0})}return e},markTouched:(e,n)=>{let{cellId:i}=n;if(e.untouchedNewCells.has(i)){let o=new Set(e.untouchedNewCells);return o.delete(i),{...e,untouchedNewCells:o}}return e},scrollToTarget:e=>{let n=e.scrollKey;if(n===null)return e;let i=e.cellIds.findWithId(n),o=i.indexOfOrThrow(n),s=o===i.length-1?i.last():i.atOrThrow(o);return bs({cellId:s,cell:e.cellHandles[s],isCodeHidden:ws(e,s),codeFocus:void 0,variableName:void 0}),{...e,scrollKey:null}},foldAll:e=>(K_(Object.values(e.cellHandles).map(n=>{var i;return(i=n.current)==null?void 0:i.editorView})),e),unfoldAll:e=>(Q_(Object.values(e.cellHandles).map(n=>{var i;return(i=n.current)==null?void 0:i.editorView})),e),clearLogs:e=>({...e,cellLogs:[]}),collapseCell:(e,n)=>{let{cellId:i}=n,o=e.cellIds.findWithId(i),s=o.topLevelIds.map(f=>e.cellRuntime[f].outline),c=Fy(o.indexOfOrThrow(i),s);if(!c)return e;let d=o.atOrThrow(c[1]);return{...e,cellIds:e.cellIds.transformWithCellId(i,f=>f.collapse(i,d)),scrollKey:i}},expandCell:(e,n)=>{let{cellId:i}=n;return{...e,cellIds:e.cellIds.transformWithCellId(i,o=>o.expand(i)),scrollKey:i}},collapseAllCells:e=>({...e,cellIds:e.cellIds.transformAll(n=>{let i=n.topLevelIds.map(m=>e.cellRuntime[m].outline),o=[...n.nodes],s=[],c=[],d=o.length-1;for(;d>=0;){let m=Fy(d,i);if(m){let g=d,w=m[1],_=s.find(T=>T.start<=w&&T.end===w);_&&(w=_.start),s.push({start:g,end:w});let C=n.atOrThrow(g),E=n.atOrThrow(w);c.push({id:C,until:E})}else c.push(null);d--}let f=c.reverse();return n.collapseAll(f)})}),expandAllCells:e=>({...e,cellIds:e.cellIds.transformAll(n=>n.expandAll())}),showCellIfHidden:(e,n)=>{let{cellId:i}=n,o=e.cellIds.findWithId(i),s=o,c=o.findAndExpandDeep(i);return c.equals(s)?e:{...e,cellIds:e.cellIds.transformWithCellId(i,()=>c)}},splitCell:(e,n)=>{var w;let{cellId:i}=n,o=e.cellIds.findWithId(i),s=o.indexOfOrThrow(i),c=e.cellData[i],d=e.cellHandles[i].current;if((d==null?void 0:d.editorView)==null)return e;let{beforeCursorCode:f,afterCursorCode:m}=AE(d.editorView);hs(d.editorView,f);let g=ha.create();return{...e,cellIds:e.cellIds.insertId(g,o.id,s+1),cellData:{...e.cellData,[i]:{...c,code:f,edited:!!f&&f.trim()!==((w=c.lastCodeRun)==null?void 0:w.trim())},[g]:Cr({id:g,code:m,edited:!!m})},cellRuntime:{...e.cellRuntime,[i]:{...e.cellRuntime[i],output:null,consoleOutputs:[]},[g]:Sr()},cellHandles:{...e.cellHandles,[g]:(0,At.createRef)()},scrollKey:g}},undoSplitCell:(e,n)=>{var d;let{cellId:i,snapshot:o}=n,s=e.cellData[i],c=e.cellHandles[i].current;return(c==null?void 0:c.editorView)==null?e:(hs(c.editorView,o),{...e,cellIds:e.cellIds.transformWithCellId(i,f=>{let m=f.indexOfOrThrow(i)+1;return f.deleteAtIndex(m)}),cellData:{...e.cellData,[i]:{...s,code:o,edited:!!o&&(o==null?void 0:o.trim())!==((d=s.lastCodeRun)==null?void 0:d.trim())}},cellRuntime:{...e.cellRuntime,[i]:{...e.cellRuntime[i],output:null,consoleOutputs:[]}},cellHandles:{...e.cellHandles}})},clearCellOutput:(e,n)=>{let{cellId:i}=n;return _s({state:e,cellId:i,cellReducer:o=>({...o,output:null,consoleOutputs:[]})})},clearCellConsoleOutput:(e,n)=>{let{cellId:i}=n;return _s({state:e,cellId:i,cellReducer:o=>({...o,consoleOutputs:o.consoleOutputs.filter(s=>s.channel==="stdin"&&s.response==null)})})},clearAllCellOutputs:e=>{let n={...e.cellRuntime};for(let i of e.cellIds.inOrderIds)n[i]={...n[i],output:null,consoleOutputs:[]};return{...e,cellRuntime:n}},addSetupCellIfDoesntExist:(e,n)=>{let{code:i}=n;return i??(i="# Initialization code that runs before all other cells"),"setup"in e.cellIds?{...e,scrollKey:Er}:{...e,cellIds:e.cellIds.insertId(Er,e.cellIds.atOrThrow(0).id,0),cellData:{...e.cellData,[Er]:Cr({id:Er,name:Er,code:i,edited:!!i})},cellRuntime:{...e.cellRuntime,[Er]:Sr()},cellHandles:{...e.cellHandles,[Er]:(0,At.createRef)()},scrollKey:Er}}}));function ws(e,n){return!!e.cellData[n].config.hide_code&&!e.untouchedNewCells.has(n)}function _s({state:e,cellId:n,cellReducer:i}){return n in e.cellRuntime?{...e,cellRuntime:{...e.cellRuntime,[n]:i(e.cellRuntime[n])}}:(Pe.warn(`Cell ${n} not found in state`),e)}function xs({state:e,cellId:n,cellReducer:i}){return n in e.cellData?{...e,cellData:{...e.cellData,[n]:i(e.cellData[n])}}:(Pe.warn(`Cell ${n} not found in state`),e)}zw=function(e){let n=e.cellData,i={column:null};return e.cellIds.getColumns().length>1?e.cellIds.getColumns().flatMap((o,s)=>o.inOrderIds.map((c,d)=>{let f={...i};return d===0&&(f.column=s),{...n[c].config,...f}})):e.cellIds.getColumns().flatMap(o=>o.inOrderIds.map(s=>({...n[s].config,...i})))};let Ky;Gu=Fe(e=>e(ft).cellIds),m_=Fe(e=>e(Gu).hasOnlyOneId()),Dw=Fe(e=>Gm(e(ft)).length>0),d_=Fe(e=>Xm(e(ft)).length>0),a_=Fe(e=>Z_(e(ft))),Nw=Fe(e=>X_(e(ft))),Wu=Fe(e=>{let{cellIds:n,cellRuntime:i,cellData:o}=e(ft);return n.inOrderIds.map(s=>{var f;let c=i[s],{name:d}=o[s];if(Du((f=c.output)==null?void 0:f.mimetype)){kn(Array.isArray(c.output.data),"Expected array data");let m=c.output.data.filter(g=>!g.type.includes("ancestor"));if(m.length>0)return{output:{...c.output,data:m},cellId:s,cellName:d}}return null}).filter(Boolean)}),B2=Fe(e=>{let{cellIds:n,cellRuntime:i}=e(ft);return qE(n.inOrderIds.map(o=>i[o].outline))}),Pw=Fe(e=>e(Wu).length),Ky=zT(Fe(e=>{let{cellIds:n,cellData:i}=e(ft);return ni.fromEntries(n.inOrderIds.map(o=>{var s;return[o,(s=i[o])==null?void 0:s.name]}))}));var e3=Fe(e=>e(ft).scrollKey);U2=()=>Kn(ft),$w=()=>Kn(Gu),ow=()=>Kn(Ky),Kw=()=>Kn(Wu),aw=()=>Kn(ft).cellLogs,ew=()=>Kn(e3),Bu=()=>st.get(ft),Xw=()=>{let{cellIds:e,cellData:n}=st.get(ft);return e.inOrderIds.map(i=>{var o;return(o=n[i])==null?void 0:o.name}).filter(Boolean)};var t3=F_(A_(ft,e=>e.cellIds.inOrderIds.map(n=>e.cellData[n])));sw=()=>o2(t3),hw=Fe(e=>G_(e(ft))),f_=Fe(e=>J_(e(ft))),gw=Fe(e=>e(ft).cellIds.colLength),Bw=Fe(e=>e(ft).cellIds.idLength>0),Aw=Fe(e=>e(ft).cellIds.getColumnIds()),Hu=ad(e=>Fe(n=>n(ft).cellData[e]));var Qy=ad(e=>Fe(n=>n(ft).cellRuntime[e]));const Gy=ad(e=>Fe(n=>n(ft).cellHandles[e]));function n3(e){Hu.remove(e),Qy.remove(e),Gy.remove(e)}$2=e=>{let n=(0,lf.c)(2),i;return n[0]===e?i=n[1]:(i=Hu(e),n[0]=e,n[1]=i),Kn(i)},uw=e=>{let n=(0,lf.c)(2),i;return n[0]===e?i=n[1]:(i=Qy(e),n[0]=e,n[1]=i),Kn(i)},q2=e=>{let n=(0,lf.c)(2),i;return n[0]===e?i=n[1]:(i=Gy(e),n[0]=e,n[1]=i),Kn(i)},zm=()=>{let{cellIds:e,cellHandles:n}=st.get(ft);return e.inOrderIds.map(i=>{var o,s;return(s=(o=n[i])==null?void 0:o.current)==null?void 0:s.editorViewOrNull}).filter(Boolean)},e_=e=>{var i;let{cellHandles:n}=st.get(ft);return(i=n[e].current)==null?void 0:i.editorView},l_=function(e){let{cellIds:n,cellData:i,cellRuntime:o}=e;return n.getColumns().flatMap(s=>s.topLevelIds.map(c=>({...i[c],...o[c]})))},Gw=function(e){return Fe(n=>n(ft).untouchedNewCells.has(e))};function r3(e){let n=Fe(i=>{let o=i(ft).cellRuntime[e];if(!o||o.status!=="idle")return;let s=o.consoleOutputs;if(!s||s.length===0)return;let c=s.find(d=>d.mimetype==="application/vnd.marimo+traceback");if(c)return c.data});return Fe(i=>{let o=i(n);if(o)return Im(o)})}W2=function(){return Uy()}})();export{j2 as $,xu as $n,Pl as $t,q2 as A,z2 as An,Fn as Ar,ku as At,mm as B,Cu as Bn,ur as Br,F2 as Bt,B2 as C,Ll as Cn,V2 as Cr,H2 as Ct,$2 as D,hm as Dn,fs as Dr,lo as Dt,W2 as E,gm as En,Su as Er,Ml as Et,U2 as F,K2 as Fn,Q2 as Fr,ym as Ft,vm as G,bm as Gn,wm as Gr,G2 as Gt,J2 as H,X2 as Hn,Y2 as Hr,Z2 as Ht,ew as I,_m as In,tw as Ir,xm as It,km as J,nw as Jn,Eu as Jt,rw as K,Tu as Kn,Cm as Kr,iw as Kt,Cr as L,Sm as Ln,Em as Lr,Tm as Lt,aw as M,Li as Mn,Ru as Mr,ps as Mt,ow as N,Nl as Nn,Al as Nr,Rm as Nt,sw as O,lw as On,cw as Or,Om as Ot,uw as P,dw as Pn,Ou as Pr,Dm as Pt,Du as Q,fw as Qn,pw as Qt,Sr as R,Pu as Rn,ha as Rr,mw as Rt,hw as S,Pm as Sn,Il as Sr,ga as St,gw as T,yw as Tn,vw as Tr,bw as Tt,Lm as U,Lu as Un,Mm as Ur,Mu as Ut,ww as V,_w as Vn,Nu as Vr,Nm as Vt,Am as W,Au as Wn,xw as Wr,co as Wt,kw as X,Cw as Xn,Sw as Xt,Ew as Y,Tw as Yn,Rw as Yt,Iu as Z,ya as Zn,Ow as Zt,Dw as _,wR as __tla,ai as _n,Im as _r,dr as _t,Pw as a,Lw as an,uo as ar,Mw as at,Nw as b,jm as bn,va as br,ju as bt,Aw as c,qm as cn,Iw as cr,qu as ct,zm as d,Fm as dn,Bm as dr,jw as dt,qw as en,Vm as er,Hm as et,zw as f,jl as fn,zu as fr,Fw as ft,Bw as g,Fu as gn,Vw as gr,ql as gt,Bu as h,ba as hn,Vu as hr,$m as ht,Hu as i,Wm as in,Ot as ir,Hw as it,$w as j,Ww as jn,Uw as jr,$u as jt,Kw as k,Qw as kn,ms as kr,fo as kt,Gw as l,Jw as ln,Um as lr,Km as lt,Xw as m,zl as mn,po as mr,Qm as mt,Er as n,Mi as nn,Yw as nr,oi as nt,Wu as o,Zw as on,Gm as or,Tr as ot,e_ as p,Uu as pn,t_ as pr,n_ as pt,Jm as q,r_ as qn,Ku as qr,i_ as qt,a_ as r,mo as rn,Qu as rr,hs as rt,Gu as s,Ju as sn,Xm as sr,o_ as st,gs as t,s_ as tn,Fl as tr,Ym as tt,l_ as u,c_ as un,u_ as ur,Zm as ut,d_ as v,Xu as vn,eh as vr,Yu as vt,f_ as w,Zu as wn,th as wr,ed as wt,ft as x,nh as xn,rh as xr,p_ as xt,m_ as y,td as yn,ih as yr,h_ as yt,g_ as z,y_ as zn,v_ as zr,b_ as zt};
