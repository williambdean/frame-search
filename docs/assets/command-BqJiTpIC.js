import{s as ee}from"./chunk-DZLz74EQ.js";import{t as De}from"./react-BcIddLXZ.js";import{n as Pe,t as $e}from"./jsx-runtime-DvsdsEjx.js";import{a as V}from"./useEventListener-C5BS4xuN.js";import{t as P}from"./cn-C5VTNYKf.js";import{Ft as Fe}from"./input-BPw9p_8N.js";import{h as A,u as $}from"./Combination-DR4iFoRS.js";import{c as Le,n as Ke,o as Oe,t as Ve}from"./menu-items-DOc2hwO2.js";import{_ as qe,g as ze,h as Be,p as Ge}from"./alert-dialog-DM1h8RhU.js";import{n as He,t as Ue}from"./dialog-CEqVOFHc.js";import{t as Te}from"./strings-DSmr2a_p.js";var pe=1,We=.9,Je=.8,Qe=.17,te=.1,re=.999,Xe=.9999,Ye=.99,Ze=/[\\\/_+.#"@\[\(\{&]/,et=/[\\\/_+.#"@\[\(\{&]/g,tt=/[\s-]/,ve=/[\s-]/g;function ae(t,r,e,n,a,l,o){if(l===r.length)return a===t.length?pe:Ye;var m=`${a},${l}`;if(o[m]!==void 0)return o[m];for(var p=n.charAt(l),c=e.indexOf(p,a),f=0,v,w,x,I;c>=0;)v=ae(t,r,e,n,c+1,l+1,o),v>f&&(c===a?v*=pe:Ze.test(t.charAt(c-1))?(v*=Je,x=t.slice(a,c-1).match(et),x&&a>0&&(v*=re**+x.length)):tt.test(t.charAt(c-1))?(v*=We,I=t.slice(a,c-1).match(ve),I&&a>0&&(v*=re**+I.length)):(v*=Qe,a>0&&(v*=re**+(c-a))),t.charAt(c)!==r.charAt(l)&&(v*=Xe)),(v<te&&e.charAt(c-1)===n.charAt(l+1)||n.charAt(l+1)===n.charAt(l)&&e.charAt(c-1)!==n.charAt(l))&&(w=ae(t,r,e,n,c+1,l+2,o),w*te>v&&(v=w*te)),v>f&&(f=v),c=e.indexOf(p,c+1);return o[m]=f,f}function he(t){return t.toLowerCase().replace(ve," ")}function rt(t,r,e){return t=e&&e.length>0?`${t+" "+e.join(" ")}`:t,ae(t,r,he(t),he(r),0,0,{})}var u=ee(De(),1),q='[cmdk-group=""]',ne='[cmdk-group-items=""]',at='[cmdk-group-heading=""]',ge='[cmdk-item=""]',be=`${ge}:not([aria-disabled="true"])`,le="cmdk-item-select",F="data-value",nt=(t,r,e)=>rt(t,r,e),ye=u.createContext(void 0),z=()=>u.useContext(ye),we=u.createContext(void 0),ie=()=>u.useContext(we),xe=u.createContext(void 0),ke=u.forwardRef((t,r)=>{let e=L(()=>({search:"",value:t.value??t.defaultValue??"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}})),n=L(()=>new Set),a=L(()=>new Map),l=L(()=>new Map),o=L(()=>new Set),m=Se(t),{label:p,children:c,value:f,onValueChange:v,filter:w,shouldFilter:x,loop:I,disablePointerSelection:Me=!1,vimBindings:H=!0,...B}=t,U=$(),T=$(),K=$(),b=u.useRef(null),N=pt();M(()=>{if(f!==void 0){let i=f.trim();e.current.value=i,S.emit()}},[f]),M(()=>{N(6,ce)},[]);let S=u.useMemo(()=>({subscribe:i=>(o.current.add(i),()=>o.current.delete(i)),snapshot:()=>e.current,setState:(i,d,h)=>{var R;var s,g,y;if(!Object.is(e.current[i],d)){if(e.current[i]=d,i==="search")X(),J(),N(1,Q);else if(i==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let C=document.getElementById(K);C?C.focus():(s=document.getElementById(U))==null||s.focus()}if(N(7,()=>{var C;e.current.selectedItemId=(C=D())==null?void 0:C.id,S.emit()}),h||N(5,ce),((R=m.current)==null?void 0:R.value)!==void 0){let C=d??"";(y=(g=m.current).onValueChange)==null||y.call(g,C);return}}S.emit()}},emit:()=>{o.current.forEach(i=>i())}}),[]),W=u.useMemo(()=>({value:(i,d,h)=>{var s;d!==((s=l.current.get(i))==null?void 0:s.value)&&(l.current.set(i,{value:d,keywords:h}),e.current.filtered.items.set(i,ue(d,h)),N(2,()=>{J(),S.emit()}))},item:(i,d)=>(n.current.add(i),d&&(a.current.has(d)?a.current.get(d).add(i):a.current.set(d,new Set([i]))),N(3,()=>{X(),J(),e.current.value||Q(),S.emit()}),()=>{l.current.delete(i),n.current.delete(i),e.current.filtered.items.delete(i);let h=D();N(4,()=>{X(),(h==null?void 0:h.getAttribute("id"))===i&&Q(),S.emit()})}),group:i=>(a.current.has(i)||a.current.set(i,new Set),()=>{l.current.delete(i),a.current.delete(i)}),filter:()=>m.current.shouldFilter,label:p||t["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:U,inputId:K,labelId:T,listInnerRef:b}),[]);function ue(i,d){var s;let h=((s=m.current)==null?void 0:s.filter)??nt;return i?h(i,e.current.search,d):0}function J(){if(!e.current.search||m.current.shouldFilter===!1)return;let i=e.current.filtered.items,d=[];e.current.filtered.groups.forEach(s=>{let g=a.current.get(s),y=0;g.forEach(R=>{let C=i.get(R);y=Math.max(C,y)}),d.push([s,y])});let h=b.current;O().sort((s,g)=>{let y=s.getAttribute("id"),R=g.getAttribute("id");return(i.get(R)??0)-(i.get(y)??0)}).forEach(s=>{let g=s.closest(ne);g?g.appendChild(s.parentElement===g?s:s.closest(`${ne} > *`)):h.appendChild(s.parentElement===h?s:s.closest(`${ne} > *`))}),d.sort((s,g)=>g[1]-s[1]).forEach(s=>{var y;let g=(y=b.current)==null?void 0:y.querySelector(`${q}[${F}="${encodeURIComponent(s[0])}"]`);g==null||g.parentElement.appendChild(g)})}function Q(){var d;let i=(d=O().find(h=>h.getAttribute("aria-disabled")!=="true"))==null?void 0:d.getAttribute(F);S.setState("value",i||void 0)}function X(){var d,h;if(!e.current.search||m.current.shouldFilter===!1){e.current.filtered.count=n.current.size;return}e.current.filtered.groups=new Set;let i=0;for(let s of n.current){let g=ue(((d=l.current.get(s))==null?void 0:d.value)??"",((h=l.current.get(s))==null?void 0:h.keywords)??[]);e.current.filtered.items.set(s,g),g>0&&i++}for(let[s,g]of a.current)for(let y of g)if(e.current.filtered.items.get(y)>0){e.current.filtered.groups.add(s);break}e.current.filtered.count=i}function ce(){var h,s;var i;let d=D();d&&(((h=d.parentElement)==null?void 0:h.firstChild)===d&&((i=(s=d.closest(q))==null?void 0:s.querySelector(at))==null||i.scrollIntoView({block:"nearest"})),d.scrollIntoView({block:"nearest"}))}function D(){var i;return(i=b.current)==null?void 0:i.querySelector(`${ge}[aria-selected="true"]`)}function O(){var i;return Array.from(((i=b.current)==null?void 0:i.querySelectorAll(be))||[])}function Y(i){let d=O()[i];d&&S.setState("value",d.getAttribute(F))}function Z(i){var d;let h=D(),s=O(),g=s.findIndex(R=>R===h),y=s[g+i];(d=m.current)!=null&&d.loop&&(y=g+i<0?s[s.length-1]:g+i===s.length?s[0]:s[g+i]),y&&S.setState("value",y.getAttribute(F))}function se(i){var s;let d=(s=D())==null?void 0:s.closest(q),h;for(;d&&!h;)d=i>0?mt(d,q):ft(d,q),h=d==null?void 0:d.querySelector(be);h?S.setState("value",h.getAttribute(F)):Z(i)}let de=()=>Y(O().length-1),me=i=>{i.preventDefault(),i.metaKey?de():i.altKey?se(1):Z(1)},fe=i=>{i.preventDefault(),i.metaKey?Y(0):i.altKey?se(-1):Z(-1)};return u.createElement(A.div,{ref:r,tabIndex:-1,...B,"cmdk-root":"",onKeyDown:i=>{var d;(d=B.onKeyDown)==null||d.call(B,i);let h=i.nativeEvent.isComposing||i.keyCode===229;if(!(i.defaultPrevented||h))switch(i.key){case"n":case"j":H&&i.ctrlKey&&me(i);break;case"ArrowDown":me(i);break;case"p":case"k":H&&i.ctrlKey&&fe(i);break;case"ArrowUp":fe(i);break;case"Home":i.preventDefault(),Y(0);break;case"End":i.preventDefault(),de();break;case"Enter":{i.preventDefault();let s=D();if(s){let g=new Event(le);s.dispatchEvent(g)}}}}},u.createElement("label",{"cmdk-label":"",htmlFor:W.inputId,id:W.labelId,style:ht},p),G(t,i=>u.createElement(we.Provider,{value:S},u.createElement(ye.Provider,{value:W},i))))}),lt=u.forwardRef((t,r)=>{var K;let e=$(),n=u.useRef(null),a=u.useContext(xe),l=z(),o=Se(t),m=((K=o.current)==null?void 0:K.forceMount)??(a==null?void 0:a.forceMount);M(()=>{if(!m)return l.item(e,a==null?void 0:a.id)},[m]);let p=Ne(e,n,[t.value,t.children,n],t.keywords),c=ie(),f=_(b=>b.value&&b.value===p.current),v=_(b=>m||l.filter()===!1?!0:b.search?b.filtered.items.get(e)>0:!0);u.useEffect(()=>{let b=n.current;if(!(!b||t.disabled))return b.addEventListener(le,w),()=>b.removeEventListener(le,w)},[v,t.onSelect,t.disabled]);function w(){var b,N;x(),(N=(b=o.current).onSelect)==null||N.call(b,p.current)}function x(){c.setState("value",p.current,!0)}if(!v)return null;let{disabled:I,value:Me,onSelect:H,forceMount:B,keywords:U,...T}=t;return u.createElement(A.div,{ref:V(n,r),...T,id:e,"cmdk-item":"",role:"option","aria-disabled":!!I,"aria-selected":!!f,"data-disabled":!!I,"data-selected":!!f,onPointerMove:I||l.getDisablePointerSelection()?void 0:x,onClick:I?void 0:w},t.children)}),it=u.forwardRef((t,r)=>{let{heading:e,children:n,forceMount:a,...l}=t,o=$(),m=u.useRef(null),p=u.useRef(null),c=$(),f=z(),v=_(x=>a||f.filter()===!1?!0:x.search?x.filtered.groups.has(o):!0);M(()=>f.group(o),[]),Ne(o,m,[t.value,t.heading,p]);let w=u.useMemo(()=>({id:o,forceMount:a}),[a]);return u.createElement(A.div,{ref:V(m,r),...l,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},e&&u.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:c},e),G(t,x=>u.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":e?c:void 0},u.createElement(xe.Provider,{value:w},x))))}),ot=u.forwardRef((t,r)=>{let{alwaysRender:e,...n}=t,a=u.useRef(null),l=_(o=>!o.search);return!e&&!l?null:u.createElement(A.div,{ref:V(a,r),...n,"cmdk-separator":"",role:"separator"})}),ut=u.forwardRef((t,r)=>{let{onValueChange:e,...n}=t,a=t.value!=null,l=ie(),o=_(c=>c.search),m=_(c=>c.selectedItemId),p=z();return u.useEffect(()=>{t.value!=null&&l.setState("search",t.value)},[t.value]),u.createElement(A.input,{ref:r,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":m,id:p.inputId,type:"text",value:a?t.value:o,onChange:c=>{a||l.setState("search",c.target.value),e==null||e(c.target.value)}})}),Ee=u.forwardRef((t,r)=>{let{children:e,label:n="Suggestions",...a}=t,l=u.useRef(null),o=u.useRef(null),m=_(c=>c.selectedItemId),p=z();return u.useEffect(()=>{if(o.current&&l.current){let c=o.current,f=l.current,v,w=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let x=c.offsetHeight;f.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return w.observe(c),()=>{cancelAnimationFrame(v),w.unobserve(c)}}},[]),u.createElement(A.div,{ref:V(l,r),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":n,id:p.listId},G(t,c=>u.createElement("div",{ref:V(o,p.listInnerRef),"cmdk-list-sizer":""},c)))}),ct=u.forwardRef((t,r)=>{let{open:e,onOpenChange:n,overlayClassName:a,contentClassName:l,container:o,...m}=t;return u.createElement(qe,{open:e,onOpenChange:n},u.createElement(ze,{container:o},u.createElement(Be,{"cmdk-overlay":"",className:a}),u.createElement(Ge,{"aria-label":t.label,"cmdk-dialog":"",className:l},u.createElement(ke,{ref:r,...m}))))}),st=u.forwardRef((t,r)=>_(e=>e.filtered.count===0)?u.createElement(A.div,{ref:r,...t,"cmdk-empty":"",role:"presentation"}):null),dt=u.forwardRef((t,r)=>{let{progress:e,children:n,label:a="Loading...",...l}=t;return u.createElement(A.div,{ref:r,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},G(t,o=>u.createElement("div",{"aria-hidden":!0},o)))}),k=Object.assign(ke,{List:Ee,Item:lt,Input:ut,Group:it,Separator:ot,Dialog:ct,Empty:st,Loading:dt});function mt(t,r){let e=t.nextElementSibling;for(;e;){if(e.matches(r))return e;e=e.nextElementSibling}}function ft(t,r){let e=t.previousElementSibling;for(;e;){if(e.matches(r))return e;e=e.previousElementSibling}}function Se(t){let r=u.useRef(t);return M(()=>{r.current=t}),r}var M=typeof window>"u"?u.useEffect:u.useLayoutEffect;function L(t){let r=u.useRef();return r.current===void 0&&(r.current=t()),r}function _(t){let r=ie(),e=()=>t(r.snapshot());return u.useSyncExternalStore(r.subscribe,e,e)}function Ne(t,r,e,n=[]){let a=u.useRef(),l=z();return M(()=>{var o;let m=(()=>{var c;for(let f of e){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(c=f.current.textContent)==null?void 0:c.trim():a.current}})(),p=n.map(c=>c.trim());l.value(t,m,p),(o=r.current)==null||o.setAttribute(F,m),a.current=m}),a}var pt=()=>{let[t,r]=u.useState(),e=L(()=>new Map);return M(()=>{e.current.forEach(n=>n()),e.current=new Map},[t]),(n,a)=>{e.current.set(n,a),r({})}};function vt(t){let r=t.type;return typeof r=="function"?r(t.props):"render"in r?r.render(t.props):t}function G({asChild:t,children:r},e){return t&&u.isValidElement(r)?u.cloneElement(vt(r),{ref:r.ref},e(r.props.children)):e(r)}var ht={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},j=ee(Pe(),1),E=ee($e(),1),oe=u.forwardRef((t,r)=>{let e=(0,j.c)(9),n,a;e[0]===t?(n=e[1],a=e[2]):({className:n,...a}=t,e[0]=t,e[1]=n,e[2]=a);let l;e[3]===n?l=e[4]:(l=P("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),e[3]=n,e[4]=l);let o;return e[5]!==a||e[6]!==r||e[7]!==l?(o=(0,E.jsx)(k,{ref:r,className:l,...a}),e[5]=a,e[6]=r,e[7]=l,e[8]=o):o=e[8],o});oe.displayName=k.displayName;var gt=t=>{let r=(0,j.c)(8),e,n;r[0]===t?(e=r[1],n=r[2]):({children:e,...n}=t,r[0]=t,r[1]=e,r[2]=n);let a;r[3]===e?a=r[4]:(a=(0,E.jsx)(He,{className:"overflow-hidden p-0 shadow-2xl",usePortal:!0,children:(0,E.jsx)(oe,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})}),r[3]=e,r[4]=a);let l;return r[5]!==n||r[6]!==a?(l=(0,E.jsx)(Ue,{...n,children:a}),r[5]=n,r[6]=a,r[7]=l):l=r[7],l},Ie=u.forwardRef((t,r)=>{let e=(0,j.c)(19),n,a,l,o;e[0]===t?(n=e[1],a=e[2],l=e[3],o=e[4]):({className:n,icon:a,rootClassName:o,...l}=t,e[0]=t,e[1]=n,e[2]=a,e[3]=l,e[4]=o);let m;e[5]===o?m=e[6]:(m=P("flex items-center border-b px-3",o),e[5]=o,e[6]=m);let p;e[7]===a?p=e[8]:(p=a===null?null:(0,E.jsx)(Fe,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e[7]=a,e[8]=p);let c;e[9]===n?c=e[10]:(c=P("placeholder:text-foreground-muted flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",n),e[9]=n,e[10]=c);let f;e[11]!==l||e[12]!==r||e[13]!==c?(f=(0,E.jsx)(k.Input,{ref:r,className:c,...l}),e[11]=l,e[12]=r,e[13]=c,e[14]=f):f=e[14];let v;return e[15]!==m||e[16]!==p||e[17]!==f?(v=(0,E.jsxs)("div",{className:m,"cmdk-input-wrapper":"",children:[p,f]}),e[15]=m,e[16]=p,e[17]=f,e[18]=v):v=e[18],v});Ie.displayName=k.Input.displayName;var Ce=u.forwardRef((t,r)=>{let e=(0,j.c)(9),n,a;e[0]===t?(n=e[1],a=e[2]):({className:n,...a}=t,e[0]=t,e[1]=n,e[2]=a);let l;e[3]===n?l=e[4]:(l=P("max-h-[300px] overflow-y-auto overflow-x-hidden",n),e[3]=n,e[4]=l);let o;return e[5]!==a||e[6]!==r||e[7]!==l?(o=(0,E.jsx)(k.List,{ref:r,className:l,...a}),e[5]=a,e[6]=r,e[7]=l,e[8]=o):o=e[8],o});Ce.displayName=k.List.displayName;var Re=u.forwardRef((t,r)=>{let e=(0,j.c)(3),n;return e[0]!==t||e[1]!==r?(n=(0,E.jsx)(k.Empty,{ref:r,className:"py-6 text-center text-sm",...t}),e[0]=t,e[1]=r,e[2]=n):n=e[2],n});Re.displayName=k.Empty.displayName;var Ae=u.forwardRef((t,r)=>{let e=(0,j.c)(9),n,a;e[0]===t?(n=e[1],a=e[2]):({className:n,...a}=t,e[0]=t,e[1]=n,e[2]=a);let l;e[3]===n?l=e[4]:(l=P("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),e[3]=n,e[4]=l);let o;return e[5]!==a||e[6]!==r||e[7]!==l?(o=(0,E.jsx)(k.Group,{ref:r,className:l,...a}),e[5]=a,e[6]=r,e[7]=l,e[8]=o):o=e[8],o});Ae.displayName=k.Group.displayName;var _e=u.forwardRef((t,r)=>{let e=(0,j.c)(9),n,a;e[0]===t?(n=e[1],a=e[2]):({className:n,...a}=t,e[0]=t,e[1]=n,e[2]=a);let l;e[3]===n?l=e[4]:(l=Le({className:n}),e[3]=n,e[4]=l);let o;return e[5]!==a||e[6]!==r||e[7]!==l?(o=(0,E.jsx)(k.Separator,{ref:r,className:l,...a}),e[5]=a,e[6]=r,e[7]=l,e[8]=o):o=e[8],o});_e.displayName=k.Separator.displayName;var je=u.forwardRef((t,r)=>{let e=(0,j.c)(17),n,a,l,o,m;if(e[0]!==r||e[1]!==t){let{className:c,variant:f,inset:v,...w}=t;n=k.Item,a=r,e[7]!==c||e[8]!==v||e[9]!==f?(l=P(Oe({variant:f,inset:v}).replace(Ve,"data-[disabled=false]:pointer-events-all data-[disabled=false]:opacity-100 data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50"),c),e[7]=c,e[8]=v,e[9]=f,e[10]=l):l=e[10],o=w,m=Te.htmlEscape(w.value),e[0]=r,e[1]=t,e[2]=n,e[3]=a,e[4]=l,e[5]=o,e[6]=m}else n=e[2],a=e[3],l=e[4],o=e[5],m=e[6];let p;return e[11]!==n||e[12]!==a||e[13]!==l||e[14]!==o||e[15]!==m?(p=(0,E.jsx)(n,{ref:a,className:l,...o,value:m}),e[11]=n,e[12]=a,e[13]=l,e[14]=o,e[15]=m,e[16]=p):p=e[16],p});je.displayName=k.Item.displayName;var bt=Ke;export{Ie as a,_e as c,Ae as i,bt as l,gt as n,je as o,Re as r,Ce as s,oe as t,Ee as u};
